<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    
    <title>Daily Deen | Prayer Times, Quran, Qibla & Serenity</title>
    <meta name="title" content="Daily Deen | Your Digital Islamic Companion">
    <meta name="description" content="A privacy-focused Islamic dashboard featuring accurate Prayer Times, Al-Quran reading, Qibla direction, daily Duas, and a Serenity station for focus and sleep.">
    <meta name="keywords" content="Prayer Times, Quran, Qibla Finder, Islamic App, Daily Dua, Ramadan Tracker, Muslim Dashboard">
    <meta name="robots" content="index, follow">
    <meta name="theme-color" content="#0f172a">

    <meta property="og:type" content="website">
    <meta property="og:url" content="https://dailydeen.site/">
    <meta property="og:title" content="Daily Deen | Your Digital Sanctuary">
    <meta property="og:description" content="Accurate Prayer Times, Quran, and Mindfulness for the modern Muslim. Ad-free and privacy-focused.">
    <meta property="og:image" content="https://your-website-url.com/preview-image.jpg">

    <meta property="twitter:card" content="summary_large_image">
    <meta property="twitter:title" content="Daily Deen">
    <meta property="twitter:description" content="Accurate Prayer Times, Quran, and Mindfulness for the modern Muslim.">
    <link rel="apple-touch-icon" href="icon(2).png">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="canonical" href="https://dailydeen.site/">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link rel="manifest" href="manifest.json">
    <link href="https://fonts.googleapis.com/css2?family=Amiri:ital,wght@0,400;0,700;1,400&family=Outfit:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link rel="icon" type="image/svg+xml" href="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'%3E%3Cdefs%3E%3ClinearGradient id='gold' x1='0%25' y1='0%25' x2='100%25' y2='100%25'%3E%3Cstop offset='0%25' stop-color='%23fbbf24'/%3E%3Cstop offset='100%25' stop-color='%23d97706'/%3E%3C/linearGradient%3E%3C/defs%3E%3Crect width='100' height='100' rx='20' fill='%2309090b'/%3E%3Cpath d='M50,15 C28,15 10,33 10,55 C10,77 28,95 50,95 C54.5,95 59,94 63,93 C55,91 48,87 43,81 C38,75 36,68 36,60 C36,48 43,37 53,31 C52,31 51,31 50,31 C36.5,31 25.5,42 25.5,55.5 C25.5,69 36.5,80 50,80 C55,80 59,79 63,76 C65,79 68,82 71,84 C65,88 58,90 50,90 C31,90 15,75 15,55 C15,36 31,20 50,20 C58,20 65,22 71,26 C66,29 62,34 60,39 C65,37 71,36 77,36 C79,36 81,36 83,36 C85,30 84,22 80,16 C72,21 62,24 52,24 L50,15 Z' fill='url(%23gold)'/%3E%3C/svg%3E">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/gsap.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/ScrollTrigger.min.js"></script>
<script src="https://unpkg.com/lenis@1.0.45/dist/lenis.min.js"></script>
<script src="https://unpkg.com/split-type"></script>
<script src="https://html2canvas.hertzen.com/dist/html2canvas.min.js"></script>

<style>
/* =========================================
   1. THEME ENGINE (BRIGHTER DARK MODE)
   ========================================= */
:root {
    /* Refined Dark Mode Backgrounds */
    --bg-body: #09090b; 
    --bg-card: rgba(24, 24, 27, 0.6); 
    --bg-nav: rgba(9, 9, 11, 0.9);
    --border: rgba(255, 255, 255, 0.15); /* Slightly clearer borders */
    
    /* ðŸ”´ TEXT COLORS (BRIGHTENED) */
    --text-primary: #ffffff;       /* Pure White (Unchanged) */
    --text-secondary: #e2e8f0;     /* WAS #a1a1aa (Gray) -> NOW Silver (Much Brighter) */
    
    /* ðŸ”´ GOLD ACCENT (MORE VIBRANT) */
    --brand-gold: #f59e0b;        
    --brand-gold-glow: rgba(245, 158, 11, 0.35);
    
    /* Serenity Green */
    --brand-green: #6ee7b7;        /* Brighter Mint Green */
    --brand-green-glow: rgba(110, 231, 183, 0.25);
    
    --shadow-card: 0 8px 32px 0 rgba(0, 0, 0, 0.3);
}    

    /* RAMADAN THEME OVERRIDES */
    body.ramadan-mode {
        --bg-body: #2e1065; /* Deep Purple */
        --bg-card: rgba(88, 28, 135, 0.5);
        --bg-nav: rgba(19, 7, 36, 0.95);
        --brand-gold: #fbbf24;
        --brand-green: #d8b4fe; /* Lavender Accent */
        --text-secondary: #e9d5ff;
        background-image: radial-gradient(at 50% 0%, rgba(192, 132, 252, 0.3) 0, transparent 50%);
    }
    
    /* Toggle Button Style */
    /* UPDATED BUTTON STYLE - Removed 'absolute' so it fits in the widget */
    .ramadan-btn {
        background: var(--bg-card); 
        border: 1px solid var(--brand-gold);
        color: var(--brand-gold); 
        
        /* Layout & Spacing */
        padding: 6px 12px;
        border-radius: 20px;
        cursor: pointer; 
        display: flex; 
        align-items: center; 
        gap: 6px;
        margin-bottom: 4px; /* Pushes the text down slightly */
        
        /* Font Settings */
        font-weight: 600;
        font-size: 0.8rem;
        transition: 0.3s;
    }
    
    .ramadan-btn:hover { background: rgba(251, 191, 36, 0.1); }
    .ramadan-btn.active { background: var(--brand-gold); color: #000; }

    /* --- VISIBLE RAMADAN BADGE --- */
/* REPLACE YOUR EXISTING .ramadan-widget CSS WITH THIS */
.ramadan-widget {
    /* Layout & Centering */
    position: relative;
    display: flex; 
    flex-direction: column; 
    align-items: center; /* Centers content inside */
    width: fit-content;
    margin: 25px auto 0 auto; /* Top margin separates it from dates */
    
    /* Visuals */
    background: rgba(0, 0, 0, 0.4); 
    backdrop-filter: blur(10px);
    padding: 10px 25px;
    border-radius: 50px; 
    border: 1px solid var(--brand-gold);
    box-shadow: 0 0 15px var(--brand-gold-glow);
    z-index: 10;
    
    /* IMPORTANT: Removing 'top' and 'right' so it stays dead center */
    top: auto; 
    right: auto;
}
.ramadan-widget:hover { transform: scale(1.02); }
.ramadan-btn.active { background: var(--brand-gold); color: #000;}

.ramadan-days-left {
    font-size: 0.9rem; /* Larger text */
    color: var(--brand-gold); /* Gold text */
    font-weight: 700;
    margin-right: 0;
    margin-top: 5px;
    text-shadow: 0 0 10px rgba(251, 191, 36, 0.4);
}

   
/* --- WARM GLASS LIGHT MODE (The "Brown" Theme) --- */
body.light-theme {
    /* 1. Background: Warm Sandy/Beige Tone (Restores the "Brown" feel) */
    --bg-body: #f5f0e6; 
    
    /* 2. THE GLASS EFFECT: 60% Opacity Warm White */
    /* This allows the sandy background to blur through */
    --bg-card: rgba(255, 252, 245, 0.6); 
    
    /* 3. Navigation: Slightly more solid for readability */
    --bg-nav: rgba(255, 252, 245, 0.8);
    
    /* 4. Borders: A subtle "Coffee" outline to define the glass */
    --border: rgba(120, 80, 40, 0.1);
    
    /* 5. Text Colors: Dark Brown instead of Black/Grey */
    --text-primary: #3e2723;   /* Deep Coffee */
    --text-secondary: #795548; /* Milk Chocolate */
    
    /* 6. Accents: Deep Amber/Bronze */
    --brand-gold: #b45309; 
    --brand-gold-glow: rgba(180, 83, 9, 0.15);
    
    --brand-green: #15803d; /* Forest Green */
    --brand-green-glow: rgba(21, 128, 61, 0.15);
    
    /* 7. Shadows: Soft Warm Shadows */
    --shadow-card: 0 10px 30px -5px rgba(62, 39, 35, 0.08);
    
    --input-bg: rgba(255, 255, 255, 0.7);
}


    * { margin: 0; padding: 0; box-sizing: border-box; transition: background-color 0.4s ease, color 0.3s ease, border-color 0.3s ease; }

   /* --- 100x ATMOSPHERE ENGINE --- */

/* --- NEW ANIMATED ATMOSPHERE ENGINE --- */

/* 1. Define the Color Palette (Variables) */
:root {
    /* Default (Night) - Dark Blue/Black */
    --bg-color-1: #0f172a;
    --bg-color-2: #1e1b4b;
    --bg-color-3: #000000;
}

/* --- VIBRANT AURORA ENGINE --- */
body {
    /* Brighter, deeper colors for visibility */
    background: linear-gradient(300deg, #0f172a, #312e81, #0f172a, #1e3a8a);
    background-size: 240% 240%;
    animation: gradient-animation 10s ease infinite; /* Faster speed */
    color: var(--text-primary);
    font-family: 'Outfit', sans-serif;
    min-height: 100vh;
    display: flex; flex-direction: column;
    overflow-x: hidden;
    transition: --bg-color-1 3s; 
}

@keyframes gradient-animation {
    0% { background-position: 0% 50%; }
    50% { background-position: 100% 50%; }
    100% { background-position: 0% 50%; }
}

/* Time-Based Overrides (More Distinct) */
body.time-fajr { background: linear-gradient(300deg, #0f172a, #0d9488, #0f172a); } /* Teal glow */
body.time-day { background: linear-gradient(300deg, #0369a1, #38bdf8, #0284c7); } /* Sky blue 
motion */
/* Afternoon / Asr (Golden Hour) */
body.time-asr { 
    background: linear-gradient(300deg, #b45309, #d97706, #f59e0b) !important; 
}
body.time-maghrib { background: linear-gradient(300deg, #4c0519, #be123c, #7c2d12); } /* Red/Sunset motion */
body.time-night { background: linear-gradient(300deg, #0f172a, #312e81, #000000); } /* Deep Indigo */






    /* =========================================
       2. NAVIGATION BAR
       ========================================= */
    nav {
        position: sticky; top: 0; z-index: 100;
        padding: 15px 5%;
        background: var(--bg-nav);
        backdrop-filter: blur(16px);
        -webkit-backdrop-filter: blur(16px);
        border-bottom: 1px solid var(--border);
        display: flex; justify-content: space-between; align-items: center;
    }

    .brand {
        font-size: 1.5rem; font-weight: 700;
        display: flex; align-items: center; gap: 10px;
        color: var(--text-primary);
        letter-spacing: -0.5px;
    }
    .brand i { color: var(--brand-gold); filter: drop-shadow(0 0 8px var(--brand-gold-glow)); }

    .nav-menu { display: flex; gap: 5px; background: var(--bg-card); padding: 5px; border-radius: 50px; border: 1px solid var(--border); }
    
    .nav-btn {
        background: transparent; border: none;
        padding: 8px 20px; border-radius: 40px;
        color: var(--text-secondary); font-weight: 500; font-family: inherit;
        cursor: pointer; transition: 0.3s;
    }
    .nav-btn:hover { color: var(--text-primary); }
    .nav-btn.active { background: var(--brand-gold); color: #fff; box-shadow: 0 2px 10px var(--brand-gold-glow); }
    /* In light mode, keep active text white but text darker */
    body.light-theme .nav-btn.active { color: #fff; }

    .theme-toggle {
        background: var(--bg-card); border: 1px solid var(--border);
        color: var(--text-primary); width: 40px; height: 40px; border-radius: 50%;
        display: flex; align-items: center; justify-content: center; cursor: pointer;
        transition: 0.3s; font-size: 1.1rem;
    }
    .theme-toggle:hover { transform: rotate(45deg); border-color: var(--brand-gold); color: var(--brand-gold); }

    /* =========================================
       3. LAYOUT & CARDS
       ========================================= */
    .container { max-width: 1200px; margin: 0 auto; padding: 40px 20px; width: 100%; flex: 1; position: relative; }

    /* Hide/Show Views */
    .view-section { display: none; animation: slideUp 0.5s cubic-bezier(0.16, 1, 0.3, 1); }
    .view-section.active { display: block; }
    @keyframes slideUp { from { opacity: 0; transform: translateY(20px); } to { opacity: 1; transform: translateY(0); } }

    /* Hero */
    .hero { text-align: center; margin-bottom: 50px; }
   /* --- FIXED TEXT STYLES (Supports Firefox & Chrome) --- */
.greeting {
    font-size: 3rem;
    font-weight: 700;
    
    /* 1. The Gradient Color */
    background-image: linear-gradient(135deg, var(--text-primary) 30%, var(--text-secondary));
    
    /* 2. THE FIX: Standard Syntax for Firefox */
    background-clip: text; 
    
    /* 3. Webkit Syntax for Chrome/Mobile */
    -webkit-background-clip: text;
    
    /* 4. Make text transparent so background shows through */
    color: transparent;
    -webkit-text-fill-color: transparent;
    
    letter-spacing: -1px;
    margin-bottom: 10px;
    display: inline-block;
}

.date-badge {
    display: inline-block;
    padding: 6px 16px;
    border-radius: 20px;
    background: rgba(251, 191, 36, 0.1);
    color: var(--brand-gold);
    font-size: 0.9rem;
    font-weight: 600;
    border: 1px solid var(--brand-gold-glow);
}
    /* Card Grid */
    .grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(320px, 1fr)); gap: 25px; }

    .card {
        background: var(--bg-card);
        border: 1px solid var(--border);
        border-radius: 24px;
        padding: 30px;
        backdrop-filter: blur(12px);
        box-shadow: var(--shadow-card);
        position: relative; overflow: hidden;
        transition: transform 0.3s, box-shadow 0.3s;
        display: flex; flex-direction: column;
    }
    
    .card::before { content: ''; position: absolute; top: 0; left: 0; width: 100%; height: 4px; background: linear-gradient(90deg, var(--brand-gold), transparent); opacity: 0; transition: 0.3s; }
    .card:hover { transform: translateY(-5px); box-shadow: 0 20px 40px -10px var(--brand-gold-glow); }
    .card:hover::before { opacity: 1; }

    .card-header { display: flex; align-items: center; gap: 12px; margin-bottom: 25px; font-weight: 600; color: var(--text-secondary); text-transform: uppercase; font-size: 0.85rem; letter-spacing: 1px; }
    .card-header i { font-size: 1.2rem; color: var(--brand-gold); }

    /* =========================================
       4. COMPONENT STYLES
       ========================================= */
    /* Prayer Times */
    .prayer-row { display: flex; justify-content: space-between; padding: 12px 0; border-bottom: 1px solid var(--border); font-size: 1rem; }
    .prayer-row:last-child { border: none; }
    .prayer-row.next-prayer { color: var(--brand-gold); font-weight: 700; transform: scale(1.02); padding-left: 10px; border-left: 3px solid var(--brand-gold); border-bottom-color: transparent; }

    /* Input Fields */
    .input-group { display: flex; gap: 10px; margin-bottom: 20px; }
    .styled-input { flex: 1; background: var(--input-bg); border: 1px solid var(--border); color: var(--text-primary); padding: 12px 15px; border-radius: 12px; font-family: inherit; }
    .styled-input:focus { outline: none; border-color: var(--brand-gold); box-shadow: 0 0 0 3px var(--brand-gold-glow); }

    /* Quran Reader */
    .surah-list { display: grid; grid-template-columns: repeat(auto-fill, minmax(200px, 1fr)); gap: 15px; }
    .surah-item { background: var(--bg-card); padding: 15px; border-radius: 12px; border: 1px solid var(--border); cursor: pointer; display: flex; justify-content: space-between; align-items: center; transition: 0.2s; }
    .surah-item:hover { border-color: var(--brand-green); background: rgba(16, 185, 129, 0.05); }
    .surah-num { background: var(--brand-gold); color: #fff; width: 30px; height: 30px; display: flex; align-items: center; justify-content: center; border-radius: 50%; font-size: 0.8rem; font-weight: bold; }
    
    .ayah-box { padding: 30px 0; border-bottom: 1px solid var(--border); }
    .ayah-arabic { font-family: 'Amiri', serif; font-size: 2.2rem; text-align: right; margin-bottom: 15px; line-height: 2.2; color: var(--text-primary); }
    .ayah-trans { color: var(--text-secondary); font-size: 1.1rem; line-height: 1.6; }

    /* Qibla Compass */
    .compass-wrapper { position: relative; width: 250px; height: 250px; margin: 0 auto; border: 8px solid var(--border); border-radius: 50%; display: flex; align-items: center; justify-content: center; box-shadow: 0 0 50px var(--brand-gold-glow); }
    .kaaba-pointer { font-size: 4rem; color: var(--brand-gold); transition: transform 1s ease-out; }
    .compass-deg { position: absolute; bottom: -50px; font-size: 2rem; font-weight: 700; color: var(--text-primary); }

    /* Footer */
    footer { text-align: center; padding: 40px; border-top: 1px solid var(--border); color: var(--text-secondary); font-size: 0.9rem; }
    .basmala { font-family: 'Amiri', serif; font-size: 1.4rem; color: var(--brand-gold); display: block; margin-bottom: 10px; }

    /* Utils */
    .btn-action { background: var(--brand-green); color: #fff; border: none; padding: 12px; width: 100%; border-radius: 12px; font-weight: 600; cursor: pointer; margin-top: auto; transition: 0.3s; display: flex; align-items: center; justify-content: center; gap: 8px; }
    .btn-action:hover { box-shadow: 0 10px 20px -5px var(--brand-green-glow); transform: translateY(-2px); }
    .spinner { width: 24px; height: 24px; border: 3px solid var(--border); border-top-color: var(--brand-gold); border-radius: 50%; animation: spin 1s infinite linear; margin: 20px auto; }
    @keyframes spin { 100% { transform: rotate(360deg); } }

    /* Mobile */
    @media (max-width: 768px) {
        nav { flex-direction: column; gap: 15px; }
        .nav-menu { width: 100%; justify-content: space-between; }
        .nav-btn { padding: 8px 15px; font-size: 0.85rem; }
        .greeting { font-size: 2rem; }
    }
    /* --- NEW HERO STYLES --- */
    .hero-content {
        padding: 20px 0;
       
    }
    
  .hero-arabic {
    font-family: 'Amiri', serif;
    font-size: 2.8rem; /* Slightly smaller to fit the long greeting on one line */
    font-weight: 700;
    
    /* 1. LAYOUT FIXES */
    display: inline-block; 
    line-height: 1.6; /* Increased to prevent clipping top/bottom diacritics */
    padding: 0 10px; /* Prevents side-clipping of long words */
    width: auto;
    max-width: 95%; /* Ensures it doesn't break layout on mobile */
    text-align: center;

    /* 2. GRADIENT & CLIPPING */
    background: linear-gradient(135deg, #fcd34d 0%,  #ffffff 100%);
    background-clip: text;
    -webkit-background-clip: text;
    
    /* 3. VISIBILITY FALLBACKS */
    color: #fbbf24; 
    -webkit-text-fill-color: transparent;
    
    /* 4. DEPTH */
    filter: drop-shadow(0 0 15px rgba(252, 211, 77, 0.4));
    
    animation: heroFade 1.2s ease-out;
}

/* Mobile Adjustment */
@media (max-width: 768px) {
    .hero-arabic {
        font-size: 1.8rem; /* Shrink for small screens to prevent disappearing */
        line-height: 1.8;
    }
}
    .hero-dua {
        font-size: 1.2rem;
        color: var(--text-primary);
        font-weight: 300;
        margin-top: 5px;
        opacity: 0;
        /* Animation Delay so it appears 2nd */
        animation: slideUpFade 0.8s ease-out forwards 0.3s; 
    }

    .hero-tagline {
        font-size: 0.85rem;
        color: var(--brand-gold);
        text-transform: uppercase;
        letter-spacing: 2px;
        margin-top: 10px;
        margin-bottom: 25px;
        opacity: 0;
        /* Animation Delay so it appears 3rd */
        animation: slideUpFade 0.8s ease-out forwards 0.6s; 
        font-weight: 600;
    }

    @keyframes heroFade { from { opacity: 0; transform: scale(0.95); } to { opacity: 1; transform: scale(1); } }
    @keyframes slideUpFade { from { opacity: 0; transform: translateY(10px); } to { opacity: 1; transform: translateY(0); } }

   #serenity {
    /* Keep your existing shadow and radius, but simplify the background */
    background: linear-gradient(to bottom, #0f2027, #152a32); /* Darker, more aesthetic */
    border-radius: 24px;
    padding: 60px 20px;
    min-height: 85vh;
    color: #fff;
    text-align: center;
    box-shadow: 0 10px 40px -10px rgba(0,0,0,0.5);
    
    flex-direction: column;
    align-items: center;

    /* 1. CENTRAL CLOCK STYLING */
#serenity-clock {
    margin-bottom: 50px;
    font-family: 'Amiri', serif;
}

#clock-time {
    font-size: clamp(6rem, 20vw, 12rem); /* Larger for the center-piece feel */
    color: var(--brand-gold);
    font-weight: 700;
    letter-spacing: 4px;
    text-shadow: 0 0 30px rgba(251, 191, 36, 0.3);
    line-height: 0.9;
    font-weight: 700;
    
    /* AESTHETIC GOLD GRADIENT */
    background: linear-gradient(to bottom, #fbbf24, #ffffff);
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
    
    /* SOFT GLOW */
    filter: drop-shadow(0 0 30px rgba(251, 191, 36, 0.3));
    font-family: 'Outfit', sans-serif; /* Clean modern font */
}
}

#clock-date {
    font-size: 1.2rem;
    color: var(--text-secondary);
    text-transform: uppercase;
    letter-spacing: 5px;
    margin-top: 10px;
}

/* 2. AUDIO & REFLECTION CARDS */
.serenity-card {
    background: rgba(255, 255, 255, 0.03);
    backdrop-filter: blur(10px);
    border: 1px solid rgba(255, 255, 255, 0.1);
    border-radius: 20px;
    padding: 30px;
    width: 100%;
    max-width: 600px;
    margin-bottom: 20px;
}

/* 3. REFLECTION TEXTAREA */
#reflection-input {
    width: 100%;
    height: 150px;
    background: rgba(0, 0, 0, 0.3);
    border: 1px solid var(--border);
    border-radius: 12px;
    color: #fff;
    padding: 15px;
    font-family: 'Outfit', sans-serif;
    resize: none;
    margin-top: 15px;
}

#reflection-input:focus {
    border-color: var(--brand-gold);
    outline: none;
}

.serenity-audio-card {
  padding: 25px;
  text-align: center;
  border: 1px solid var(--border);
  background: rgba(255,255,255,0.02);
  height: 500px; /* ðŸ”´ FIXED HEIGHT forces internal scrolling */
    display: flex;
    flex-direction: column;
    padding: 0 !important; /* Removes padding to let header fit */
    overflow: hidden; /* Hides anything spilling out */
    border: 1px solid var(--border);
}

#playlist-container {
    flex: 1; /* Fills remaining space */
    overflow-y: auto; /* ðŸ”´ ENABLE SCROLL HERE */
    background: rgba(0,0,0,0.2);
    /* Custom Scrollbar for style */
    scrollbar-width: thin;
    scrollbar-color: var(--brand-gold) transparent;
}

.serenity-audio-icon {
  color: var(--brand-gold);
  margin-bottom: 10px;
}

.serenity-audio-title {
  margin-bottom: 15px;
  font-weight: 400;
  font-size: 0.9rem;
}

.serenity-audio-card audio {
  width: 100%;
  height: 35px;
}

.audio-list {
  margin-top: 15px;
  display: flex;
  flex-direction: column;
  gap: 8px;
}

.audio-list button {
  background: rgba(255,255,255,0.03);
  border: 1px solid var(--border);
  color: rgba(255,255,255,0.8);
  padding: 8px;
  border-radius: 6px;
  font-size: 0.75rem;
  cursor: pointer;
}

.audio-list button:hover {
  border-color: var(--brand-gold);
  color: var(--brand-gold);
}



    /* --- NEW FEATURES CSS --- */

/* 1. Accessibility Font Sizing */
html.font-large { font-size: 19px; }
html.font-extra { font-size: 22px; }

/* 2. Heart Check-In */
.mood-selector { display: flex; gap: 10px; overflow-x: auto; padding-bottom: 10px; scrollbar-width: none; }
.mood-selector::-webkit-scrollbar { display: none; }
.mood-btn { background: rgba(255,255,255,0.05); border: 1px solid var(--border); color: var(--text-primary); padding: 10px 15px; border-radius: 12px; white-space: nowrap; cursor: pointer; transition: 0.3s; font-size: 0.9rem; }
.mood-btn:hover { background: var(--brand-green); color: #000; transform: translateY(-2px); }

/* 3. Daily Checklist */
.checklist-container { display: flex; flex-direction: column; gap: 12px; }
.check-item { display: flex; align-items: center; gap: 12px; cursor: pointer; background: rgba(255,255,255,0.03); padding: 10px; border-radius: 8px; transition: 0.2s; }
.check-item:hover { background: rgba(255,255,255,0.08); }
.check-item.checked { opacity: 0.5; text-decoration: line-through; }
.custom-checkbox { width: 20px; height: 20px; border: 2px solid var(--brand-gold); border-radius: 4px; display: flex; align-items: center; justify-content: center; }
.check-item.checked .custom-checkbox { background: var(--brand-gold); }
.check-item.checked .custom-checkbox::after { content: 'âœ“'; color: #000; font-weight: bold; font-size: 0.8rem; }

/* 4. The "Nur" Footer */
.footer-wave { position: relative; width: 100%; overflow: hidden; line-height: 0; margin-top: 50px; z-index: 2; }
.footer-wave svg { display: block; width: calc(137% + 1.3px); height: 60px; }
.footer-wave .shape-fill { fill: #0f172a; }

#spiritual-footer { background-color: #0f172a; box-shadow: 0 -10px 50px rgba(251, 191, 36, 0.15); padding-bottom: 30px; color: #fff; position: relative; z-index: 10; }

.sadaqah-wrapper { display: flex; justify-content: center; transform: translateY(-50%); }
.sadaqah-badge { background: #000; border: 2px solid var(--brand-gold); color: var(--brand-gold); padding: 12px 30px; border-radius: 50px; font-weight: 800; font-size: 0.9rem; letter-spacing: 1px; box-shadow: 0 0 25px rgba(251, 191, 36, 0.4); animation: goldPulse 3s infinite; text-transform: uppercase; font-family: 'Outfit', sans-serif; }
@keyframes goldPulse { 0% { box-shadow: 0 0 25px rgba(251, 191, 36, 0.4); transform: scale(1); } 50% { box-shadow: 0 0 40px rgba(251, 191, 36, 0.7); transform: scale(1.05); } 100% { box-shadow: 0 0 25px rgba(251, 191, 36, 0.4); transform: scale(1); } }

/* --- BREATHING FOOTER DUA --- */
#footer-dua-wrapper {
    text-align: center;
    max-width: 700px;
    margin: 0 auto 30px auto;
    padding: 20px;
    min-height: 80px; /* Keeps footer stable */
    display: flex;
    align-items: center;
    justify-content: center;
    background: rgba(255,255,255,0.02); /* Subtle box */
    border-radius: 15px;
    border: 1px solid rgba(255,255,255,0.05);
}

#footer-dua-text {
    font-family: 'Amiri', serif;
    font-size: 1.4rem;
    color: #e2e8f0;
    transition: opacity 1s ease-in-out, transform 1s ease-in-out;
    opacity: 1;
    line-height: 1.6;
    margin: 0;
}

/* The "Fade Out" State */
#footer-dua-text.fade-out {
    opacity: 0;
    transform: translateY(10px); /* Subtle slide down */
}

.highlight-gold {
    color: var(--brand-gold);
    font-weight: 700;
}

.footer-grid { display: flex; justify-content: space-between; align-items: center; max-width: 1000px; margin: 0 auto; padding: 0 20px; flex-wrap: wrap; gap: 30px; }
.footer-title { font-family: 'Amiri', serif; font-size: 2.5rem; color: var(--brand-gold); margin-bottom: 10px; }
.footer-desc { color: #94a3b8; max-width: 400px; line-height: 1.6; }

.actions-col { display: flex; gap: 15px; }
.pop-btn { border: none; padding: 15px 25px; border-radius: 12px; font-weight: 700; cursor: pointer; font-family: 'Outfit', sans-serif; display: flex; align-items: center; gap: 10px; font-size: 1rem; transition: 0.3s; }
.share-btn { background: var(--brand-gold); color: #000; box-shadow: 0 5px 15px rgba(251, 191, 36, 0.3); }
.share-btn:hover { transform: translateY(-5px); box-shadow: 0 10px 25px rgba(251, 191, 36, 0.5); }
.bookmark-btn { background: rgba(255,255,255,0.1); color: #fff; border: 1px solid rgba(255,255,255,0.2); }
.bookmark-btn:hover { background: rgba(255,255,255,0.2); transform: translateY(-5px); }

.footer-bottom { text-align: center; margin-top: 40px; font-size: 0.8rem; color: rgba(255,255,255,0.4); font-style: italic; }

#toast-box { position: fixed; bottom: 30px; left: 50%; transform: translateX(-50%); background: rgba(0,0,0,0.9); color: #fff; padding: 12px 24px; border-radius: 50px; border: 1px solid var(--brand-green); display: none; z-index: 1000; font-size: 0.9rem; white-space: nowrap; animation: slideUpToast 0.3s ease; }
@keyframes slideUpToast { from { bottom: 0; opacity: 0; } to { bottom: 30px; opacity: 1; } }

@media (max-width: 768px) { .footer-grid { flex-direction: column; text-align: center; } .footer-desc { margin: 0 auto; } }
/* --- FIX LIGHT MODE VISIBILITY --- */
body.light-theme .hero-arabic {
    /* Change gradient from White to Dark Blue */
    background: linear-gradient(135deg, var(--brand-gold) 20%, var(--text-primary) 80%);
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
    
    /* Reduce the glow so it's not blurry */
    filter: drop-shadow(0 0 2px rgba(0,0,0,0.1));
}

body.light-theme .hero-dua,
body.light-theme .hero-tagline {
    color: var(--text-primary);
    font-weight: 500; /* Make it slightly bolder */
}

body.light-theme .greeting {
    background: var(--text-primary); /* Solid color instead of gradient */
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
}
/* --- 100x CARD ANIMATIONS --- */
@keyframes shimmerMove {
    0% { transform: translateX(-150%) skewX(-20deg); }
    100% { transform: translateX(250%) skewX(-20deg); }
}

.card {
    /* Existing styles... keep them, just add/update these: */
    backdrop-filter: blur(20px); /* Heavier blur for premium glass feel */
    border: 1px solid rgba(255, 255, 255, 0.08);
    position: relative;
    overflow: hidden;
}

/* The Golden Shimmer Effect */
.card::after {
    content: "";
    position: absolute;
    top: 0; left: 0; width: 50%; height: 100%;
    background: linear-gradient(to right, transparent, rgba(251, 191, 36, 0.05), transparent);
    transform: skewX(-20deg) translateX(-150%);
    animation: shimmerMove 6s infinite ease-in-out;
    pointer-events: none;
}

/* Staggered Entry Animation (Cascading load) */
.card, .hero, .ramadan-widget {
    animation: fadeInUp 0.8s cubic-bezier(0.2, 0.8, 0.2, 1) forwards;
    opacity: 0; transform: translateY(20px);
}

/* Delays for the stagger effect */
.hero { animation-delay: 0.1s; }
.card:nth-child(1) { animation-delay: 0.2s; }
.card:nth-child(2) { animation-delay: 0.3s; }
.card:nth-child(3) { animation-delay: 0.4s; }
.card:nth-child(4) { animation-delay: 0.5s; }
.card:nth-child(5) { animation-delay: 0.6s; }

@keyframes fadeInUp {
    to { opacity: 1; transform: translateY(0); }
}

/* Tactile Button Press */
button:active {
    transform: scale(0.95) !important;
}
/* --- ADHKAR TAB STYLES --- */

/* Horizontal Scroll for Chips */
.adhkar-selector-scroll {
    display: flex; gap: 10px; overflow-x: auto; padding-bottom: 15px; margin-bottom: 20px;
    scrollbar-width: none; /* Hide scrollbar */
}
.adhkar-selector-scroll::-webkit-scrollbar { display: none; }

.adhkar-chip {
    background: rgba(255,255,255,0.05); border: 1px solid var(--border);
    color: var(--text-secondary); padding: 8px 16px; border-radius: 50px;
    white-space: nowrap; cursor: pointer; transition: 0.3s; font-size: 0.9rem;
}
.adhkar-chip.active {
    background: var(--brand-gold); color: #000; font-weight: 600;
    box-shadow: 0 0 15px var(--brand-gold-glow);
}

/* The Ring */
.tasbih-ring-container {
    position: relative; width: 260px; height: 260px; margin: 0 auto;
    cursor: pointer; border-radius: 50%;
    /* Subtle pulsing glow */
    animation: breathingGlow 4s infinite ease-in-out;
}
.tasbih-ring-container:active { transform: scale(0.98); transition: 0.1s; }

@keyframes breathingGlow {
    0% { box-shadow: 0 0 20px rgba(251, 191, 36, 0.05); }
    50% { box-shadow: 0 0 40px rgba(251, 191, 36, 0.15); }
    100% { box-shadow: 0 0 20px rgba(251, 191, 36, 0.05); }
}

.progress-ring__circle {
    transition: stroke-dashoffset 0.35s;
    transform: rotate(-90deg);
    transform-origin: 50% 50%;
    stroke-linecap: round;
}

.ring-content {
    position: absolute; top: 50%; left: 50%; transform: translate(-50%, -50%);
    text-align: center; pointer-events: none; /* Let clicks pass through to container */
}

/* Ripple Animation on Tap */
.ripple {
    position: absolute; border-radius: 50%; background: rgba(255, 255, 255, 0.3);
    transform: scale(0); animation: rippleEffect 0.6s linear; pointer-events: none;
}
@keyframes rippleEffect {
    to { transform: scale(4); opacity: 0; }
}
/* --- ADHKAR DASHBOARD STYLES --- */

/* Category Buttons */
.adhkar-categories {
    display: flex; gap: 10px; overflow-x: auto; padding-bottom: 15px; margin-bottom: 20px;
    scrollbar-width: none; justify-content: center;
}
.adhkar-categories::-webkit-scrollbar { display: none; }

.cat-btn {
    background: transparent; border: 1px solid var(--border); color: var(--text-secondary);
    padding: 8px 20px; border-radius: 30px; cursor: pointer; transition: 0.3s;
    font-size: 0.9rem; white-space: nowrap;
}
.cat-btn.active, .cat-btn:hover {
    background: var(--brand-gold); color: #000; border-color: var(--brand-gold);
    box-shadow: 0 0 15px var(--brand-gold-glow);
}

/* The Grid */
.adhkar-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
    gap: 20px;
}

/* Individual Dhikr Card */
.dhikr-card {
    background: var(--bg-card);
    border: 1px solid var(--border);
    border-radius: 20px;
    padding: 25px;
    position: relative;
    overflow: hidden;
    transition: transform 0.1s;
    cursor: pointer;
    user-select: none; /* Prevents text selection on rapid tapping */
}

.dhikr-card:active { transform: scale(0.98); }

/* Progress Bar Background */
.dhikr-card::after {
    content: ''; position: absolute; bottom: 0; left: 0; height: 4px;
    background: var(--brand-gold); transition: width 0.3s;
    width: var(--progress, 0%); /* CSS Variable handled by JS */
    box-shadow: 0 0 10px var(--brand-gold);
}

.dhikr-header {
    display: flex; justify-content: space-between; align-items: flex-start;
    margin-bottom: 15px;
}

.dhikr-title { font-weight: 700; color: var(--brand-gold); font-size: 1rem; }
.dhikr-cat-tag { font-size: 0.7rem; color: var(--text-secondary); text-transform: uppercase; letter-spacing: 1px; }

.dhikr-arabic {
    font-family: 'Amiri', serif; font-size: 1.8rem; line-height: 1.6;
    margin-bottom: 20px; text-align: right;
}

.dhikr-controls {
    display: flex; justify-content: space-between; align-items: center;
}

.dhikr-count {
    font-size: 2.5rem; font-weight: 700; color: var(--text-primary);
    font-family: 'Outfit', sans-serif;
}

.dhikr-target { font-size: 0.9rem; color: var(--text-secondary); margin-left: 10px; }

.reset-dhikr-btn {
    background: rgba(255,255,255,0.1); border: none; width: 35px; height: 35px;
    border-radius: 50%; color: var(--text-secondary); cursor: pointer;
    display: flex; align-items: center; justify-content: center; z-index: 5;
}
.reset-dhikr-btn:hover { background: var(--brand-gold); color: #000; }

/* Completion Glow Animation */
.dhikr-card.completed {
    border-color: var(--brand-green);
    box-shadow: 0 0 20px var(--brand-green-glow);
}
.dhikr-card.completed .dhikr-count { color: var(--brand-green); }
.dhikr-card.completed::after { background: var(--brand-green); box-shadow: 0 0 10px var(--brand-green); }
/* --- SCROLL INDICATOR STYLES --- */
.scroll-indicator {
    position: fixed; /* Positions it relative to the home section */
    bottom: 30px;      /* Distance from bottom of the 'fold' */
    left: 50%;
    transform: translateX(-50%);
    display: flex;
    flex-direction: column;
    align-items: center;
    gap: 8px;
    cursor: pointer;
    z-index: 10;
    transition: opacity 0.5s ease, transform 0.5s ease;
    opacity: 0.7;
}

.scroll-indicator:hover {
    opacity: 1;
}

/* Hide it when scrolling down */
.scroll-indicator.hidden {
    opacity: 0;
    pointer-events: none;
    transform: translate(-50%, 20px);
}

.scroll-text {
    font-size: 0.75rem;
    letter-spacing: 2px;
    text-transform: uppercase;
    color: var(--text-secondary);
    font-weight: 500;
}

/* The Mouse Shape */
.mouse-icon {
    width: 26px;
    height: 42px;
    border: 2px solid var(--text-secondary);
    border-radius: 20px;
    position: relative;
}

/* The Little Wheel Inside */
.wheel {
    width: 4px;
    height: 8px;
    background: var(--brand-gold);
    border-radius: 2px;
    position: absolute;
    top: 6px;
    left: 50%;
    transform: translateX(-50%);
    animation: scrollWheel 2s infinite;
}

/* The Arrow */
.arrow-bounce {
    color: var(--brand-gold);
    font-size: 1rem;
    animation: bounce 2s infinite;
    animation-delay: 1s; /* Offset so it doesn't move with the wheel */
}

/* Animations */
@keyframes scrollWheel {
    0% { top: 6px; opacity: 1; }
    100% { top: 20px; opacity: 0; }
}

@keyframes bounce {
    0%, 20%, 50%, 80%, 100% { transform: translateY(0); }
    40% { transform: translateY(-10px); }
    60% { transform: translateY(-5px); }
}

/* Mobile Adjustment: Move it up slightly so address bar doesn't hide it */
@media (max-width: 768px) {
    .scroll-indicator { bottom: 100px; } 
    /* Or hide the mouse icon on mobile to save space */
    .mouse-icon { display: none; }
}

/* --- THANK YOU MODAL STYLES --- */
.modal-overlay {
    position: fixed;
    top: 0; left: 0; width: 100%; height: 100%;
    background: rgba(0, 0, 0, 0.8); /* Dark dim background */
    backdrop-filter: blur(8px);
    z-index: 2000; /* Above everything */
    display: none; /* Hidden by default */
    align-items: center;
    justify-content: center;
    opacity: 0;
    transition: opacity 0.3s ease;
}

.modal-overlay.show {
    display: flex;
    opacity: 1;
}

.modal-card {
    background: var(--bg-card);
    border: 1px solid var(--brand-gold);
    box-shadow: 0 0 50px var(--brand-gold-glow);
    padding: 40px 30px;
    border-radius: 24px;
    max-width: 400px;
    width: 90%;
    text-align: center;
    position: relative;
    transform: scale(0.9);
    transition: transform 0.3s cubic-bezier(0.34, 1.56, 0.64, 1);
}

.modal-overlay.show .modal-card {
    transform: scale(1);
}

.close-modal {
    position: absolute; top: 15px; right: 20px;
    background: none; border: none;
    color: var(--text-secondary); font-size: 2rem;
    cursor: pointer;
}

.modal-icon-wrapper {
    width: 80px; height: 80px;
    background: rgba(251, 191, 36, 0.1);
    border-radius: 50%;
    display: flex; align-items: center; justify-content: center;
    margin: 0 auto 20px auto;
    border: 2px solid var(--brand-gold);
}

.modal-icon {
    font-size: 2.5rem; color: var(--brand-gold);
    animation: heartBeat 1.5s infinite;
}

@keyframes heartBeat {
    0%, 100% { transform: scale(1); }
    50% { transform: scale(1.2); }
}

.modal-title {
    font-family: 'Amiri', serif;
    font-size: 2.2rem;
    color: var(--text-primary);
    margin-bottom: 10px;
}

.modal-text {
    color: var(--text-secondary);
    line-height: 1.6;
    margin-bottom: 25px;
}

/* Feedback Tags */
.tag-container {
    display: flex; gap: 10px; justify-content: center; flex-wrap: wrap;
}

.tag-btn {
    background: rgba(255,255,255,0.05);
    border: 1px solid var(--border);
    color: var(--text-secondary);
    padding: 8px 15px;
    border-radius: 20px;
    cursor: pointer;
    font-size: 0.85rem;
    transition: 0.3s;
}

.tag-btn:hover, .tag-btn.selected {
    background: var(--brand-gold);
    color: #000;
    border-color: var(--brand-gold);
    transform: translateY(-2px);
}

.modal-footer-quote {
    margin-top: 30px;
    font-size: 0.8rem;
    font-style: italic;
    color: var(--brand-green);
    border-top: 1px solid var(--border);
    padding-top: 15px;
}
/* NEW LOGO STYLES */
.brand-lockup {
    display: flex;
    align-items: center;
    gap: 12px;
    filter: drop-shadow(0 0 10px rgba(251, 191, 36, 0.15));
}
.brand-emblem {
    width: 48px;
    height: 48px;
    flex-shrink: 0;
    animation: slowPulse 4s infinite ease-in-out;
}
.brand-text-container {
    display: flex;
    flex-direction: column;
    justify-content: center;
    line-height: 1;
}
.brand-daily {
    font-family: 'Outfit', sans-serif;
    font-size: 0.7rem;
    font-weight: 600;
    letter-spacing: 3px; 
    text-transform: uppercase;
    color: var(--text-secondary);
    margin-bottom: 2px;
    margin-left: 2px;
}
.brand-deen {
    font-family: 'Amiri', serif; 
    font-size: 1.8rem;
    font-weight: 700;
    color: var(--brand-gold);
    background: linear-gradient(135deg, #fbbf24 0%, #ffe4a0 50%, #d97706 100%);
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
    letter-spacing: 0.5px;
}
@keyframes slowPulse {
    0%, 100% { transform: scale(1); filter: drop-shadow(0 0 5px var(--brand-gold-glow)); }
    50% { transform: scale(1.03); filter: drop-shadow(0 0 15px var(--brand-gold-glow)); }
}
@media (max-width: 768px) {
    .brand-emblem { width: 40px; height: 40px; }
    .brand-daily { font-size: 0.65rem; letter-spacing: 2px; }
    .brand-deen { font-size: 1.5rem; }
}
/* =========================================
   MOBILE REPAIR KIT (Add to bottom of CSS)
   ========================================= */
/* --- MASTER MOBILE STYLES (Bottom Nav + Layout Fixes) --- */
/* --- MASTER MOBILE STYLES (Bottom Nav + Layout Fixes) --- */
@media (max-width: 768px) {
    
    /* 1. BOTTOM NAVIGATION (The Thumb Zone) */
    nav { 
        position: fixed; 
        bottom: 0; 
        top: auto; 
        width: 100%;
        padding: 10px 15px; 
        border-top: 1px solid var(--border); 
        border-bottom: none; 
        background: rgba(0, 0, 0, 0.95); 
        backdrop-filter: blur(10px);
        justify-content: center;
        box-shadow: 0 -5px 20px rgba(0,0,0,0.5);
        z-index: 1000;
    }

    .brand, .theme-toggle { display: none; } 
    
    .nav-menu { 
        width: 100%; 
        justify-content: space-between; 
        background: transparent; 
        border: none; 
        padding: 0;
        display: flex;
    }
    
    .nav-btn { 
        padding: 8px; 
        border-radius: 12px; 
        display: flex; 
        flex-direction: column; 
        align-items: center; 
        gap: 4px;
        flex: 1; 
        background: transparent;
        color: var(--text-secondary);
        font-size: 0.7rem; 
    }

    .nav-btn i { font-size: 1.2rem; margin-bottom: 2px; }
    .nav-label { font-size: 0.65rem; font-weight: 500; }

    .nav-btn.active { 
        background: transparent; 
        color: var(--brand-gold); 
        box-shadow: none; 
    }
    .nav-btn.active i {
        filter: drop-shadow(0 0 8px var(--brand-gold));
        transform: translateY(-2px);
        transition: 0.3s;
    }
    
    /* 2. LAYOUT & FOOTER FIXES */
    body { 
        padding-bottom: 0; /* Reset body padding */
        overflow-x: hidden; 
    } 
    
    .container { 
        padding: 20px 15px; 
        padding-bottom: 20px; 
        overflow-x: hidden; 
    }

    /* Add the padding directly to the footer so the background looks right */
    footer {
        padding-bottom: 110px !important; 
    }
    
    /* 3. RAMADAN WIDGET FIX */
    .ramadan-widget { 
        position: relative; 
        top: 0; 
        right: 0; 
        width: 100%; 
        flex-direction: row-reverse; 
        justify-content: space-between; 
        align-items: center; 
        margin-bottom: 20px; 
        padding: 10px;
    }
    .ramadan-days-left { font-size: 0.8rem; margin-right: 0; margin-top: 0; }

    /* 4. SETTINGS INPUT FIX */
    .input-group { flex-direction: column; width: 100%; }
    .styled-input { width: 100%; max-width: 100% !important; margin-bottom: 10px; }
}

/* Bismillah Screen */
#bismillah-screen {
    position: fixed; top: 0; left: 0; width: 100%; height: 100vh;
    background: #000; z-index: 9999;
    display: flex; flex-direction: column; align-items: center; justify-content: center;
    transition: opacity 1.5s ease-out;
    pointer-events: none; /* Allows click-through after fading */
}
.bismillah-text {
    font-family: 'Amiri', serif; font-size: 3rem; color: var(--brand-gold);
    animation: glowText 3s infinite alternate; text-align: center; padding: 0 20px;
}
.bismillah-eng {
    font-family: 'Outfit', sans-serif; font-size: 0.9rem; color: #fff; opacity: 0.6; margin-top: 15px; letter-spacing: 3px; text-transform: uppercase; text-align: center;
}
@keyframes glowText { from { text-shadow: 0 0 10px rgba(251, 191, 36, 0.2); } to { text-shadow: 0 0 30px rgba(251, 191, 36, 0.6); } }

/* Dignified Developer Request */
#developer-request {
    border: 1px solid var(--brand-gold);
    background: linear-gradient(180deg, rgba(251, 191, 36, 0.05) 0%, rgba(0,0,0,0.4) 100%);
    box-shadow: 0 0 30px rgba(251, 191, 36, 0.1);
}
#developer-request .card-header {
    justify-content: center; border-bottom: 1px solid rgba(251, 191, 36, 0.2);
    padding-bottom: 15px; margin-bottom: 20px; font-family: 'Amiri', serif; font-size: 1.2rem;
}

/* --- 1. CINEMATIC TEXTURE (Film Grain) --- */
body::before {
    content: ""; position: fixed; top: 0; left: 0; width: 100%; height: 100%;
    background-image: url("data:image/svg+xml,%3Csvg viewBox='0 0 200 200' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='noiseFilter'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.65' numOctaves='3' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23noiseFilter)' opacity='0.05'/%3E%3C/svg%3E");
    opacity: 0.07; pointer-events: none; z-index: 9999; mix-blend-mode: overlay;
}
/* --- 2. UNIVERSAL CARD FIX (Clean Version) --- */

/* === DEFAULT: LAPTOP & TABLET === */
.horizontal-scroll {
    display: flex !important;       /* Force Row Layout */
    flex-direction: row !important; 
    justify-content: space-between !important; /* Spread them out */
    align-items: stretch !important; /* Make them same height */
    gap: 20px !important;
    width: 100% !important;
    margin-top: 15px;
    overflow: visible !important;   /* No scrolling on laptop */
}

.swipe-card {
    flex: 1 1 0px !important;       /* Magic Rule: Forces all 3 to be equal width */
    width: 100% !important;
    min-width: 250px !important;    /* Never let them get smaller than this */
    max-width: none !important;     /* Remove size limits */
    margin: 0 !important;
    height: auto !important;
}

/* === MOBILE OVERRIDE (Phones Only) === */
@media (max-width: 768px) {
    .horizontal-scroll {
        display: flex !important;
        flex-direction: row !important;
        overflow-x: auto !important;    /* Turn scrolling BACK ON for phone */
        gap: 15px !important;
        padding: 10px 20px 30px 20px !important;
        margin: 0 -20px !important;
        scroll-snap-type: x mandatory;
        justify-content: flex-start !important; /* Align to start for scrolling */
    }
    
    /* Hide scrollbar on phone */
    .horizontal-scroll::-webkit-scrollbar { display: none; } 

    .swipe-card {
        flex: 0 0 auto !important;      /* Stop stretching */
        width: 85vw !important;         /* 85% of phone screen width */
        min-width: 85vw !important;
        max-width: 85vw !important;
        height: 280px !important;
        scroll-snap-align: center;
        
        /* Internal Scroll for Long Text */
        display: flex !important;
        flex-direction: column !important;
    }

    .swipe-card > div:not(.card-header) {
        overflow-y: auto !important;
        flex-grow: 1;
    }
}

/* --- 3. BREATHING COUNTDOWN BORDER --- */
#countdown-panel {
    position: relative; overflow: hidden; border: 2px solid transparent; background-clip: padding-box;
}
#countdown-panel::before {
    content: ''; position: absolute; top: 0; right: 0; bottom: 0; left: 0; z-index: -1; margin: -2px; border-radius: inherit;
    background: linear-gradient(45deg, var(--brand-gold), #7c2d12, var(--brand-gold));
    background-size: 200% 200%; animation: borderFlow 4s ease infinite;
}
@keyframes borderFlow { 0% { background-position: 0% 50%; } 100% { background-position: 0% 50%; } }
/* --- TOOLTIP SYSTEM --- */
.tooltip-trigger {
    position: relative;
    cursor: help;
    margin-left: 5px;
    color: var(--brand-gold);
    font-size: 0.8rem;
}

.tooltip-content {
    visibility: hidden;
    width: 180px;
    background-color: #1e293b;
    color: #fff;
    text-align: center;
    border-radius: 8px;
    padding: 10px;
    position: absolute;
    z-index: 1001;
    bottom: 125%;
    left: 50%;
    transform: translateX(-50%);
    opacity: 0;
    transition: opacity 0.3s;
    font-size: 0.75rem;
    line-height: 1.4;
    border: 1px solid var(--brand-gold);
    box-shadow: 0 10px 15px rgba(0,0,0,0.3);
    pointer-events: none;
}

.tooltip-trigger:hover .tooltip-content {
    visibility: visible;
    opacity: 1;
}



/* --- INFO HUB STYLES --- */
.info-tab-content { display: none; text-align: left; margin-top: 20px; font-size: 0.9rem; line-height: 1.6; color: var(--text-secondary); }
.info-tab-content.active { display: block; }

.info-nav {
    display: flex;
    gap: 10px;
    overflow-x: auto;
    padding-bottom: 10px;
    border-bottom: 1px solid var(--border);
    margin-bottom: 15px;
}

.info-nav-btn {
    background: none; border: none; color: var(--text-secondary);
    padding: 5px 15px; cursor: pointer; white-space: nowrap; font-weight: 600;
}

.info-nav-btn.active { color: var(--brand-gold); border-bottom: 2px solid var(--brand-gold); }

/* Fix for small screens */
@media (max-width: 768px) {
    .onboard-card { padding: 20px; }
}

/* --- GAME-STYLE TUTORIAL OVERLAY --- */
#tutorial-overlay {
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background: rgba(0, 0, 0, 0.85); /* Dark background */
    z-index: 2000;
    display: none; /* Hidden by default */
    cursor: pointer;
}

/* The Explainer Box */
#tutorial-box {
    position: fixed; /* Fixed so it floats on top */
    background: var(--bg-card);
    border: 1px solid var(--brand-gold);
    color: #fff;
    padding: 20px;
    border-radius: 15px;
    width: 300px;
    z-index: 2002;
    box-shadow: 0 0 50px var(--brand-gold-glow);
    display: none;
    transition: all 0.3s ease;
}

#tutorial-box h3 {
    color: var(--brand-gold);
    font-family: 'Amiri', serif;
    margin-bottom: 10px;
}

#tutorial-box button {
    margin-top: 15px;
    background: var(--brand-gold);
    color: #000;
    border: none;
    padding: 8px 20px;
    border-radius: 20px;
    font-weight: bold;
    cursor: pointer;
    float: right;
}

/* The "Spotlight" Class - We add this to elements dynamically */
.tutorial-spotlight {
    position: relative !important;
    z-index: 2001 !important;
    background: var(--bg-card) !important; /* Ensure it's not transparent */
    box-shadow: 0 0 0 5px var(--brand-gold), 0 0 100px rgba(0,0,0,0.5) !important;
    transform: scale(1.05); /* Slight pop effect */
    transition: all 0.3s ease;
    pointer-events: none; /* User can't click the button, only look at it */
}

/* Add this to your CSS */
.center-row {
    display: flex;
    justify-content: center;
    align-items: center;
    gap: 15px;
    flex-wrap: wrap;
    width: 100%; /* Forces it to span full width */
    margin-top: 25px;
    margin-bottom: 25px;
}

/* --- FORCE VERTICAL STACKING --- */
.hero-content {
    display: flex !important;
    flex-direction: column !important; /* Forces vertical stacking */
    align-items: center !important;    /* Centers everything horizontally */
    justify-content: flex-start !important;
    width: 100% !important;
    text-align: center !important;
}

/* Fix the Date Row specifically */
.date-row, 
.hero-content > div[style*="display:flex"] {
    display: flex !important;
    flex-direction: row !important; /* Dates stay side-by-side */
    justify-content: center !important;
    width: 100% !important;
    margin-bottom: 20px !important;
}

/* Ensure Widget has space */
.ramadan-widget {
    margin-top: 10px !important;
    margin-bottom: 30px !important;
}

/* --- SEARCH HIGHLIGHT EFFECT --- */
@keyframes flashGold {
    0% { background: rgba(251, 191, 36, 0.4); transform: scale(1.02); }
    100% { background: rgba(251, 191, 36, 0.1); transform: scale(1); }
}

.highlight-ayah {
    animation: flashGold 1.5s ease-out forwards;
    border: 2px solid var(--brand-gold) !important;
    border-radius: 15px;
    padding: 20px !important;
    scroll-margin-top: 100px; /* Leaves space for the header when scrolling */
}

/* --- SERENITY PLAYLIST STYLES --- */
.playlist-tab {
    flex: 1;
    background: transparent;
    border: none;
    border-right: 1px solid var(--border);
    color: var(--text-secondary);
    padding: 12px 5px;
    cursor: pointer;
    font-size: 0.8rem;
    font-weight: 600;
    transition: 0.3s;
}
.playlist-tab:last-child { border-right: none; }
.playlist-tab:hover, .playlist-tab.active {
    background: rgba(251, 191, 36, 0.1);
    color: var(--brand-gold);
}

.track-item {
    display: flex;
    align-items: center;
    padding: 15px 20px;
    border-bottom: 1px solid var(--border);
    cursor: pointer;
    transition: 0.2s;
}
.track-item:hover { background: rgba(255,255,255,0.05); }

.track-item.playing {
    background: rgba(251, 191, 36, 0.1); /* Gold Highlight */
    border-left: 3px solid var(--brand-gold);
}

.track-icon { margin-right: 15px; color: var(--text-secondary); font-size: 1rem; }
.track-item.playing .track-icon { color: var(--brand-gold); animation: pulseIcon 1.5s infinite; }

.track-info { flex: 1; text-align: left; }
.track-name { font-size: 0.9rem; color: var(--text-primary); display: block; font-weight: 500; }
.track-meta { font-size: 0.75rem; color: var(--text-secondary); }

@keyframes pulseIcon { 0% { transform: scale(1); } 50% { transform: scale(1.2); } 100% { transform: scale(1); } }
/* --- AUDIO CONTROL BUTTONS --- */
.audio-btn {
    background: rgba(255,255,255,0.05);
    border: 1px solid var(--border);
    color: var(--text-secondary);
    width: 40px; height: 40px;
    border-radius: 50%;
    cursor: pointer;
    transition: 0.3s;
    display: flex; align-items: center; justify-content: center;
    font-size: 0.9rem;
}

.audio-btn:hover {
    background: var(--brand-gold);
    color: #000;
    transform: scale(1.1);
}

/* Active Loop State */
.audio-btn.active {
    border-color: var(--brand-gold);
    color: var(--brand-gold);
    background: rgba(251, 191, 36, 0.1);
    box-shadow: 0 0 10px var(--brand-gold-glow);
}

/* --- HABIT HEATMAP --- */
.heatmap-container {
    display: flex;
    justify-content: center;
    gap: 4px;
    margin-top: 15px;
    flex-wrap: wrap;
}
.heat-box {
    width: 12px;
    height: 12px;
    border-radius: 3px;
    background: rgba(255,255,255,0.1);
    transition: 0.3s;
}
.heat-box.active {
    background: var(--brand-gold);
    box-shadow: 0 0 5px var(--brand-gold-glow);
}
.heat-label {
    font-size: 0.7rem; color: var(--text-secondary); 
    text-align: center; margin-top: 5px; letter-spacing: 1px;
}

/* --- HEATMAP FIX FOR LIGHT MODE --- */
/* In Dark Mode, they are white (already set). */
/* In Light Mode, we make them Darker so they show up against the bright paper. */

body.light-theme .heat-box {
    background: rgba(60, 40, 30, 0.1); /* Subtle Brown Fill */
    border: 1px solid rgba(60, 40, 30, 0.2); /* Defines the edges */
}

/* Ensure the "Active" Gold box still glows in Light Mode */
body.light-theme .heat-box.active {
    background: var(--brand-gold);
    border-color: var(--brand-gold);
    box-shadow: 0 0 5px var(--brand-gold-glow);
}

/* --- FIXED SHARE CARD TEMPLATE (Instagram Ready) --- */
#share-card-template {
    position: fixed; 
    left: -9999px; 
    top: 0;
    width: 1080px; 
    height: 1080px; /* Standard Square */
    
    /* 1. Background & Border */
    background: radial-gradient(circle at center, #1e293b 0%, #0f172a 100%);
    border: 30px solid #fbbf24; /* Thicker Gold Border */
    
    /* 2. Flex Layout to prevent overlapping */
    display: flex; 
    flex-direction: column; 
    align-items: center; 
    justify-content: space-between; /* Pushes content apart */
    
    /* 3. Padding (The Safe Zone) */
    padding: 100px 80px; 
    box-sizing: border-box;
    text-align: center;
    color: #fff;
}

/* The Title (Daily Inspiration) */
#share-card-header {
    font-size: 2.5rem; 
    color: #94a3b8; 
    text-transform: uppercase; 
    letter-spacing: 5px;
    margin-bottom: 20px;
}

/* The Content Container (Holds Verse + Translation) */
#share-card-body {
    flex: 1; /* Takes up all available middle space */
    display: flex;
    flex-direction: column;
    justify-content: center; /* Centers text vertically */
    align-items: center;
    gap: 40px; /* Space between Arabic and English */
    width: 100%;
}

/* Arabic Text (Responsive) */
#share-card-ar {
    font-family: 'Amiri', serif; 
    font-size: 3.8rem; /* Reduced from 5rem to fit better */
    line-height: 1.5; 
    color: #ffffff;
    text-shadow: 0 0 30px rgba(0,0,0,0.5);
    max-height: 450px; /* Cap height */
    overflow: hidden; /* Prevent spillover */
}

/* English Text */
#share-card-en {
    font-size: 1.8rem; /* Reduced from 2.5rem */
    color: #cbd5e1; 
    font-style: italic; 
    line-height: 1.4;
    max-width: 90%;
}

/* The Reference (Surah Name) */
#share-card-ref {
    font-size: 2rem; 
    color: #fbbf24; 
    font-weight: bold;
    margin-top: 10px;
    text-transform: uppercase;
    letter-spacing: 2px;
}

/* The Logo (Pinned to Bottom) */
#share-card-logo {
    display: flex;
    align-items: center;
    gap: 15px;
    margin-top: 40px;
}

#share-card-logo i {
    font-size: 3rem; 
    color: #fbbf24;
}

#share-card-logo span {
    font-family: 'Amiri', serif; 
    color: #fbbf24; 
    font-size: 3.5rem; 
    font-weight: 700;
    line-height: 1;
}

/* --- ZAKAT & TOOLS STYLES --- */
.tool-card {
    background: rgba(255,255,255,0.03); 
    border: 1px solid var(--border); 
    padding: 20px; 
    border-radius: 15px; 
    margin-bottom: 20px;
}
.calc-row {
    display: flex; justify-content: space-between; align-items: center; margin-bottom: 15px;
}
.calc-input {
    background: rgba(0,0,0,0.3); border: 1px solid var(--border); 
    color: #fff; padding: 8px; border-radius: 8px; width: 100px; text-align: center;
}
.result-box {
    background: var(--brand-gold); color: #000; padding: 15px; 
    border-radius: 12px; text-align: center; font-weight: bold; margin-top: 15px;
    display: none; /* Hidden until calculated */
}

/* --- SLEEP SUNNAH MODE (Red Shift) --- */
body.sleep-mode {
    filter: sepia(100%) hue-rotate(-50deg) contrast(1.1) brightness(0.8);
    background: #000; /* Deep black for OLED saving */
    transition: filter 1s ease, background 1s ease;
}
body.sleep-mode nav, 
body.sleep-mode .nav-menu {
    opacity: 0; /* Hide distractions */
    pointer-events: none;
}
#sleep-exit-btn {
    position: fixed; top: 20px; right: 20px; z-index: 9999;
    background: #fff; color: #000; padding: 10px 20px; border-radius: 50px;
    display: none; cursor: pointer; font-weight: bold;
}
body.sleep-mode #sleep-exit-btn { display: block; }

/* --- QADA TRACKER --- */
.qada-grid {
    display: grid; grid-template-columns: 1fr 1fr; gap: 10px; margin-top: 15px;
}
.qada-item {
    background: rgba(255,255,255,0.05); padding: 10px; border-radius: 10px;
    display: flex; flex-direction: column; align-items: center;
}
.qada-btn {
    width: 30px; height: 30px; border-radius: 50%; border: none; 
    cursor: pointer; font-weight: bold; margin: 0 5px;
}
.qada-count { font-size: 1.2rem; font-weight: bold; color: var(--brand-gold); margin: 5px 0; }

/* --- TAZKIYAH CARD --- */
.tazkiyah-badge {
    background: var(--brand-green); color: #000; padding: 5px 10px; 
    border-radius: 20px; font-size: 0.7rem; font-weight: bold; text-transform: uppercase;
}

/* --- FIX: NEXT PRAYER VISIBILITY --- */
/* Force the text inside the main prayer card to always be light, 
   even if the rest of the app is in Light Mode (Brown text) */

#next-prayer-container, 
.next-prayer-highlight {
    color: #ffffff !important; /* Force White Text */
}

/* Make the Timer (00:28:03) pop */
#time-remaining {
    color: #ffffff !important;
    text-shadow: 0 2px 10px rgba(0,0,0,0.2); /* Subtle shadow for readability */
}

/* Make the Prayer Name (DHUHR) Gold */
#next-prayer-name {
    color: var(--brand-gold) !important;
    filter: drop-shadow(0 0 5px rgba(0,0,0,0.3));
}

/* Ensure the small label "NEXT PRAYER" is visible too */
.next-label {
    color: rgba(255, 255, 255, 0.8) !important;
}

/* --- FIX: FORCE ALL TEXT IN PRAYER CARD TO BE VISIBLE --- */

/* 1. Target the Container (The Brown Box) */
#next-prayer-container,
.next-prayer-highlight,
.prayer-hero-card {
    color: #ffffff !important; /* Base color White */
}

/* 2. Target EVERY element inside the box */
#next-prayer-container *,
.next-prayer-highlight * {
    color: inherit !important; /* Forces them to use the White from above */
}

/* 3. Make the "NEXT: DHUHR" label stand out */
/* If it's a paragraph or small text */
#next-prayer-container p,
.next-prayer-highlight p,
.next-prayer-label {
    color: rgba(255, 255, 255, 0.9) !important;
    font-weight: 500;
    letter-spacing: 1px;
    text-transform: uppercase;
}

/* 4. Make the specific prayer name (DHUHR) Gold if it has its own ID */
#next-prayer-name,
.current-prayer-name {
    color: var(--brand-gold) !important;
    text-shadow: 0 0 10px rgba(0,0,0,0.3);
}

/* 5. The Big Timer */
#time-remaining {
    color: #ffffff !important;
    font-weight: 700;
}

/* --- E-CODE CHECKER STYLES --- */
.ecode-result {
    margin-top: 15px; padding: 15px; border-radius: 10px; font-weight: bold; text-align: center; display: none;
}
.ecode-halal { background: rgba(16, 185, 129, 0.2); color: #6ee7b7; border: 1px solid #6ee7b7; }
.ecode-haram { background: rgba(239, 68, 68, 0.2); color: #fca5a5; border: 1px solid #fca5a5; }
.ecode-mushbooh { background: rgba(251, 191, 36, 0.2); color: #fcd34d; border: 1px solid #fcd34d; }

/* --- RABBANA DUAS GRID --- */
/* --- FIXED RABBANA GRID (Scrollable Window) --- */
.rabbana-grid {
    display: flex;
    flex-direction: column;
    grid-template-columns: repeat(auto-fill, minmax(280px, 1fr));
    gap: 15px;
    
    /* 1. LIMIT HEIGHT & ENABLE SCROLL */
    max-height: 600px;       /* Keeps the list short on the screen */
    overflow-y: auto;        /* Adds a scrollbar inside this box */
    
    /* 2. VISUAL POLISH */
    padding: 20px;
    background: rgba(0, 0, 0, 0.2); /* Darker background to separate it */
    border: 1px solid var(--border);
    border-radius: 15px;
    
    /* 3. CUSTOM SCROLLBAR (Gold) */
    scrollbar-width: thin;
    scrollbar-color: var(--brand-gold) rgba(255,255,255,0.05);
}

/* Chrome/Safari Scrollbar Styling */
.rabbana-grid::-webkit-scrollbar {
    width: 8px;
}
.rabbana-grid::-webkit-scrollbar-track {
    background: rgba(255,255,255,0.05);
    border-radius: 4px;
}
.rabbana-grid::-webkit-scrollbar-thumb {
    background-color: var(--brand-gold);
    border-radius: 4px;
    border: 2px solid rgba(0,0,0,0.2);
}
.rabbana-card {
    background: rgba(255,255,255,0.03); padding: 20px; border-radius: 12px; border: 1px solid var(--border);
}
.rabbana-arabic { font-family: 'Amiri', serif; font-size: 1.4rem; color: var(--brand-gold); margin-bottom: 10px; }
.rabbana-ref { font-size: 0.75rem; color: var(--text-secondary); margin-top: 10px; text-align: right; }

#rabbana-section {
    max-width: 800px;       /* Matches the width of other cards */
    margin: 30px auto;      /* Centers it on the screen */
}

.rabbana-card {
    width: 100%;            /* Forces full width */
    background: rgba(255,255,255,0.03); 
    padding: 25px; 
    border-radius: 12px; 
    border: 1px solid var(--border);
    text-align: center;     /* Centers the Arabic text beautifully */
    transition: transform 0.2s;
}

.rabbana-card:hover {
    transform: scale(1.01);
    background: rgba(255,255,255,0.05);
    border-color: var(--brand-gold);
}

/* 4. Improve Text Readability */
.rabbana-arabic {
    font-family: 'Amiri', serif; 
    font-size: 1.8rem;      /* Larger Arabic text */
    line-height: 2;         /* More breathing room */
    color: var(--brand-gold); 
    margin-bottom: 15px;
}


/* --- 1. LIGHT MODE (Force Override) --- */
body.light-theme {
    /* ðŸ”´ CRITICAL FIX: Use !important to kill the atmosphere gradient */
    background: #f5f0e6 !important; 
    animation: none !important; /* Stop the moving colors */
    
    /* Variables */
    --bg-body: #f5f0e6; 
    --bg-card: rgba(255, 252, 245, 0.6); 
    --bg-nav: rgba(255, 252, 245, 0.8);
    --border: rgba(120, 80, 40, 0.1);
    
    --text-primary: #3e2723;   
    --text-secondary: #795548; 
    
    --brand-gold: #b45309; 
    --brand-gold-glow: rgba(180, 83, 9, 0.15);
    
    --brand-green: #15803d; 
    --brand-green-glow: rgba(21, 128, 61, 0.15);
    
    --shadow-card: 0 10px 30px -5px rgba(62, 39, 35, 0.08);
    --input-bg: rgba(255, 255, 255, 0.7);
}

/* --- 2. RAMADAN MODE (Force Override) --- */
body.ramadan-mode {
    /* ðŸ”´ CRITICAL FIX: Force the Purple Background */
    background: radial-gradient(at 50% 0%, rgba(192, 132, 252, 0.3) 0, #2e1065 100%) !important;
    background-color: #2e1065 !important;
    animation: none !important; /* Stop the atmosphere */

    --bg-body: #2e1065; 
    --bg-card: rgba(88, 28, 135, 0.5);
    --bg-nav: rgba(19, 7, 36, 0.95);
    --brand-gold: #fbbf24;
    --brand-green: #d8b4fe; 
    --text-secondary: #e9d5ff;
}


/* --- ASR TIME SPECIFIC COLORS (High Contrast) --- */
/* Only triggers when the background is Gold/Orange */

body.time-asr .greeting {
    /* 1. Turn off the default gradient text */
    background: none !important;
    -webkit-text-fill-color: initial !important; 
    
    /* 2. Set a Deep Brown Color */
    color: #3e2723 !important; /* Dark Coffee */
    text-shadow: 0 1px 0 rgba(255,255,255,0.4); /* Slight white highlight for depth */
}

/* Fix the Date Badge */
body.time-asr .date-badge {
    background: rgba(62, 39, 35, 0.1) !important; /* Darker tint background */
    color: #3e2723 !important; /* Dark Text */
    border-color: rgba(62, 39, 35, 0.3) !important;
}

/* Optional: Make the small tagline readable too */
body.time-asr .hero-tagline, 
body.time-asr .hero-dua {
    color: #5d4037 !important; /* Slightly lighter brown */
    font-weight: 600;
}

/* --- PREMIUM INSPIRATION TABS --- */
.inspiration-tabs {
    display: flex;
    gap: 10px;
    padding: 6px;
    background: rgba(0, 0, 0, 0.2);
    border: 1px solid var(--border);
    border-radius: 50px;
    margin-bottom: 20px;
}

.insp-tab-btn {
    flex: 1;
    background: transparent;
    border: none;
    color: var(--text-secondary);
    padding: 12px;
    border-radius: 40px;
    cursor: pointer;
    font-weight: 600;
    font-size: 0.85rem;
    display: flex;
    align-items: center;
    justify-content: center;
    gap: 8px;
    transition: 0.3s;
}

.insp-tab-btn.active {
    background: var(--brand-gold);
    color: #000 !important;
    box-shadow: 0 4px 15px var(--brand-gold-glow);
}

/* --- CONTENT VISIBILITY FIXES --- */
.insp-content { display: none; animation: fadeIn 0.4s ease; }
.insp-content.active { display: block; }

.insp-card {
    background: var(--bg-card);
    border: 1px solid var(--border);
    min-height: 350px;
    padding: 30px !important;
}

.insp-arabic {
    font-family: 'Amiri', serif;
    font-size: 2rem !important;
    text-align: center;
    line-height: 1.8;
    color: var(--brand-gold) !important;
    margin-bottom: 20px;
}

.insp-translation {
    font-size: 1.1rem;
    color: var(--text-primary) !important;
    text-align: center;
    font-style: italic;
    line-height: 1.6;
}

.insp-text-main {
    font-size: 1.15rem;
    color: var(--text-primary) !important;
    text-align: center;
    line-height: 1.7;
}

.insp-reference {
    color: var(--brand-gold);
    font-size: 0.85rem;
    font-weight: bold;
    margin-top: 15px;
}

.insp-share-btn {
    background: transparent;
    border: 1px solid var(--border);
    color: var(--text-secondary);
    padding: 8px 20px;
    border-radius: 20px;
    cursor: pointer;
    font-size: 0.8rem;
    margin: 20px auto 0 auto;
    display: block;
}

/* --- ULTIMATE VISIBILITY REPAIR --- */

/* 1. Force the Mosque button text to Dark Brown in Light/Asr modes */
body.light-theme .mosque-btn, 
body.light-theme .location-btn,
body.time-asr .mosque-btn, 
body.time-asr .location-btn {
    color: #3e2723 !important; 
    background: #ffffff !important;
    border: 2px solid rgba(62, 39, 35, 0.4) !important;
    opacity: 1 !important;
    font-weight: 700 !important;
}

/* 2. Force the Qada icons and text to Dark Brown */
body.light-theme .qada-plus-btn,
body.light-theme .qada-count {
    color: #3e2723 !important;
}

body.light-theme .qada-plus-btn {
    background: #ffffff !important;
    border: 1px solid rgba(62, 39, 35, 0.2) !important;
}

/* 3. Handle Icons specifically */
body.light-theme i, 
body.time-asr i {
    filter: drop-shadow(0 1px 0 rgba(255,255,255,0.5)); 
}

/* --- DAILY VERSE ALIGNMENT FIX --- */
#tab-verse .insp-card {
    display: flex !important;
    flex-direction: column !important;
    align-items: center !important; /* Forces all items to center */
    text-align: center !important;
    justify-content: center;
}

#verse-controls {
    display: flex !important;
    justify-content: center !important;
    align-items: center !important;
    margin: 20px auto 0 auto !important; /* Horizontal auto-centering */
}

/* Ensure the Share button at the bottom is also aligned */
.insp-share-btn {
    margin: 25px auto 0 auto !important;
}

/* --- SECRET HOVER TOOLTIP --- */
.inspired-heart {
    position: relative;
    cursor: help;
    display: inline-block;
}

.secret-tooltip {
    visibility: hidden;
    width: 240px;
    background: var(--bg-nav);
    color: var(--brand-gold);
    text-align: center;
    border-radius: 12px;
    padding: 12px;
    position: absolute;
    z-index: 100;
    bottom: 130%; /* Positions it above the text */
    left: 50%;
    transform: translateX(-50%) translateY(10px);
    opacity: 0;
    transition: all 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.275);
    font-size: 0.8rem;
    font-weight: 500;
    font-family: 'Outfit', sans-serif;
    border: 1px solid var(--brand-gold);
    box-shadow: 0 10px 25px rgba(0,0,0,0.5);
    pointer-events: none;
    line-height: 1.4;
}

/* Tooltip Arrow */
.secret-tooltip::after {
    content: "";
    position: absolute;
    top: 100%;
    left: 50%;
    margin-left: -6px;
    border-width: 6px;
    border-style: solid;
    border-color: var(--brand-gold) transparent transparent transparent;
}

/* Trigger on Hover */
.inspired-heart:hover .secret-tooltip {
    visibility: visible;
    opacity: 1;
    transform: translateX(-50%) translateY(0);
}

/* LIGHT MODE: Daily Verse Heart Icon */
body.light-theme .bookmark-btn i,
body.time-asr .bookmark-btn i {
    color: #3e2723 !important; /* Force Dark Brown */
    opacity: 1 !important;
}

/* Ensure the button background has contrast */
body.light-theme .bookmark-btn {
    background: rgba(62, 39, 35, 0.1) !important;
    border: 1px solid rgba(62, 39, 35, 0.2) !important;
}

/* --- CONSOLIDATED THEME REPAIR --- */

/* 1. Global Player Title Fix */
#player-title {
    color: #ffffff !important; 
    font-weight: 700 !important;
    text-shadow: 0 2px 10px rgba(0,0,0,0.4);
}

/* 2. LIGHT MODE & ASR TIME OVERRIDES */
body.light-theme, body.time-asr {
    #player-title {
        color: #3e2723 !important; /* Force Dark Brown */
        text-shadow: none !important;
    }
    #player-category {
        color: #b45309 !important; /* Force Gold */
        opacity: 1 !important;
    }
    .mosque-btn, .location-btn, .btn-action[onclick*="findMosque"] {
        color: #3e2723 !important;
        background: #ffffff !important;
        border: 2px solid rgba(62, 39, 35, 0.4) !important;
        opacity: 1 !important;
    }
    /* Qada & Favorite Buttons */
    .qada-plus-btn, .qada-count, .bookmark-btn i {
        color: #3e2723 !important;
        opacity: 1 !important;
    }
    .qada-plus-btn, .bookmark-btn {
        background: #ffffff !important;
        border: 1px solid rgba(62, 39, 35, 0.2) !important;
    }
}


</style>

<body>
    <div id="tutorial-overlay"></div>

<div id="tutorial-box">
    <h3 id="tut-title">Title</h3>
    <p id="tut-text">Description goes here.</p>
    <div style="margin-top:10px; font-size:0.8rem; color:#aaa;">Step <span id="tut-step">1</span> of 7</div>
    <button onclick="nextTutorialStep()">Next <i class="fas fa-arrow-right"></i></button>
    <button onclick="endTutorial()" style="background:transparent; color:#aaa; float:left; margin-right:10px;">Skip</button>
</div>
   
    <div id="bismillah-screen">
    <div class="bismillah-text">Ø¨ÙØ³Ù’Ù…Ù Ù±Ù„Ù„ÙŽÙ‘Ù°Ù‡Ù Ù±Ù„Ø±ÙŽÙ‘Ø­Ù’Ù…ÙŽÙ°Ù†Ù Ù±Ù„Ø±ÙŽÙ‘Ø­ÙÙŠÙ…Ù</div>
    <div class="bismillah-eng">In the Name of Allah, the Most Gracious, the Most Merciful</div>
</div>

    <nav>
        <div class="brand-lockup">
    <svg class="brand-emblem" viewBox="0 0 100 100" xmlns="http://www.w3.org/2000/svg">
        <defs>
            <linearGradient id="gold-grad" x1="0%" y1="0%" x2="100%" y2="100%">
                <stop offset="0%" style="stop-color:#fbbf24;stop-opacity:1" />
                <stop offset="100%" style="stop-color:#d97706;stop-opacity:1" />
            </linearGradient>
        </defs>
        <path d="M50,10 C27.9,10 10,27.9 10,50 C10,72.1 27.9,90 50,90 C54.5,90 58.8,89.2 62.9,87.8 C55.2,85.9 48.5,81.7 43.6,75.9 C38.7,70.1 36,62.7 36,55 C36,42.5 43.1,31.6 53.6,25.9 C52.4,25.6 51.2,25.5 50,25.5 C36.5,25.5 25.5,36.5 25.5,50 C25.5,63.5 36.5,74.5 50,74.5 C54.8,74.5 59.3,73.1 63.1,70.6 C65.1,73.7 67.8,76.3 71,78.2 C64.9,82.3 57.7,84.5 50,84.5 C31,84.5 15.5,69 15.5,50 C15.5,31 31,15.5 50,15.5 C57.6,15.5 64.6,17.9 70.6,21.9 C65.9,25.1 62.3,29.6 60.1,34.8 C65.3,32.6 71.1,31.4 77.3,31.4 C79.1,31.4 80.9,31.6 82.6,31.9 C84.8,25.2 83.9,17.7 79.7,11.8 C72,16.9 62.3,20 52,20 C51.3,20 50.7,20 50,19.9 L50,10 Z M77.3,36.9 C72.8,36.9 68.4,37.9 64.5,39.6 C67,42.9 68.5,46.9 68.5,51.2 C68.5,57.2 65.6,62.5 61.1,65.9 C64,67.2 67.2,67.9 70.6,67.9 C78.8,67.9 85.6,61.5 86.3,53.5 C86.4,52.7 86.5,52 86.5,51.2 C86.5,43.3 82.4,36.9 77.3,36.9 Z M56.5,51.2 C56.5,48.3 55.6,45.6 54.1,43.3 C52.2,45.5 51,48.2 51,51.2 C51,54.2 52.2,56.9 54.1,59.1 C55.6,56.8 56.5,54.1 56.5,51.2 Z" fill="url(#gold-grad)"/>
    </svg>
    <div class="brand-text-container">
        <span class="brand-daily">DAILY</span>
        <span class="brand-deen">Deen</span>
    </div>
</div>
       <div class="nav-menu">
    <button class="nav-btn active" onclick="switchTab('home', this)">
        <i class="fas fa-home"></i> <span class="nav-label">Home</span>
    </button>
    <button class="nav-btn" onclick="switchTab('qibla', this)">
        <i class="fas fa-compass"></i> <span class="nav-label">Qibla</span>
    </button>
    <button class="nav-btn" onclick="switchTab('quran', this)">
        <i class="fas fa-book-open"></i> <span class="nav-label">Quran</span>
    </button>
    <button class="nav-btn" onclick="switchTab('adhkar', this)">
        <i class="fas fa-fingerprint"></i> <span class="nav-label">Adhkar</span>
    </button>
    <button class="nav-btn" onclick="switchTab('serenity', this)">
        <i class="fas fa-cloud-moon"></i> <span class="nav-label">Serenity</span>
    </button>
    <button class="nav-btn" onclick="switchTab('info', this)">
    <i class="fas fa-info-circle"></i> <span class="nav-label">Info</span>
</button>
    <button class="nav-btn" onclick="switchTab('settings', this)">
        <i class="fas fa-cog"></i> <span class="nav-label">Settings</span>
    </button>
</div>
        <button class="theme-toggle" onclick="toggleTheme()"><i class="fas fa-sun"></i></button>
    </nav>

    
        

        <section id="home" class="view-section active">

       
           <div class="hero">
    <div class="hero-content">
       

       <div class="hero-arabic">
    Ù±Ù„Ø³ÙŽÙ‘Ù„ÙŽØ§Ù…Ù Ø¹ÙŽÙ„ÙŽÙŠÙ’ÙƒÙÙ…Ù’ ÙˆÙŽØ±ÙŽØ­Ù’Ù…ÙŽØ©Ù Ù±Ù„Ù„ÙŽÙ‘Ù°Ù‡Ù ÙˆÙŽØ¨ÙŽØ±ÙŽÙƒÙŽØ§ØªÙÙ‡Ù
</div>

<div style="font-family: 'Amiri', serif; font-size: 1.8rem; color: var(--text-secondary); margin-top: 5px; opacity: 0.9; text-align: center;">
    Ø£ÙŽÙ‡Ù’Ù„Ù‹Ø§ ÙˆÙŽØ³ÙŽÙ‡Ù’Ù„Ù‹Ø§
</div>
        
        <div class="hero-tagline">Welcome to Daily Deen <br> Your Daily Companion for Prayer, Remembrance & Reflection</div>
        
        <div class="hero-dua">"May Allah place light in your heart"</div>
        
        <div style="display:flex; justify-content:center; gap:10px; flex-wrap:wrap; margin-top: 25px;">
            <div class="date-badge" id="gregorian-date" style="border-color: var(--border); color: var(--text-secondary); background: transparent;">
                Loading...
            </div>
            <div class="date-badge" id="hijri-date">
                Loading Date...
            </div>
        </div>
           <div class="ramadan-widget">
    <button class="ramadan-btn" id="ramadan-toggle" onclick="toggleRamadanMode()">
        <i class="fas fa-moon"></i> Ramadan Mode: OFF
    </button>
    <div id="ramadan-countdown-text" class="ramadan-days-left">
        Loading...
    </div>
</div> 
        </div>
    </div>
</div>

   <div class="scroll-indicator" onclick="scrollToGrid()">
        <span class="scroll-text">Scroll to Begin</span>
        <div class="mouse-icon">
            <div class="wheel"></div>
        </div>
        <i class="fas fa-chevron-down arrow-bounce"></i>
    </div>


    

<div class="card" style="margin-bottom: 25px; border-color: var(--brand-green-glow);">
    <div class="card-header"><i class="fas fa-heartbeat" style="color: var(--brand-green);"></i> How is your heart today?</div>
    <div class="mood-selector" id="mood-selector">
        <button onclick="showRemedy('anxious')" class="mood-btn">ðŸŒªï¸ Anxious</button>
        <button onclick="showRemedy('sad')" class="mood-btn">ðŸŒ§ï¸ Sad</button>
        <button onclick="showRemedy('lazy')" class="mood-btn">ðŸ’¤ Lazy</button>
        <button onclick="showRemedy('grateful')" class="mood-btn">â˜€ï¸ Grateful</button>
        <button onclick="showRemedy('sinful')" class="mood-btn">ðŸ’” Distant</button>
    </div>
    <div id="remedy-box" style="display:none; margin-top: 20px; text-align: center; animation: fadeIn 0.5s;">
        <h3 id="remedy-title" style="color: var(--brand-gold); font-family: 'Amiri', serif; margin-bottom: 10px;"></h3>
        <p id="remedy-arabic" style="font-family: 'Amiri', serif; font-size: 1.5rem; line-height: 1.8; margin-bottom: 10px;"></p>
        <p id="remedy-translation" style="color: var(--text-secondary); font-style: italic; margin-bottom: 15px;"></p>
        <button onclick="resetMood()" style="background: transparent; border: 1px solid var(--border); color: var(--text-secondary); padding: 5px 15px; border-radius: 20px; cursor: pointer; font-size: 0.8rem;">Choose Another</button>
    </div>
</div>

<div class="card" style="margin-bottom: 25px;">
    <div class="card-header"><i class="fas fa-list-check"></i> Daily Checklist</div>
    <div id="sunnah-list" class="checklist-container"></div>
    <p style="text-align:center; font-size:0.75rem; color:var(--text-secondary); margin-top:10px;">*Resets automatically at midnight</p>

    <div style="margin-top: 20px; padding-top: 15px; border-top: 1px dashed var(--border);">
    <div class="heat-label">30-DAY CONSISTENCY</div>
    <div id="habit-heatmap" class="heatmap-container">
        </div>
</div>
</div>

<div class="card" style="border-left: 4px solid var(--brand-green);">
    <div class="card-header">
        <i class="fas fa-seedling" style="color: var(--brand-green);"></i> Weekly Character Challenge
        <span class="tazkiyah-badge">Week <span id="tazkiyah-week">1</span></span>
    </div>
    <div style="text-align: center;">
        <h3 id="tazkiyah-title" style="color: #fff; font-family: 'Amiri', serif; margin-bottom: 5px;">Loading...</h3>
        <p id="tazkiyah-desc" style="color: var(--text-secondary); font-size: 0.9rem; margin-bottom: 15px;">Loading...</p>
        <div style="background: rgba(16, 185, 129, 0.1); padding: 10px; border-radius: 8px; font-size: 0.8rem; color: var(--brand-green);">
            <i class="fas fa-check-circle"></i> <b>Mission:</b> <span id="tazkiyah-task">...</span>
        </div>
    </div>
</div>
            <div class="grid">
                <div class="card">
                    <div class="card-header">
    <i class="fas fa-mosque"></i> 
    <span>Prayer Times</span>
    <span id="active-city-label" style="margin-left: auto; font-size: 0.8rem; color: var(--brand-gold); text-transform: capitalize;"></span>
</div>
                    <div id="ramadan-card" class="card" style="display:none; border: 1px solid var(--brand-gold);">
        <div class="card-header"><i class="fas fa-star-and-crescent"></i> Ramadan Tracker</div>
        
        <div style="display:flex; justify-content:space-between; align-items:center; background:var(--input-bg); padding:10px; border-radius:10px; margin-bottom:10px;">
            <span>Taraweeh</span>
            <div style="display:flex; gap:10px; align-items:center;">
                <button onclick="modCount('taraweeh', -2)" style="width:30px; height:30px; border-radius:50%; border:none; background:var(--brand-green); color:#000; font-weight:bold;">-</button>
                <span id="taraweeh-count" style="font-weight:bold; width:20px; text-align:center;">0</span>
                <button onclick="modCount('taraweeh', 2)" style="width:30px; height:30px; border-radius:50%; border:none; background:var(--brand-green); color:#000; font-weight:bold;">+</button>
            </div>
        </div>

        <div style="display:flex; justify-content:space-between; align-items:center; background:var(--input-bg); padding:10px; border-radius:10px;">
            <span>Missed Fasts</span>
            <div style="display:flex; gap:10px; align-items:center;">
                <button onclick="modCount('qada', -1)" style="width:30px; height:30px; border-radius:50%; border:none; background:var(--brand-green); color:#000; font-weight:bold;">-</button>
                <span id="qada-count" style="font-weight:bold; width:20px; text-align:center;">0</span>
                <button onclick="modCount('qada', 1)" style="width:30px; height:30px; border-radius:50%; border:none; background:var(--brand-green); color:#000; font-weight:bold;">+</button>
            </div>
        </div>

        <div id="ramadan-tip" style="margin-top:15px; font-size:0.9rem; font-style:italic; text-align:center; color:var(--brand-gold);"></div>
    </div>
    <div id="countdown-panel" style="text-align:center; background:rgba(251, 191, 36, 0.1); padding:15px; border-radius:12px; margin-bottom:20px; border:1px solid var(--brand-gold-glow); display:none;">
    <div id="next-prayer-name" style="font-size:0.8rem; letter-spacing:1px; color:var(--text-secondary); margin-bottom:5px; font-weight:600;">NEXT PRAYER</div>
    <div id="time-remaining" style="font-size:2.5rem; font-weight:700; color:var(--brand-gold); line-height:1; font-family:'Outfit', monospace; font-variant-numeric: tabular-nums;">--:--:--</div>
</div>
<div id="prayer-container">
    

    <div style="text-align:center; padding: 10px 0; margin-bottom:10px;">
        <p style="color:var(--text-secondary); font-size:0.9rem; margin:0;">
            To change city, go to <b style="color:var(--brand-gold);">Settings</b><br>
            and use <b>GPS</b> or enter <b>City Name</b>.
        </p>
    </div>

    <div id="prayer-list-render">
        <div class="spinner"></div>
    </div>
</div>


<div id="countdown-panel" style="text-align:center; background:rgba(251, 191, 36, 0.1); padding:15px; border-radius:12px; margin-bottom:20px; border:1px solid var(--brand-gold-glow); display:none;">
    
<div class="spinner"></div>

                        <p style="text-align:center; color:var(--text-secondary)">Please set your location in Settings.</p>
                    </div>
                </div>

</div>
   <div class="card" style="margin-top: 25px;">
    <div class="card-header"><i class="fas fa-history"></i> Qada (Missed) Prayers</div>
    <p style="font-size: 0.8rem; color: var(--text-secondary); text-align: center;">Track prayers you need to make up.</p>
    
    <div class="qada-grid">
        </div>
</div>
 

<div id="inspiration-section" style="max-width: 800px; margin: 25px auto;">
    <div style="display:flex; justify-content:space-between; align-items:center; margin-bottom:15px; padding: 0 5px; opacity:0.7;">
        <span style="font-size:0.7rem; font-weight:600; letter-spacing:1px;">DAILY INSPIRATION</span>
    </div>

    <div class="inspiration-tabs">
        <button class="insp-tab-btn active" onclick="switchInspiration('verse', this)">
            <i class="fas fa-book-open"></i> Verse
        </button>
        <button class="insp-tab-btn" onclick="switchInspiration('hadith', this)">
            <i class="fas fa-scroll"></i> Hadith
        </button>
        <button class="insp-tab-btn" onclick="switchInspiration('dua', this)">
            <i class="fas fa-hands-praying"></i> Dua
        </button>
    </div>

    <div id="insp-content-container">
        <div id="tab-verse" class="insp-content active">
            <div class="card insp-card">
                <div style="flex:1; display:flex; flex-direction:column; justify-content:center; min-height: 250px;">
                    <p id="verse-ar" class="insp-arabic">Loading...</p>
                    <p id="verse-en" class="insp-translation">...</p>
                    <p id="verse-ref" class="insp-reference"></p>


                      <br> Favourite verses will be stored in settings  <br> Go to settings to view them </p>
                </div>
                <button onclick="shareVerseImage()" class="insp-share-btn">
                    <i class="fas fa-share-nodes"></i> Share this Verse
                </button>
            </div>
        </div>

        <div id="tab-hadith" class="insp-content">
            <div class="card insp-card">
                <div style="flex:1; display:flex; flex-direction:column; justify-content:center; min-height: 250px;">
                    <p id="hadith-text" class="insp-text-main">Loading...</p>
                    <p id="hadith-ref" class="insp-reference" style="text-align:right;"></p>
                </div>
            </div>
        </div>

        <div id="tab-dua" class="insp-content">
            <div class="card insp-card">
                <div style="flex:1; display:flex; flex-direction:column; justify-content:center; min-height: 250px;">
                    <p id="dua-ar" class="insp-arabic">Loading...</p>
                    <p id="dua-en" class="insp-translation">...</p>
                </div>
            </div>
        </div>
    </div>
</div>

  <div class="card">
        <div class="card-header">
            <i class="fas fa-star"></i> Name of Allah SWT
            <button onclick="toggleNameDua()" style="margin-left:auto; background:rgba(255,255,255,0.1); border:none; color:var(--brand-gold); padding:5px 12px; border-radius:15px; cursor:pointer; font-size:0.75rem;">
                <i class="fas fa-hands-praying"></i> How to Ask
            </button>
        </div>
        <div style="text-align:center;">
            <p id="name-ar" style="font-family:'Amiri'; font-size:3rem; color:var(--brand-gold); text-shadow:0 0 20px var(--brand-gold-glow);">Loading...</p>
            <p id="name-en" style="font-weight:700; font-size:1.4rem; margin-top:5px;">...</p>
            <p id="name-meaning" style="color:var(--text-secondary); font-size:0.9rem; font-style:italic;">...</p>
        </div>
        <div id="name-dua-box" style="display:none; margin-top:20px; padding-top:15px; border-top:1px solid var(--border);">
            <div style="background:rgba(251, 191, 36, 0.1); padding:15px; border-radius:12px; border-left:3px solid var(--brand-gold); text-align:left;">
                <div style="font-weight:700; color:var(--brand-gold); font-size:0.75rem; margin-bottom:5px; text-transform:uppercase;">
                    <i class="fas fa-key"></i> Use this in your Dua:
                </div>
                <p id="name-dua" style="font-size:1rem; color:var(--text-primary); line-height:1.5; font-weight:500;">...</p>
            </div>
        </div>
    </div>
    
    <div class="card">
        <div class="card-header"><i class="fas fa-seedling"></i> Good Deed</div>
        <p id="deed-text" style="font-size:1.2rem; text-align:center; margin:15px 0;">...</p>
        <button class="btn-action" onclick="newDeed()"><i class="fas fa-sync-alt"></i> New Deed</button>
    </div>

<div class="card" style="border-color: var(--brand-gold-glow);">
    <div class="card-header">
        <i class="fas fa-lightbulb" style="color: var(--brand-gold);"></i> Help Us Improve
    </div>
    <div style="text-align: center;">
        <p style="color: var(--text-secondary); font-size: 0.9rem; margin-bottom: 15px;">
            This site is built for the Ummah. What feature or Dua should we add next?
        </p>
        <textarea id="feedback-input" class="styled-input" rows="3" placeholder="I wish this app had..." style="width: 100%; resize: none; margin-bottom: 15px;"></textarea>
        
        <button class="btn-action" onclick="openThankYouModal()" style="background: var(--bg-nav); border: 1px solid var(--brand-gold); color: var(--brand-gold);">
            <i class="fas fa-paper-plane"></i> Send Suggestion
        </button>
    </div>
</div>

<div class="card" id="developer-request" style="grid-column: 1 / -1;">
    
    <div class="card-header" style="justify-content: center; color: var(--brand-gold); text-align:center;">
        <i class="fas fa-heart" style="margin-right:8px;"></i> A Personal Request from the Developer
    </div>

    <div style="text-align: center; max-width: 600px; margin: 0 auto;">
        
        <p style="font-family: 'Amiri', serif; font-size: 1.2rem; line-height: 1.6; color: var(--text-primary); margin-bottom: 15px;">
            I built <b>Daily Deen</b> as a Sadaqah Jariyah, inspired entirely by a woman I deeply love for the sake of Allah.
        </p>

        <div style="background: rgba(251, 191, 36, 0.1); border-left: 3px solid var(--brand-gold); padding: 15px; text-align: left; margin-bottom: 25px; border-radius: 4px;">
            <p style="color: var(--text-primary); font-size: 0.95rem; line-height: 1.6; margin: 0;">
                <strong style="color: var(--brand-gold);">My Humble Request:</strong> <br>
                Although my heart is attached to her, <b>she has not yet accepted my proposal.</b> 
                I ask you to please raise your hands and pray that Allah softens her heart towards me, grants me acceptance in her eyes, and writes my name next to hers in a blessed, Halal marriage.
            </p>
        </div>

        <p style="font-size: 0.9rem; color: var(--text-secondary); line-height: 1.6; margin-bottom: 20px;">
            Please also pray for her <b>success in her studies</b>, and for her parents and family to be blessed with health, happiness, and peace.
        </p>

        <div style="background: rgba(0,0,0,0.2); padding: 20px; border-radius: 15px; border: 1px solid var(--border); margin-bottom: 20px;">
            <p style="font-family: 'Amiri', serif; font-size: 1.4rem; color: var(--brand-gold); margin-bottom: 10px; line-height: 1.6;">
                Ø§Ù„Ù„ÙŽÙ‘Ù‡ÙÙ…ÙŽÙ‘ Ù„ÙŽÙŠÙÙ‘Ù†Ù’ Ù‚ÙŽÙ„Ù’Ø¨ÙŽÙ‡ÙŽØ§ Ù„ÙÙŠ ÙƒÙŽÙ…ÙŽØ§ Ù„ÙŽÙŠÙŽÙ‘Ù†Ù’ØªÙŽ Ø§Ù„Ù’Ø­ÙŽØ¯ÙÙŠØ¯ÙŽ Ù„ÙØ¯ÙŽØ§ÙˆÙØ¯ÙŽ
            </p>
            <p style="font-size: 0.9rem; font-style: italic; color: var(--text-secondary);">
                "O Allah, soften her heart for me just as You softened iron for Dawud (AS)."
            </p>
        </div>

        <button id="ameen-btn" onclick="sayAmeen(this)" style="background: var(--bg-nav); border: 1px solid var(--brand-gold); color: var(--brand-gold); padding: 12px 35px; border-radius: 50px; cursor: pointer; transition: 0.4s; font-family: 'Outfit', sans-serif; font-weight: 600; font-size: 1rem;">
            <i class="fas fa-hands-praying"></i> Say Ameen for Me
        </button>

        <p id="ameen-msg" style="font-size: 0.75rem; color: var(--brand-green); margin-top: 15px; opacity: 0; transition: 0.5s;">
            May Allah accept your prayer and give you the same. JazakAllah Khair.
        </p>
    </div>
</div>

</div>
        </section>

        <section id="qibla" class="view-section">
<button onclick="findMosques()" class="mosque-btn btn-action" style="margin-top:20px; width:100%; background:rgba(255,255,255,0.1);">
    <i class="fas fa-mosque"></i> Find Mosques Near Me
</button>

            <div class="hero">
                <h1 class="greeting">Qibla Finder</h1>
                <p style="color:var(--text-secondary)">Align the arrow with the degree shown below on a compass app.</p>
            </div>
            <div class="compass-wrapper">
                <i class="fas fa-kaaba kaaba-pointer"></i>
                <div class="compass-deg" id="qibla-deg">--Â°</div>
            </div>
            <p style="text-align:center; margin-top:60px; color:var(--text-secondary)">Calculated from: <span id="qibla-city-label" style="color:var(--brand-gold)">Unknown</span></p>
            <div style="margin-top: 30px; padding: 15px; background: rgba(16, 185, 129, 0.1); border: 1px solid var(--brand-green-glow); border-radius: 12px; text-align: center;">
    <p style="font-size: 0.85rem; color: var(--text-secondary);">
        <i class="fas fa-shield-alt" style="color: var(--brand-green); margin-right: 5px;"></i>
        <b>Privacy Notice:</b> We do not track, store, or share your location data. All Qibla calculations happen locally on your device.
    </p>
</div>
        </section>

<section id="quran" class="view-section">
    <div class="hero">
        <h1 class="greeting">Noble Quran</h1>
        <p style="color:var(--text-secondary)">Search, Read, and Reflect</p>
    </div>

    <div class="card" style="margin-bottom: 25px; padding: 20px;">
    <div class="card-header" style="margin-bottom: 15px;"><i class="fas fa-bullseye"></i> Khatam Planner</div>
    <div style="display: flex; gap: 10px; align-items: center;">
        <input type="number" id="khatam-days" class="styled-input" placeholder="Days (e.g. 30)" style="width: 120px;">
        <button onclick="calcKhatam()" class="btn-action" style="width: auto; padding: 10px 20px;">Plan</button>
    </div>
    <div id="khatam-result" style="margin-top: 10px; font-size: 0.9rem; color: var(--brand-gold); display: none;">
        Read <b><span id="khatam-pages">20</span> pages</b> per day to finish.
    </div>
</div>
    
    <div style="max-width: 500px; margin: 0 auto 25px auto; position: relative;">
        <input type="text" id="quran-search" 
               onkeyup="handleSearch(event)" 
               onkeydown="checkForEnter(event)" 
               placeholder="Search Surah (e.g. 'Mulk' or '36:3')..." 
               class="styled-input" 
               style="width: 100%; padding-left: 45px; border-radius: 50px; background: rgba(0,0,0,0.2);">
        <i class="fas fa-search" style="position: absolute; left: 15px; top: 50%; transform: translateY(-50%); color: var(--brand-gold);"></i>
    </div>

    <div id="surah-list-view" class="surah-list">
        <div class="spinner"></div>
    </div>

    <div id="surah-read-view" style="display:none;">
        <button onclick="closeSurah()" style="background:none; border:none; color:var(--brand-gold); cursor:pointer; margin-bottom:20px; font-size:1rem; display:flex; align-items:center; gap:8px;">
            <i class="fas fa-arrow-left"></i> Back to List
        </button>
        <div class="card">
            <h2 id="read-title" style="text-align:center; margin-bottom:10px; color:var(--brand-gold);">Surah</h2>
            <div id="ayah-container"></div>
        </div>
    </div>
</section>
        <section id="adhkar" class="view-section">
    <div class="hero">
        <h1 class="greeting">Dhikr & Remembrance</h1>
        <p style="color:var(--text-secondary)">Purify your heart with the remembrance of Allah.</p>
    </div>


    <div class="adhkar-categories">
        <button class="cat-btn active" onclick="filterAdhkar('all', this)">All</button>
        <button class="cat-btn" onclick="filterAdhkar('general', this)">General</button>
        <button class="cat-btn" onclick="filterAdhkar('morning', this)">Morning</button>
        <button class="cat-btn" onclick="filterAdhkar('evening', this)">Evening</button>
        <button class="cat-btn" onclick="filterAdhkar('salah', this)">After Salah</button>
    </div>

    <div id="adhkar-grid" class="adhkar-grid">
        </div>

    <button onclick="addCustomDhikr()" class="btn-action" style="margin-top: 30px; background: rgba(255,255,255,0.1); border: 1px solid var(--border);">
        <i class="fas fa-plus"></i> Add Custom Dhikr
    </button>

</section>
<section id="serenity" class="view-section">

  <button onclick="toggleSleepMode()" style="margin: 0 auto 30px auto; display: flex; align-items: center; gap: 8px; background: rgba(255,255,255,0.1); border: 1px solid var(--border); padding: 8px 20px; border-radius: 20px; color: var(--text-secondary); cursor: pointer;">
    <i class="fas fa-bed"></i> Sleep Sunnah Mode
</button>

<button id="sleep-exit-btn" onclick="toggleSleepMode()">
    <i class="fas fa-sun"></i> Wake Up
</button>

    <div id="serenity-clock">
        <div id="clock-time">00:00</div>
        <div id="clock-date">WEDNESDAY, 14 JAN</div>
    </div>

    <div style="max-width: 600px; margin: 0 auto; display: flex; flex-direction: column; gap: 20px;">
        
      <div class="card serenity-audio-card" style="padding:0; overflow:hidden; border: 1px solid var(--border); height: 500px; display:flex; flex-direction:column;">
    
    <div style="background: rgba(0,0,0,0.3); padding: 25px; text-align: center; border-bottom: 1px solid var(--border);">
        <i class="fas fa-headphones-alt" style="color: var(--brand-gold); font-size: 1.5rem; margin-bottom: 10px;"></i>
        <h4 id="player-title" style="margin-bottom: 5px; font-weight:600;">Select a Track</h4>
        <p id="player-category" style="font-size: 0.8rem; color: var(--text-secondary); margin-bottom: 15px;">Serenity Station</p>

        <div style="display:flex; justify-content:center; align-items:center; gap:20px; margin-bottom:15px;">
        <button onclick="playPreviousTrack()" class="audio-btn" title="Previous">
            <i class="fas fa-step-backward"></i>
        </button>
        
        <button onclick="toggleLoop()" id="loop-btn" class="audio-btn" title="Loop Track">
            <i class="fas fa-repeat"></i>
        </button>

        <button onclick="playNextTrack()" class="audio-btn" title="Next">
            <i class="fas fa-step-forward"></i>
        </button>
    </div>
        
        <audio id="main-audio" controls style="width: 100%; height: 40px; border-radius: 20px;">
            <source src="" type="audio/mpeg">
        </audio>
    </div>

    <div style="display:flex; border-bottom: 1px solid var(--border); background: rgba(255,255,255,0.02);">
        <button onclick="filterPlaylist('all')" class="playlist-tab active" id="tab-all">All</button>
        <button onclick="filterPlaylist('quran')" class="playlist-tab" id="tab-quran">Quran</button>
    </div>
            <div id="playlist-container" style="flex:1; overflow-y: auto; background: rgba(0,0,0,0.2);">
        </div>
</div>

        <div class="card" style="padding: 25px; border: 1px solid var(--border); background: rgba(255,255,255,0.02);">
    <h4 style="color: var(--brand-gold); font-weight: 500; margin-bottom: 5px; font-size: 0.9rem;">Reflection Journal</h4>
    
    <p id="reflection-prompt" style="color: var(--text-secondary); font-size: 0.85rem; font-style: italic; margin-bottom: 15px; min-height:40px;">
        Loading prompt...
    </p>

    <textarea id="reflection-input" placeholder="Start writing here..." 
        style="width: 100%; height: 100px; background: rgba(0,0,0,0.3); border: 1px solid var(--border); color: #fff; padding: 12px; border-radius: 8px; font-size: 0.85rem; resize: none;"></textarea>
    
    <button onclick="saveReflection()" class="btn-action" style="width: 100%; margin-top: 10px; font-size: 0.7rem; border: 1px solid var(--brand-gold); background: transparent; color: var(--brand-gold);">
        SAVE REFLECTION
    </button>

    <div style="margin-top: 25px; padding-top: 20px; border-top: 1px solid var(--border);">
        <h5 style="color: var(--text-secondary); font-size: 0.8rem; margin-bottom: 15px; letter-spacing: 1px;">PREVIOUS ENTRIES</h5>
        <div id="reflection-history" style="display: flex; flex-direction: column; gap: 15px;"></div>
    </div>
</div>
    </div>
</section>

<section id="info" class="view-section">
    <div class="hero">
        <h1 class="greeting">Information Hub</h1>
    </div>

    <div class="card" style="max-width:900px; margin:0 auto;">
        <div class="info-nav">
            <button class="info-nav-btn active" onclick="switchInfoTab('about', this)">
                <i class="fas fa-info-circle"></i> About
            </button>
            <button class="info-nav-btn" onclick="switchInfoTab('tools', this)">
        <i class="fas fa-calculator"></i> Tools </button>
            <button class="info-nav-btn" onclick="switchInfoTab('resources', this)">
                <i class="fas fa-book-atlas"></i> Library
            </button>
            <button class="info-nav-btn" onclick="switchInfoTab('newmuslim', this)"><i class="fas fa-seedling"></i> New to islam?</button>
            <button class="info-nav-btn" onclick="switchInfoTab('contribute', this)">
                <i class="fas fa-hand-holding-heart"></i> Contribute
            </button>
            <button class="info-nav-btn" onclick="switchInfoTab('contact', this)">
                <i class="fas fa-envelope"></i> Contact
            </button>
        </div>

       <div id="about" class="info-tab-content active" style="padding: 10px;">
    
    <div style="text-align: center; margin-bottom: 20px;">
        <p style="font-family: 'Amiri', serif; font-size: 1.5rem; color: var(--brand-gold); margin-bottom: 5px;">Ø³ÙØ¨Ù’Ø­ÙŽØ§Ù†ÙŽ Ø§Ù„Ù„Ù‡Ù ÙˆÙŽØ¨ÙØ­ÙŽÙ…Ù’Ø¯ÙÙ‡Ù</p>
        <p style="font-size: 0.75rem; color: var(--text-secondary); letter-spacing: 1px; text-transform: uppercase;">Glory be to Allah and Praise is His</p>
    </div>

    <h3 style="color:var(--brand-gold); font-family: 'Amiri', serif; font-size: 1.8rem; margin-bottom: 10px;">Our Goal</h3>
    <p style="line-height: 1.6; margin-bottom: 15px; color: var(--text-primary);">
        We built Daily Deen to be a quiet, beautiful corner of the internet for you. Life gets busy, and itâ€™s easy to get distracted. We wanted to create a place where you can check prayer times, read the Quran, or just find a moment of peace without ads or clutter.
    </p>

    <h3 style="color:var(--brand-gold); font-family: 'Amiri', serif; font-size: 1.8rem; margin-bottom: 10px;">Private and Free</h3>
    <p style="line-height: 1.6; margin-bottom: 20px; color: var(--text-primary);">
        This app is 100% free and will stay that way. We don't track you or save your personal data on any servers. It is our gift (<b>Sadaqah Jariyah</b>) to the community.
    </p>

    <h3 style="color:var(--brand-gold); font-family: 'Amiri', serif; font-size: 1.8rem; margin-bottom: 10px;">A Simple Request</h3>
    <p style="line-height: 1.6; margin-bottom: 20px; color: var(--text-primary);">
        If this app helps you even a little bit, please remember us in your prayers (Duas). That is the only payment we ask for.
    </p>

    <div style="background: rgba(251, 191, 36, 0.05); border: 1px solid var(--brand-gold-glow); padding: 20px; border-radius: 15px; margin-top: 10px;">
        <h4 style="color: var(--brand-gold); text-align: center; margin-bottom: 15px; text-transform: uppercase; letter-spacing: 1px; font-size: 0.9rem;">
            <i class="fas fa-heart"></i> Wall of Appreciation
        </h4>
        <p style="font-size: 0.9rem; line-height: 1.6; text-align: center; color: var(--text-secondary);">
            This project wouldn't be possible without the inspiration and help of others:
        </p>
        
        <div style="display: flex; flex-wrap: wrap; justify-content: center; gap: 10px; margin-top: 15px;">
                     <span class="inspired-heart" style="background: rgba(255,255,255,0.05); padding: 5px 12px; border-radius: 20px; font-size: 0.85rem; border: 1px solid var(--border);">
    âœ¨ The woman who inspires my heart
    <span class="secret-tooltip">may Allah bless her and keep her safe and make her happy and give her good health and knowledge</span>
</span>
                     <span style="background: rgba(255,255,255,0.05); padding: 5px 12px; border-radius: 20px; font-size: 0.85rem; border: 1px solid var(--border);">
                <i class="fab fa-reddit"></i> r/MuslimDevs & Reddit
            </span>
            <span style="background: rgba(255,255,255,0.05); padding: 5px 12px; border-radius: 20px; font-size: 0.85rem; border: 1px solid var(--border);">
                <i class="fab fa-github"></i> Open Source Community
            </span>
            <span style="background: rgba(255,255,255,0.05); padding: 5px 12px; border-radius: 20px; font-size: 0.85rem; border: 1px solid var(--border);">
                 Your kind Duas
            </span>
        </div>
    </div>

    <p style="text-align: center; margin-top: 30px; font-family: 'Amiri', serif; font-size: 1.2rem; color: var(--brand-green);">
        May Allah accept it from us all.
    </p>
</div>

<div id="tools" class="info-tab-content">
    <h3 style="color:var(--brand-gold); margin-bottom:20px; text-align:center;">Islamic Toolkit</h3>
    
    <div class="tool-card">
        <div class="card-header"><i class="fas fa-hand-holding-usd"></i> Zakat Calculator (2.5%)</div>
        
        <div class="calc-row">
            <span>ðŸ’° Cash Savings:</span>
            <input type="number" id="zak-cash" class="calc-input" placeholder="0">
        </div>
        <div class="calc-row">
            <span>âœ¨ Gold (Value):</span>
            <input type="number" id="zak-gold" class="calc-input" placeholder="0">
        </div>
        <div class="calc-row">
            <span>âšª Silver (Value):</span>
            <input type="number" id="zak-silver" class="calc-input" placeholder="0">
        </div>
        
        <button onclick="calcZakat()" class="btn-action" style="background: var(--brand-gold); color: #000;">Calculate</button>
        
        <div id="zak-result" class="result-box"></div>
    </div>

    <div class="tool-card">
    <div class="card-header"><i class="fas fa-calendar-alt"></i> Date Converter to Hijri Calendar</div>
    <div style="display:flex; gap:10px; flex-wrap:wrap;">
        <input type="date" id="gregorian-input" class="styled-input" onchange="convertDate()">
        <button onclick="convertDate()" class="btn-action" style="width:auto; padding:0 20px;">Convert</button>
    </div>
    <div id="hijri-result" class="result-box" style="background:rgba(255,255,255,0.1); color:#fff; border:1px solid var(--border);">
        Select a date above...
    </div>
</div>

<div class="tool-card">
    <div class="card-header"><i class="fas fa-search-plus"></i> Halal E-Code Checker</div>
    <p style="font-size:0.8rem; color:var(--text-secondary); margin-bottom:10px;">Check ingredients (e.g. E120, E471) status.</p>
    <div style="display:flex; gap:10px;">
        <input type="text" id="ecode-input" class="styled-input" placeholder="Enter Code (e.g. E120)">
        <button onclick="checkEcodeAPI()" class="btn-action" style="width:auto;"><i class="fas fa-search"></i></button>
    </div>
    <div id="ecode-result" class="ecode-result"></div>
    <div id="api-loading" style="display:none; text-align:center; margin-top:10px;"><i class="fas fa-spinner fa-spin"></i> Checking Database...</div>
</div>


</div>

<div id="resources" class="info-tab-content">
    <h3 style="color:var(--brand-gold); margin-bottom:20px; font-family: 'Amiri', serif; font-size: 1.8rem; text-align: center;">Knowledge Library</h3>
    
    <div class="grid" style="grid-template-columns: repeat(auto-fit, minmax(240px, 1fr)); gap: 20px;">
        
        <div class="card" style="padding:25px; text-align:center; border: 1px solid var(--border); background: rgba(255,255,255,0.02);">
            <i class="fas fa-book-open" style="font-size:1.5rem; color:var(--brand-gold); margin-bottom:15px;"></i>
            <h4 style="color:var(--text-primary); font-weight: 500; letter-spacing: 0.5px;">Quran & Meaning</h4>
            <p style="font-size:0.8rem; color:var(--text-secondary); margin-bottom:20px; line-height: 1.5;">Access translations and deep tafsir of the Holy Quran.</p>
            <a href="https://quran.com" target="_blank" class="btn-action" style="font-size:0.7rem; letter-spacing: 1px; text-transform: uppercase; background: transparent; border: 1px solid var(--brand-gold); color: var(--brand-gold);">Open Quran.com</a>
        </div>

        <div class="card" style="padding:25px; text-align:center; border: 1px solid var(--border); background: rgba(255,255,255,0.02);">
            <i class="fas fa-feather-alt" style="font-size:1.5rem; color:var(--brand-gold); margin-bottom:15px;"></i>
            <h4 style="color:var(--text-primary); font-weight: 500; letter-spacing: 0.5px;">Sunnah & Hadith</h4>
            <p style="font-size:0.8rem; color:var(--text-secondary); margin-bottom:20px; line-height: 1.5;">Explore the authenticated sayings and habits of the Prophet ï·º.</p>
            <a href="https://sunnah.com" target="_blank" class="btn-action" style="font-size:0.7rem; letter-spacing: 1px; text-transform: uppercase; background: transparent; border: 1px solid var(--brand-gold); color: var(--brand-gold);">Open Sunnah.com</a>
        </div>

        <div class="card" style="max-width: 800px; margin: 0 auto; padding: 30px; border: 1px solid var(--border); background: rgba(255,255,255,0.01);">
    
    <div style="text-align: center; margin-bottom: 25px;">
        <i class="fas fa-book-open" style="font-size: 1.8rem; color: var(--brand-gold); margin-bottom: 10px;"></i>
        <h3 style="color:var(--brand-gold); font-family: 'Amiri', serif; font-size: 1.8rem; margin-bottom: 5px;">Knowledge Library</h3>
        <p style="font-size: 0.8rem; color: var(--text-secondary);">Your essential guide for Ramadan & Spiritual Wellness</p>
    </div>

    <div class="aesthetic-accordion" style="margin-bottom: 25px;">
        
        <details style="margin-bottom: 12px; border: 1px solid var(--border); border-radius: 12px; background: rgba(255,255,255,0.02);">
            <summary style="padding: 18px; color: var(--brand-gold); cursor: pointer; font-weight: 500; list-style: none; display: flex; justify-content: space-between; align-items: center;">
                <span><i class="far fa-star"></i> Virtues of Ramadan</span>
                <i class="fas fa-chevron-down" style="font-size: 0.8rem;"></i>
            </summary>
            <div style="padding: 0 18px 18px 18px; font-size: 0.9rem; line-height: 1.7; color: var(--text-secondary);">
                [cite_start]â€¢ <b>Spiritual Elevation:</b> This month allows the force of good to supercede evil forces[cite: 24].<br>
                [cite_start]â€¢ <b>Forgiveness:</b> Fasting "burns" our sins[cite: 31]. [cite_start]For every Sajdah performed in Tarawih, 1,500 good deeds are recorded[cite: 51].<br>
                [cite_start]â€¢ <b>Open Doors:</b> The doors of the Heavens are opened on the first night and never closed until the last night[cite: 50].
            </div>
        </details>

        <details style="margin-bottom: 12px; border: 1px solid var(--border); border-radius: 12px; background: rgba(255,255,255,0.02);">
            <summary style="padding: 18px; color: var(--brand-gold); cursor: pointer; font-weight: 500; list-style: none; display: flex; justify-content: space-between; align-items: center;">
                <span><i class="far fa-clock"></i> Sunnah of Suhur & Iftar</span>
                <i class="fas fa-chevron-down" style="font-size: 0.8rem;"></i>
            </summary>
            <div style="padding: 0 18px 18px 18px; font-size: 0.9rem; line-height: 1.7; color: var(--text-secondary);">
                [cite_start]â€¢ <b>Suhur Barakah:</b> Verily, Allah and His angels send mercy upon those who eat Suhur[cite: 76, 169].<br>
                [cite_start]â€¢ <b>Hasten Iftar:</b> People remain prosperous as long as they hasten with Iftaar (break fast immediately at sunset)[cite: 191, 192].<br>
                [cite_start]â€¢ <b>Wellness:</b> Use a Miswaak to clean the teeth during the day[cite: 221, 277].
            </div>
        </details>

        <details style="margin-bottom: 12px; border: 1px solid var(--border); border-radius: 12px; background: rgba(255,255,255,0.02);">
            <summary style="padding: 18px; color: var(--brand-gold); cursor: pointer; font-weight: 500; list-style: none; display: flex; justify-content: space-between; align-items: center;">
                <span><i class="fas fa-leaf"></i> Spiritual Wellness Routine</span>
                <i class="fas fa-chevron-down" style="font-size: 0.8rem;"></i>
            </summary>
            <div style="padding: 0 18px 18px 18px; font-size: 0.9rem; line-height: 1.7; color: var(--text-secondary);">
                [cite_start]â€¢ <b>Tahajjud:</b> Wake up early to perform at least 4-8 rak'at of Tahajjud before Suhur[cite: 494].<br>
                [cite_start]â€¢ <b>Dhuha (Chaasht):</b> Perform 2 rak'aat of Dhuha salaah in the morning for extra charity[cite: 503].<br>
                [cite_start]â€¢ <b>Rest:</b> Have a short rest (Qaylulah) after Zuhr with the intention of following the Sunnah[cite: 504].
            </div>
        </details>
    </div>

    <div style="padding: 20px; text-align: center; border-top: 1px dashed var(--border); background: rgba(255,255,255,0.01);">
        <p style="font-size: 0.85rem; color: var(--text-secondary); margin-bottom: 15px;">
            [cite_start]For detailed rulings on moon sighting, Tarawih, and Sadaqatul-Fitr, read our full 46-page community manual [cite: 1-14].
        </p>
        <a href="ramadan-guide.pdf" target="_blank" class="btn-action" style="background: transparent; border: 1px solid var(--brand-gold); color: var(--brand-gold); text-transform: uppercase; letter-spacing: 1px; font-size: 0.7rem; padding: 10px 25px; text-decoration: none; display: inline-block;">
            <i class="far fa-file-pdf"></i> View Full Guide (PDF)
        </a>
    </div>
</div>
<div id="rabbana-section">
    <h3 style="color:var(--brand-gold); margin:30px 0 15px 0; text-align:center; font-family:'Amiri', serif; letter-spacing:1px;">
        <i class="fas fa-praying-hands"></i> The 40 Rabbana Duas
    </h3>
    
    <div id="rabbana-container" class="rabbana-grid">
        </div>
</div>

<div class="card" style="max-width: 800px; margin: 20px auto; padding: 25px; text-align: center; border: 1px solid var(--border); background: rgba(255,255,255,0.02);">
    
    <i class="fas fa-university" style="font-size: 1.5rem; color: var(--brand-gold); margin-bottom: 15px;"></i>
    
    <h4 style="color:var(--text-primary); font-weight: 500; letter-spacing: 0.5px; margin-bottom: 10px;">Deepen Your Knowledge</h4>
    
    <p style="font-size: 0.85rem; color: var(--text-secondary); margin-bottom: 20px; line-height: 1.6;">
        Yaqeen Institute has amazing links and resources. Read these to increase your knowledge and gain deeper spiritual peace.
    </p>
    
    <a href="https://yaqeeninstitute.org" target="_blank" class="btn-action" style="font-size: 0.7rem; letter-spacing: 1px; text-transform: uppercase; background: transparent; border: 1px solid var(--brand-gold); color: var(--brand-gold); text-decoration: none; display: inline-block; padding: 10px 30px;">
        Explore Yaqeen Institute
    </a>
</div>

    </div>
</div>

 <div id="newmuslim" class="info-tab-content">
    <div style="text-align:center; padding:20px;">
        <i class="fas fa-lamp" style="font-size:3rem; color:var(--brand-gold); margin-bottom:15px;"></i>
        <h3 style="color:#fff; margin-bottom:10px;">Welcome to the Fold</h3>
        <p style="color:var(--text-secondary); font-size:0.9rem; margin-bottom:25px;">
            If you are new to Islam, everything might feel overwhelming. <br>
            We have curated the best step-by-step guides for you.
        </p>

        <a href="https://www.newmuslimguide.com/" target="_blank" style="text-decoration:none;">
            <div class="card" style="border:1px solid var(--brand-green); margin-bottom:15px; transition:0.2s;">
                <div style="display:flex; align-items:center; gap:15px;">
                    <div style="background:rgba(16, 185, 129, 0.2); width:50px; height:50px; border-radius:50%; display:flex; align-items:center; justify-content:center;">
                        <i class="fas fa-book-reader" style="color:var(--brand-green); font-size:1.2rem;"></i>
                    </div>
                    <div style="text-align:left;">
                        <h4 style="color:#fff; margin:0;">The New Muslim Guide</h4>
                        <span style="font-size:0.8rem; color:var(--text-secondary);">Comprehensive, pictorial guide to Wudu, Salah, and Beliefs.</span>
                    </div>
                    <i class="fas fa-external-link-alt" style="margin-left:auto; color:var(--text-secondary);"></i>
                </div>
            </div>
        </a>

        <a href="https://www.whyislam.org/" target="_blank" style="text-decoration:none;">
    <div class="card" style="border:1px solid var(--brand-gold); margin-bottom:15px; transition:0.2s;">
        <div style="display:flex; align-items:center; gap:15px;">
            <div style="background:rgba(251, 191, 36, 0.2); width:50px; height:50px; border-radius:50%; display:flex; align-items:center; justify-content:center;">
                <i class="fas fa-question" style="color:var(--brand-gold); font-size:1.2rem;"></i>
            </div>
            <div style="text-align:left;">
                <h4 style="color:#fff; margin:0;">Why Islam?</h4>
                <span style="font-size:0.8rem; color:var(--text-secondary);">Clear answers, facts, and guides for beginners.</span>
            </div>
            <i class="fas fa-external-link-alt" style="margin-left:auto; color:var(--text-secondary);"></i>
        </div>
    </div>
</a>
    </div>
</div>

        <div id="contribute" class="info-tab-content">
            <h3 style="color:var(--brand-gold); margin-bottom:10px;">Community Contribution</h3>
            <p style="margin-bottom:20px; color:var(--text-secondary);">Do you have a beautiful Dua, a Hadith, or a Good Deed idea? Submit it below to help build this app for everyone.</p>
            
            <textarea id="contribution-input" class="styled-input" rows="5" 
                placeholder="Share your wisdom here..." style="width:100%; resize:none; margin-bottom:15px;"></textarea>
            
            <button id="submit-contrib-btn" class="btn-action" onclick="submitToFormspree()">
                <i class="fas fa-paper-plane"></i> Submit to Developer
            </button>
        </div>

        <div id="contact" class="info-tab-content">
            <h3 style="color:var(--brand-gold); margin-bottom:10px;">Get in Touch</h3>
            <p>For support, bugs, or business inquiries, reach out to us at:</p>
            <p style="margin-top:15px; font-weight:bold; color:var(--brand-gold); font-size:1.2rem; text-align:center;">
                dailydeen.web@gmail.com
            </p>
        </div>
    </div>
</section>


        <section id="settings" class="view-section">
            <div class="hero">
                <h1 class="greeting">Settings</h1>
            </div>
            <div class="card" style="max-width:600px; margin:0 auto;">
                <div class="card-header"><i class="fas fa-map-marker-alt"></i> Location</div>
                <button id="install-btn" style="display:none; margin-bottom:15px; background:var(--text-primary); color:var(--bg-body);" class="btn-action">
    <i class="fas fa-download"></i> Install App
</button>
                <button onclick="getGPSLocation()" class="btn-action" style="margin-bottom:15px; background:var(--brand-gold); color:#000;">
    <i class="fas fa-location-arrow"></i> Auto-Detect Location (GPS)
</button>
                <div class="input-group">
                    <input type="text" id="set-city" class="styled-input" placeholder="City (e.g. Toronto)">
                    <input type="text" id="set-country" class="styled-input" placeholder="Country" style="max-width:100px;">
                </div>
<div class="card">
    <div class="card-header"><i class="fas fa-calculator"></i> Calculation Method</div>
    <p style="font-size:0.8rem; color:var(--text-secondary); margin-bottom:10px;">Adjust this if prayer times are different from your local mosque.</p>
    <select id="calc-method" onchange="updateCalcMethod()" class="styled-input" style="width:100%;">
        <option value="MWL">Muslim World League (Europe/Far East)</option>
        <option value="ISNA">ISNA (North America)</option>
        <option value="Egypt">Egyptian General Authority (Africa/Syria)</option>
        <option value="Makkah">Umm al-Qura (Makkah)</option>
        <option value="Karachi">Karachi (Pakistan/India)</option>
        <option value="Tehran">Tehran (Iran)</option>
        <option value="Jafari">Jafari / Shia Ithna-Ashari</option>
    </select>
</div>

                <div style="margin-top: 20px; margin-bottom: 20px; padding-top: 20px; border-top: 1px solid var(--border);">
    <div style="font-weight:600; margin-bottom:10px; color:var(--text-secondary);"><i class="fas fa-glasses"></i> Text Size</div>
    <div style="display:flex; gap:10px; justify-content:center;">
        <button onclick="changeFontSize('normal')" style="padding:10px 20px; border-radius:10px; border:1px solid var(--border); background:var(--bg-nav); color:var(--text-primary);">A</button>
        <button onclick="changeFontSize('large')" style="padding:10px 20px; border-radius:10px; border:1px solid var(--brand-gold); background:var(--bg-nav); color:var(--brand-gold); font-size:1.2rem; font-weight:bold;">A+</button>
        <button onclick="changeFontSize('extra')" style="padding:10px 20px; border-radius:10px; border:1px solid var(--brand-gold); background:var(--bg-nav); color:var(--brand-gold); font-size:1.5rem; font-weight:bold;">A++</button>
    </div>
</div>
<div style="margin-top: 25px; padding-top: 20px; border-top: 1px solid var(--border); text-align: center;">
    <p style="font-size: 0.8rem; color: var(--text-secondary); margin-bottom: 10px;">Need to see the intro again?</p>
    <button onclick="startTutorial()" style="background:transparent; border:1px solid var(--border); color:var(--text-secondary); padding:8px 20px; border-radius:15px; cursor:pointer; font-size:0.8rem;">
        <i class="fas fa-redo"></i> Reset Tutorial
    </button>
</div>
                <button class="btn-action" onclick="saveSettings()">Save Changes</button>
                <p id="save-msg" style="text-align:center; color:var(--brand-green); margin-top:15px; display:none;">Saved Successfully!</p>
                <div style="margin-top: 20px; text-align: center; opacity: 0.7;">
    <p style="font-size: 0.8rem; color: var(--text-secondary);">
        <i class="fas fa-lock" style="color: var(--brand-gold); margin-right: 5px;"></i>
        Your settings are stored in your browser's <b>Local Storage</b>. No data is sent to any external server.
    </p>
</div>
<div class="card-header"><i class="fas fa-heart"></i> My Favorite Verses</div>
<div id="favorites-list-container" style="max-height: 300px; overflow-y: auto; padding: 10px 0;">
    <p style="text-align:center; color:var(--text-secondary); font-size:0.85rem;">No favorite verses yet.</p>
</div>
            </div>
        </section>

    </div>

    <div class="footer-wave">
    <svg data-name="Layer 1" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1200 120" preserveAspectRatio="none">
        <path d="M321.39,56.44c58-10.79,114.16-30.13,172-41.86,82.39-16.72,168.19-17.73,250.45-.39C823.78,31,906.67,72,985.66,92.83c70.05,18.48,146.53,26.09,214.34,3V0H0V27.35A600.21,600.21,0,0,0,321.39,56.44Z" class="shape-fill"></path>
    </svg>
</div>

<footer id="spiritual-footer">
    <div class="sadaqah-wrapper">
        <div class="sadaqah-badge">
            <i class="fas fa-hand-holding-heart"></i> SADAQAH JARIYAH â€¢ NO ADS â€¢ FREE FOREVER
        </div>
    </div>

    <div id="footer-dua-wrapper">
    <p id="footer-dua-text">
        <span class="highlight-gold">O Allah</span>, help our brothers and sisters in Palestine.
    </p>
</div>

    <div class="footer-grid">
        <div class="footer-col">
            <h3 class="footer-title">Daily Deen</h3>
            <p class="footer-desc">Built with love for the sake of Allah. Please keep the developer in your humble Duas.</p>
        </div>
        <div class="footer-col actions-col">
            <button onclick="shareApp()" class="pop-btn share-btn"><i class="fas fa-share-nodes"></i> Share Rewards</button>
            <button onclick="bookmarkApp()" class="pop-btn bookmark-btn"><i class="fas fa-bookmark"></i> Bookmark App</button>
        </div>
    </div>

    <div class="footer-bottom">May this site be a witness for us on the Day of Judgment.</div>
</footer>
<div id="toast-box"></div>

<div id="thank-you-modal" class="modal-overlay">
    <div class="modal-card">
        <button class="close-modal" onclick="closeThankYouModal()">&times;</button>
        
        <div class="modal-icon-wrapper">
            <i class="fas fa-heart modal-icon"></i>
        </div>

        <h2 class="modal-title">JazakAllah Khair!</h2>
        <p class="modal-text">
            Your feedback is an Amanah (trust) to us. We are building this specifically to help you connect with Allah swt.
        </p>

        <div class="feedback-tags">
            <p style="font-size: 0.85rem; color: var(--text-secondary); margin-bottom: 10px;">Which area needs the most love?</p>
            <div class="tag-container">
                <button class="tag-btn" onclick="selectTag(this)">ðŸŽ¨ Design</button>
                <button class="tag-btn" onclick="selectTag(this)">ðŸ“– More Duas</button>
                <button class="tag-btn" onclick="selectTag(this)">âš¡ Features</button>
                <button class="tag-btn" onclick="selectTag(this)">ðŸ› Bugs</button>
            </div>
        </div>

        <div class="modal-footer-quote">
            "The most beloved of people to Allah are those who are most beneficial to people."
        </div>
    </div>
</div>


<div id="share-card-template">
    
    <div id="share-card-header">Daily Inspiration</div>
    
    <div id="share-card-body">
        <div id="share-card-ar"></div>
        <div>
            <div id="share-card-en"></div>
            <div id="share-card-ref"></div>
        </div>
    </div>
    
    <div id="share-card-logo">
        <i class="fas fa-moon"></i>
        <span>Daily Deen</span>
    </div>
</div>


    <script>
        // A curated list of 50 impactful, complete-meaning standalone verses
const impactfulVerses = [
    262,   // 2:255 (Ayatul Kursi - Protection)
    293,   // 2:286 (Allah does not burden a soul...)
    332,   // 3:139 (Do not lose heart or grieve...)
    1721,  // 13:28 (Hearts find rest in remembrance...)
    2019,  // 16:128 (Allah is with those who do good...)
    5151,  // 65:3  (Whoever trusts Allah, He is sufficient...)
    6105,  // 93:7  (He found you lost and guided you...)
    6149,  // 94:5  (With hardship comes ease...)
    6150,  // 94:6  (Surely with hardship comes ease...)
    4140,  // 39:53 (Do not despair of Allah's mercy...)
    195,   // 2:186 (I am indeed near...)
    160,   // 2:152 (Remember Me; I will remember you...)
    161,   // 2:153 (Seek help through patience and prayer...)
    6,     // 1:6   (Guide us to the straight path...)
    4066,  // 39:10 (The patient will be given reward without measure...)
    4649,  // 50:16 (We are closer to him than his jugular vein...)
    194,   // 2:185 (Allah intends for you ease...)
    165,   // 2:156 (To Him we shall return...)
    1719,  // 13:26 (Allah provides abundantly for whom He wills...)
    2373,  // 20:25 (My Lord, expand for me my chest...)
    3385,  // 29:45 (Prayer prevents indecency and evil...)
    4243,  // 40:60 (Call upon Me; I will answer you...)
    910,   // 7:56  (The mercy of Allah is near to the doers of good...)
    2052,  // 17:23 (Be kind to your parents...)
    90,    // 2:83  (Speak to people with good words...)
    2918,  // 25:63 (Walk upon the earth in humility...)
    4622,  // 49:10 (The believers are but brothers...)
    677,   // 5:8   (Be just; that is nearer to righteousness...)
    5243,  // 67:2  (He created life and death to test you...)
    6189,  // 103:3 (Counsel one another to truth and patience...)
    425,   // 3:92  (You will not attain piety until you spend from what you love)
    594,   // 4:110 (Whoever does evil... then asks for forgiveness, will find Allah Forgiving)
    723,   // 5:54  (He loves them and they love Him)
    1152,  // 7:199 (Take what is given, enjoin what is good, and turn away from the ignorant)
    1246,  // 8:70  (If Allah knows any good in your hearts, He will give you better)
    1344,  // 9:129 (Sufficient for me is Allah; there is no deity except Him)
    1443,  // 10:107 (If Allah touches you with adversity, none can remove it but Him)
    1498,  // 11:61 (Indeed, my Lord is near and responsive)
    1582,  // 11:115 (And be patient, for indeed, Allah does not allow the reward of the doers of good to be lost)
    1615,  // 12:67 (The decision is only for Allah; upon Him I have relied)
    1635,  // 12:87 (Despair not of relief from Allah)
    1810,  // 15:49 (Inform My servants that it is I who am the Forgiving, the Merciful)
    1925,  // 16:30 (For those who do good in this world is good)
    2103,  // 17:80 (My Lord, cause me to enter a sound entrance and exit a sound exit)
    2113,  // 17:110 (To Him belong the best names)
    2190,  // 18:10 (Our Lord, grant us from Yourself mercy and prepare for us from our affair right guidance)
    2382,  // 20:46 (Do not be afraid; indeed, I am with you both; I hear and I see)
    2615,  // 22:11 (Allah knows what you do)
    2744,  // 24:35 (Allah is the Light of the heavens and the earth)
    6210   // 110:3 (Exalt Him with praise of your Lord and ask forgiveness of Him)
];
        /* --- REGISTER SERVICE WORKER (Required for Install Prompt) --- */
if ('serviceWorker' in navigator) {
    navigator.serviceWorker.register('sw.js')
        .then(() => console.log('Service Worker Registered'))
        .catch((err) => console.log('SW Error:', err));
}

     window.addEventListener('load', () => {
    /* --- 1. START THE APP LOGIC (This was missing!) --- */
    console.log("App Starting..."); // Debug message
    updateAtmosphere();
    updateGregorianDate();
    loadDailyVerse();
    loadDailyHadith();
    initChecklist();
    generateDailyContent();

    /* --- 2. LOAD LOCATION & PRAYERS --- */
    const savedCity = localStorage.getItem('city');
    
    if(savedCity && savedCity !== "GPS Location") {
        // Case A: User saved a city manually
        document.getElementById('set-city').value = savedCity;
        loadPrayers(savedCity, localStorage.getItem('country') || "");
        
    } else if (localStorage.getItem('lat') && localStorage.getItem('long')) {
        // Case B: User saved GPS coordinates
        loadPrayersByGPS(localStorage.getItem('lat'), localStorage.getItem('long'));
        
    } else {
        // Case C: First time opening (Default to Makkah)
        loadPrayers("Makkah", "Saudi Arabia");
        document.getElementById('set-city').value = "Makkah";
    }

    /* --- 3. REMOVE BISMILLAH SCREEN --- */
    setTimeout(() => {
        const screen = document.getElementById('bismillah-screen');
        if(screen) {
            screen.style.opacity = '0'; // Fade out
            setTimeout(() => screen.style.display = 'none', 1500); // Remove
        }
    }, 1500); 
});
        // --- THEME LOGIC ---
        function toggleTheme() {
            document.body.classList.toggle('light-theme');
            const isLight = document.body.classList.contains('light-theme');
            localStorage.setItem('theme', isLight ? 'light' : 'dark');
            const icon = document.querySelector('.theme-toggle i');
            icon.className = isLight ? 'fas fa-moon' : 'fas fa-sun';
        }
        // Load Theme
        if(localStorage.getItem('theme') === 'light') {
            document.body.classList.add('light-theme');
            document.querySelector('.theme-toggle i').className = 'fas fa-moon';
        }

        // --- NAVIGATION LOGIC ---
        function switchTab(tabId, btn) {
            document.querySelectorAll('.view-section').forEach(el => el.classList.remove('active'));
            document.getElementById(tabId).classList.add('active');
            document.querySelectorAll('.nav-btn').forEach(el => el.classList.remove('active'));
            if(btn) btn.classList.add('active');
            
            // Lazy Load Features
            if(tabId === 'quran' && document.getElementById('surah-list-view').children.length < 2) loadSurahs();
            if(tabId === 'qibla') updateQiblaUI();
        }

       // --- HOME LOGIC ---
        
        // 1. MASSIVE LIST OF DUAS (ARABIC & ENGLISH)
        const duas = [
            { ar: "Ø±ÙŽØ¨ÙŽÙ‘Ù†ÙŽØ§ Ø¢ØªÙÙ†ÙŽØ§ ÙÙÙŠ Ø§Ù„Ø¯ÙÙ‘Ù†Ù’ÙŠÙŽØ§ Ø­ÙŽØ³ÙŽÙ†ÙŽØ©Ù‹ ÙˆÙŽÙÙÙŠ Ø§Ù„Ø¢Ø®ÙØ±ÙŽØ©Ù Ø­ÙŽØ³ÙŽÙ†ÙŽØ©Ù‹ ÙˆÙŽÙ‚ÙÙ†ÙŽØ§ Ø¹ÙŽØ°ÙŽØ§Ø¨ÙŽ Ø§Ù„Ù†ÙŽÙ‘Ø§Ø±Ù", en: "Our Lord! Give us in this world that which is good and in the Hereafter that which is good and save us from the torment of the Fire." },
            { ar: "Ø±ÙŽØ¨ÙÙ‘ Ø²ÙØ¯Ù’Ù†ÙÙŠ Ø¹ÙÙ„Ù’Ù…Ù‹Ø§", en: "My Lord, increase me in knowledge." },
            { ar: "Ø±ÙŽØ¨ÙÙ‘ Ø§Ø´Ù’Ø±ÙŽØ­Ù’ Ù„ÙÙŠ ØµÙŽØ¯Ù’Ø±ÙÙŠ ÙˆÙŽÙŠÙŽØ³ÙÙ‘Ø±Ù’ Ù„ÙÙŠ Ø£ÙŽÙ…Ù’Ø±ÙÙŠ", en: "My Lord, expand for me my breast [with assurance] and ease for me my task." },
            { ar: "Ø±ÙŽØ¨ÙŽÙ‘Ù†ÙŽØ§ Ø§ØºÙ’ÙÙØ±Ù’ Ù„ÙÙŠ ÙˆÙŽÙ„ÙÙˆÙŽØ§Ù„ÙØ¯ÙŽÙŠÙŽÙ‘ ÙˆÙŽÙ„ÙÙ„Ù’Ù…ÙØ¤Ù’Ù…ÙÙ†ÙÙŠÙ†ÙŽ ÙŠÙŽÙˆÙ’Ù…ÙŽ ÙŠÙŽÙ‚ÙÙˆÙ…Ù Ø§Ù„Ù’Ø­ÙØ³ÙŽØ§Ø¨Ù", en: "Our Lord, forgive me and my parents and the believers the Day the account is established." },
            { ar: "Ù„ÙŽØ§ Ø¥ÙÙ„ÙŽÙ‡ÙŽ Ø¥ÙÙ„ÙŽÙ‘Ø§ Ø£ÙŽÙ†ØªÙŽ Ø³ÙØ¨Ù’Ø­ÙŽØ§Ù†ÙŽÙƒÙŽ Ø¥ÙÙ†ÙÙ‘ÙŠ ÙƒÙÙ†ØªÙ Ù…ÙÙ†ÙŽ Ø§Ù„Ø¸ÙŽÙ‘Ø§Ù„ÙÙ…ÙÙŠÙ†ÙŽ", en: "There is no deity except You; exalted are You. Indeed, I have been of the wrongdoers." },
            { ar: "Ø±ÙŽØ¨ÙŽÙ‘Ù†ÙŽØ§ Ù„ÙŽØ§ ØªÙØ²ÙØºÙ’ Ù‚ÙÙ„ÙÙˆØ¨ÙŽÙ†ÙŽØ§ Ø¨ÙŽØ¹Ù’Ø¯ÙŽ Ø¥ÙØ°Ù’ Ù‡ÙŽØ¯ÙŽÙŠÙ’ØªÙŽÙ†ÙŽØ§ ÙˆÙŽÙ‡ÙŽØ¨Ù’ Ù„ÙŽÙ†ÙŽØ§ Ù…ÙÙ† Ù„ÙŽÙ‘Ø¯ÙÙ†ÙƒÙŽ Ø±ÙŽØ­Ù’Ù…ÙŽØ©Ù‹", en: "Our Lord, let not our hearts deviate after You have guided us and grant us from Yourself mercy." },
            { ar: "Ø±ÙŽØ¨ÙÙ‘ Ø¥ÙÙ†ÙÙ‘ÙŠ Ù„ÙÙ…ÙŽØ§ Ø£ÙŽÙ†Ø²ÙŽÙ„Ù’ØªÙŽ Ø¥ÙÙ„ÙŽÙŠÙŽÙ‘ Ù…ÙÙ†Ù’ Ø®ÙŽÙŠÙ’Ø±Ù ÙÙŽÙ‚ÙÙŠØ±ÙŒ", en: "My Lord, indeed I am, for whatever good You would send down to me, in need." },
            { ar: "Ø§Ù„Ù„ÙŽÙ‘Ù‡ÙÙ…ÙŽÙ‘ Ø¥ÙÙ†ÙŽÙ‘ÙƒÙŽ Ø¹ÙŽÙÙÙˆÙŒÙ‘ ØªÙØ­ÙØ¨ÙÙ‘ Ø§Ù„Ù’Ø¹ÙŽÙÙ’ÙˆÙŽ ÙÙŽØ§Ø¹Ù’ÙÙ Ø¹ÙŽÙ†ÙÙ‘ÙŠ", en: "O Allah, You are Forgiving and love forgiveness, so forgive me." },
            { ar: "ÙŠÙŽØ§ Ù…ÙÙ‚ÙŽÙ„ÙÙ‘Ø¨ÙŽ Ø§Ù„Ù’Ù‚ÙÙ„ÙÙˆØ¨Ù Ø«ÙŽØ¨ÙÙ‘ØªÙ’ Ù‚ÙŽÙ„Ù’Ø¨ÙÙŠ Ø¹ÙŽÙ„ÙŽÙ‰ Ø¯ÙÙŠÙ†ÙÙƒÙŽ", en: "O Turner of the hearts, make my heart firm upon Your religion." },
            { ar: "Ø§Ù„Ù„ÙŽÙ‘Ù‡ÙÙ…ÙŽÙ‘ Ø¥ÙÙ†ÙÙ‘ÙŠ Ø£ÙŽØ³Ù’Ø£ÙŽÙ„ÙÙƒÙŽ Ø§Ù„Ù’Ù‡ÙØ¯ÙŽÙ‰ ÙˆÙŽØ§Ù„ØªÙÙ‘Ù‚ÙŽÙ‰ ÙˆÙŽØ§Ù„Ù’Ø¹ÙŽÙÙŽØ§ÙÙŽ ÙˆÙŽØ§Ù„Ù’ØºÙÙ†ÙŽÙ‰", en: "O Allah, I ask You for guidance, piety, chastity, and self-sufficiency." },
            { ar: "Ø±ÙŽØ¨ÙŽÙ‘Ù†ÙŽØ§ Ù‡ÙŽØ¨Ù’ Ù„ÙŽÙ†ÙŽØ§ Ù…ÙÙ†Ù’ Ø£ÙŽØ²Ù’ÙˆÙŽØ§Ø¬ÙÙ†ÙŽØ§ ÙˆÙŽØ°ÙØ±ÙÙ‘ÙŠÙŽÙ‘Ø§ØªÙÙ†ÙŽØ§ Ù‚ÙØ±ÙŽÙ‘Ø©ÙŽ Ø£ÙŽØ¹Ù’ÙŠÙÙ†Ù ÙˆÙŽØ§Ø¬Ù’Ø¹ÙŽÙ„Ù’Ù†ÙŽØ§ Ù„ÙÙ„Ù’Ù…ÙØªÙŽÙ‘Ù‚ÙÙŠÙ†ÙŽ Ø¥ÙÙ…ÙŽØ§Ù…Ù‹Ø§", en: "Our Lord, grant us from among our wives and offspring comfort to our eyes and make us an example for the righteous." },
            { ar: "Ø§Ù„Ù„ÙŽÙ‘Ù‡ÙÙ…ÙŽÙ‘ Ø§ÙƒÙ’ÙÙÙ†ÙÙŠ Ø¨ÙØ­ÙŽÙ„ÙŽØ§Ù„ÙÙƒÙŽ Ø¹ÙŽÙ†Ù’ Ø­ÙŽØ±ÙŽØ§Ù…ÙÙƒÙŽ ÙˆÙŽØ£ÙŽØºÙ’Ù†ÙÙ†ÙÙŠ Ø¨ÙÙÙŽØ¶Ù’Ù„ÙÙƒÙŽ Ø¹ÙŽÙ…ÙŽÙ‘Ù†Ù’ Ø³ÙÙˆÙŽØ§ÙƒÙŽ", en: "O Allah, suffice me with Your lawful against Your prohibited, and make me independent of all those besides You." },
            { ar: "Ø±ÙŽØ¨ÙÙ‘ Ø§Ø¬Ù’Ø¹ÙŽÙ„Ù’Ù†ÙÙŠ Ù…ÙÙ‚ÙÙŠÙ…ÙŽ Ø§Ù„ØµÙŽÙ‘Ù„ÙŽØ§Ø©Ù ÙˆÙŽÙ…ÙÙ† Ø°ÙØ±ÙÙ‘ÙŠÙŽÙ‘ØªÙÙŠ Ûš Ø±ÙŽØ¨ÙŽÙ‘Ù†ÙŽØ§ ÙˆÙŽØªÙŽÙ‚ÙŽØ¨ÙŽÙ‘Ù„Ù’ Ø¯ÙØ¹ÙŽØ§Ø¡Ù", en: "My Lord, make me an establisher of prayer, and [many] from my descendants. Our Lord, and accept my supplication." },
            { ar: "Ø§Ù„Ù„ÙŽÙ‘Ù‡ÙÙ…ÙŽÙ‘ Ù„ÙŽØ§ Ø³ÙŽÙ‡Ù’Ù„ÙŽ Ø¥ÙÙ„ÙŽÙ‘Ø§ Ù…ÙŽØ§ Ø¬ÙŽØ¹ÙŽÙ„Ù’ØªÙŽÙ‡Ù Ø³ÙŽÙ‡Ù’Ù„Ù‹Ø§ØŒ ÙˆÙŽØ£ÙŽÙ†Ù’ØªÙŽ ØªÙŽØ¬Ù’Ø¹ÙŽÙ„Ù Ø§Ù„Ù’Ø­ÙŽØ²Ù’Ù†ÙŽ Ø¥ÙØ°ÙŽØ§ Ø´ÙØ¦Ù’ØªÙŽ Ø³ÙŽÙ‡Ù’Ù„Ù‹Ø§", en: "O Allah, there is no ease except in that which You have made easy, and You make the difficulty, if You wish, easy." },
            { ar: "Ø±ÙŽØ¨ÙÙ‘ Ø£ÙŽÙˆÙ’Ø²ÙØ¹Ù’Ù†ÙÙŠ Ø£ÙŽÙ†Ù’ Ø£ÙŽØ´Ù’ÙƒÙØ±ÙŽ Ù†ÙØ¹Ù’Ù…ÙŽØªÙŽÙƒÙŽ Ø§Ù„ÙŽÙ‘ØªÙÙŠ Ø£ÙŽÙ†Ù’Ø¹ÙŽÙ…Ù’ØªÙŽ Ø¹ÙŽÙ„ÙŽÙŠÙŽÙ‘", en: "My Lord, enable me to be grateful for Your favor which You have bestowed upon me." },
            { ar: "Ø§Ù„Ù„ÙŽÙ‘Ù‡ÙÙ…ÙŽÙ‘ Ø¥ÙÙ†ÙÙ‘ÙŠ Ø£ÙŽØ¹ÙÙˆØ°Ù Ø¨ÙÙƒÙŽ Ù…ÙÙ†ÙŽ Ø§Ù„Ù’Ù‡ÙŽÙ…ÙÙ‘ ÙˆÙŽØ§Ù„Ù’Ø­ÙŽØ²ÙŽÙ†ÙØŒ ÙˆÙŽØ§Ù„Ù’Ø¹ÙŽØ¬Ù’Ø²Ù ÙˆÙŽØ§Ù„Ù’ÙƒÙŽØ³ÙŽÙ„Ù", en: "O Allah, I seek refuge in You from anxiety and sorrow, weakness and laziness." },
            { ar: "Ø±ÙŽØ¨ÙŽÙ‘Ù†ÙŽØ§ ØªÙŽÙ‚ÙŽØ¨ÙŽÙ‘Ù„Ù’ Ù…ÙÙ†ÙŽÙ‘Ø§ Û– Ø¥ÙÙ†ÙŽÙ‘ÙƒÙŽ Ø£ÙŽÙ†ØªÙŽ Ø§Ù„Ø³ÙŽÙ‘Ù…ÙÙŠØ¹Ù Ø§Ù„Ù’Ø¹ÙŽÙ„ÙÙŠÙ…Ù", en: "Our Lord, accept [this] from us. Indeed You are the Hearing, the Knowing." },
            { ar: "Ø§Ù„Ù„ÙŽÙ‘Ù‡ÙÙ…ÙŽÙ‘ ØµÙŽÙ„ÙÙ‘ Ø¹ÙŽÙ„ÙŽÙ‰ Ù…ÙØ­ÙŽÙ…ÙŽÙ‘Ø¯Ù ÙˆÙŽØ¹ÙŽÙ„ÙŽÙ‰ Ø¢Ù„Ù Ù…ÙØ­ÙŽÙ…ÙŽÙ‘Ø¯Ù", en: "O Allah, send prayers upon Muhammad and upon the family of Muhammad." },
            { ar: "Ø­ÙŽØ³Ù’Ø¨ÙÙ†ÙŽØ§ Ø§Ù„Ù„ÙŽÙ‘Ù‡Ù ÙˆÙŽÙ†ÙØ¹Ù’Ù…ÙŽ Ø§Ù„Ù’ÙˆÙŽÙƒÙÙŠÙ„Ù", en: "Sufficient for us is Allah, and [He is] the best Disposer of affairs." },
            { ar: "Ø±ÙŽØ¨ÙŽÙ‘Ù†ÙŽØ§ Ø£ÙŽÙÙ’Ø±ÙØºÙ’ Ø¹ÙŽÙ„ÙŽÙŠÙ’Ù†ÙŽØ§ ØµÙŽØ¨Ù’Ø±Ù‹Ø§ ÙˆÙŽØªÙŽÙˆÙŽÙÙŽÙ‘Ù†ÙŽØ§ Ù…ÙØ³Ù’Ù„ÙÙ…ÙÙŠÙ†ÙŽ", en: "Our Lord, pour upon us patience and let us die as Muslims." },
            { ar: "Ø§Ù„Ù„ÙŽÙ‘Ù‡ÙÙ…ÙŽÙ‘ Ø£ÙŽÙ†Ù’ØªÙŽ Ø±ÙŽØ¨ÙÙ‘ÙŠ Ù„ÙŽØ§ Ø¥ÙÙ„ÙŽÙ‡ÙŽ Ø¥ÙÙ„ÙŽÙ‘Ø§ Ø£ÙŽÙ†Ù’ØªÙŽØŒ Ø®ÙŽÙ„ÙŽÙ‚Ù’ØªÙŽÙ†ÙÙŠ ÙˆÙŽØ£ÙŽÙ†ÙŽØ§ Ø¹ÙŽØ¨Ù’Ø¯ÙÙƒÙŽ", en: "O Allah, You are my Lord, there is no god but You. You created me and I am Your servant (Sayyidul Istighfar)." },
            { ar: "Ø³ÙØ¨Ù’Ø­ÙŽØ§Ù†ÙŽ Ø§Ù„Ù„ÙŽÙ‘Ù‡Ù ÙˆÙŽØ¨ÙØ­ÙŽÙ…Ù’Ø¯ÙÙ‡Ù Ø³ÙØ¨Ù’Ø­ÙŽØ§Ù†ÙŽ Ø§Ù„Ù„ÙŽÙ‘Ù‡Ù Ø§Ù„Ù’Ø¹ÙŽØ¸ÙÙŠÙ…Ù", en: "Glory be to Allah and His is the praise, (and) Allah, the Greatest is free from imperfection." },
            { ar: "Ø§Ù„Ù„ÙŽÙ‘Ù‡ÙÙ…ÙŽÙ‘ Ø¥ÙÙ†ÙÙ‘ÙŠ Ø¸ÙŽÙ„ÙŽÙ…Ù’ØªÙ Ù†ÙŽÙÙ’Ø³ÙÙŠ Ø¸ÙÙ„Ù’Ù…Ù‹Ø§ ÙƒÙŽØ«ÙÙŠØ±Ù‹Ø§ ÙˆÙŽÙ„ÙŽØ§ ÙŠÙŽØºÙ’ÙÙØ±Ù Ø§Ù„Ø°ÙÙ‘Ù†ÙÙˆØ¨ÙŽ Ø¥ÙÙ„ÙŽÙ‘Ø§ Ø£ÙŽÙ†Ù’ØªÙŽ", en: "O Allah, I have wronged myself greatly, and no one forgives sins except You." },
            { ar: "Ø±ÙŽØ¨ÙŽÙ‘Ù†ÙŽØ§ Ø¢Ù…ÙŽÙ†ÙŽÙ‘Ø§ ÙÙŽØ§ØºÙ’ÙÙØ±Ù’ Ù„ÙŽÙ†ÙŽØ§ ÙˆÙŽØ§Ø±Ù’Ø­ÙŽÙ…Ù’Ù†ÙŽØ§ ÙˆÙŽØ£ÙŽÙ†ØªÙŽ Ø®ÙŽÙŠÙ’Ø±Ù Ø§Ù„Ø±ÙŽÙ‘Ø§Ø­ÙÙ…ÙÙŠÙ†ÙŽ", en: "Our Lord, we have believed, so forgive us and have mercy upon us, and You are the best of the merciful." },
            { ar: "Ø§Ù„Ù„ÙŽÙ‘Ù‡ÙÙ…ÙŽÙ‘ Ø¥ÙÙ†ÙÙ‘ÙŠ Ø£ÙŽØ³Ù’Ø£ÙŽÙ„ÙÙƒÙŽ Ø¹ÙÙ„Ù’Ù…Ù‹Ø§ Ù†ÙŽØ§ÙÙØ¹Ù‹Ø§ ÙˆÙŽØ±ÙØ²Ù’Ù‚Ù‹Ø§ Ø·ÙŽÙŠÙÙ‘Ø¨Ù‹Ø§ ÙˆÙŽØ¹ÙŽÙ…ÙŽÙ„Ù‹Ø§ Ù…ÙØªÙŽÙ‚ÙŽØ¨ÙŽÙ‘Ù„Ù‹Ø§", en: "O Allah, I ask You for knowledge that is of benefit, a good provision, and deeds that will be accepted." },
            { ar: "Ø±ÙŽØ¨ÙÙ‘ Ø§Ø¨Ù’Ù†Ù Ù„ÙÙŠ Ø¹ÙÙ†Ø¯ÙŽÙƒÙŽ Ø¨ÙŽÙŠÙ’ØªÙ‹Ø§ ÙÙÙŠ Ø§Ù„Ù’Ø¬ÙŽÙ†ÙŽÙ‘Ø©Ù", en: "My Lord, build for me near You a house in Paradise." },
            { ar: "Ø§Ù„Ù„ÙŽÙ‘Ù‡ÙÙ…ÙŽÙ‘ Ø§Ø¬Ù’Ø¹ÙŽÙ„Ù’ ÙÙÙŠ Ù‚ÙŽÙ„Ù’Ø¨ÙÙŠ Ù†ÙÙˆØ±Ù‹Ø§ ÙˆÙŽÙÙÙŠ Ø¨ÙŽØµÙŽØ±ÙÙŠ Ù†ÙÙˆØ±Ù‹Ø§", en: "O Allah, place light in my heart and light in my sight." },
            { ar: "Ø±ÙŽØ¨ÙÙ‘ Ù‡ÙŽØ¨Ù’ Ù„ÙÙŠ Ù…ÙÙ†ÙŽ Ø§Ù„ØµÙŽÙ‘Ø§Ù„ÙØ­ÙÙŠÙ†ÙŽ", en: "My Lord, grant me [a child] from among the righteous." },
            { ar: "Ø±ÙŽØ¨ÙŽÙ‘Ù†ÙŽØ§ Ù„ÙŽØ§ ØªÙØ¤ÙŽØ§Ø®ÙØ°Ù’Ù†ÙŽØ§ Ø¥ÙÙ† Ù†ÙŽÙ‘Ø³ÙÙŠÙ†ÙŽØ§ Ø£ÙŽÙˆÙ’ Ø£ÙŽØ®Ù’Ø·ÙŽØ£Ù’Ù†ÙŽØ§", en: "Our Lord, do not impose blame upon us if we have forgotten or erred." },
            { ar: "Ø§Ù„Ù„ÙŽÙ‘Ù‡ÙÙ…ÙŽÙ‘ Ø¹ÙŽØ§ÙÙÙ†ÙÙŠ ÙÙÙŠ Ø¨ÙŽØ¯ÙŽÙ†ÙÙŠØŒ Ø§Ù„Ù„ÙŽÙ‘Ù‡ÙÙ…ÙŽÙ‘ Ø¹ÙŽØ§ÙÙÙ†ÙÙŠ ÙÙÙŠ Ø³ÙŽÙ…Ù’Ø¹ÙÙŠØŒ Ø§Ù„Ù„ÙŽÙ‘Ù‡ÙÙ…ÙŽÙ‘ Ø¹ÙŽØ§ÙÙÙ†ÙÙŠ ÙÙÙŠ Ø¨ÙŽØµÙŽØ±ÙÙŠ", en: "O Allah, make me healthy in my body. O Allah, make me healthy in my hearing. O Allah, make me healthy in my sight." },
            { ar: "Ø£ÙŽØ¹ÙÙˆØ°Ù Ø¨ÙÙƒÙŽÙ„ÙÙ…ÙŽØ§ØªÙ Ø§Ù„Ù„ÙŽÙ‘Ù‡Ù Ø§Ù„ØªÙŽÙ‘Ø§Ù…ÙŽÙ‘Ø§ØªÙ Ù…ÙÙ†Ù’ Ø´ÙŽØ±ÙÙ‘ Ù…ÙŽØ§ Ø®ÙŽÙ„ÙŽÙ‚ÙŽ", en: "I seek refuge in the Perfect Words of Allah from the evil of what He has created." },
            { ar: "Ø¨ÙØ³Ù’Ù…Ù Ø§Ù„Ù„ÙŽÙ‘Ù‡Ù Ø§Ù„ÙŽÙ‘Ø°ÙÙŠ Ù„ÙŽØ§ ÙŠÙŽØ¶ÙØ±ÙÙ‘ Ù…ÙŽØ¹ÙŽ Ø§Ø³Ù’Ù…ÙÙ‡Ù Ø´ÙŽÙŠÙ’Ø¡ÙŒ ÙÙÙŠ Ø§Ù„Ù’Ø£ÙŽØ±Ù’Ø¶Ù ÙˆÙŽÙ„ÙŽØ§ ÙÙÙŠ Ø§Ù„Ø³ÙŽÙ‘Ù…ÙŽØ§Ø¡Ù", en: "In the Name of Allah, with Whose Name nothing is harmed on earth nor in heaven." },
            { ar: "Ø±ÙŽØ¶ÙÙŠØªÙ Ø¨ÙØ§Ù„Ù„ÙŽÙ‘Ù‡Ù Ø±ÙŽØ¨Ù‹Ù‘Ø§ ÙˆÙŽØ¨ÙØ§Ù„Ù’Ø¥ÙØ³Ù’Ù„ÙŽØ§Ù…Ù Ø¯ÙÙŠÙ†Ù‹Ø§ ÙˆÙŽØ¨ÙÙ…ÙØ­ÙŽÙ…ÙŽÙ‘Ø¯Ù Ù†ÙŽØ¨ÙÙŠÙ‹Ù‘Ø§", en: "I am pleased with Allah as my Lord, with Islam as my religion, and with Muhammad as my Prophet." },
            { ar: "Ø§Ù„Ù„ÙŽÙ‘Ù‡ÙÙ…ÙŽÙ‘ Ø¥ÙÙ†ÙÙ‘ÙŠ Ø£ÙŽØ¹ÙÙˆØ°Ù Ø¨ÙÙƒÙŽ Ù…ÙÙ†ÙŽ Ø§Ù„Ù’ÙƒÙÙÙ’Ø±Ù ÙˆÙŽØ§Ù„Ù’ÙÙŽÙ‚Ù’Ø±Ù", en: "O Allah, I seek refuge in You from disbelief and poverty." },
            { ar: "Ø±ÙŽØ¨ÙŽÙ‘Ù†ÙŽØ§ Ø¸ÙŽÙ„ÙŽÙ…Ù’Ù†ÙŽØ§ Ø£ÙŽÙ†ÙÙØ³ÙŽÙ†ÙŽØ§ ÙˆÙŽØ¥ÙÙ† Ù„ÙŽÙ‘Ù…Ù’ ØªÙŽØºÙ’ÙÙØ±Ù’ Ù„ÙŽÙ†ÙŽØ§ ÙˆÙŽØªÙŽØ±Ù’Ø­ÙŽÙ…Ù’Ù†ÙŽØ§ Ù„ÙŽÙ†ÙŽÙƒÙÙˆÙ†ÙŽÙ†ÙŽÙ‘ Ù…ÙÙ†ÙŽ Ø§Ù„Ù’Ø®ÙŽØ§Ø³ÙØ±ÙÙŠÙ†ÙŽ", en: "Our Lord, we have wronged ourselves, and if You do not forgive us and have mercy upon us, we will surely be among the losers." },
            { ar: "Ø§Ù„Ù„ÙŽÙ‘Ù‡ÙÙ…ÙŽÙ‘ Ø£ÙŽØ¹ÙÙ†ÙÙ‘ÙŠ Ø¹ÙŽÙ„ÙŽÙ‰ Ø°ÙÙƒÙ’Ø±ÙÙƒÙŽ ÙˆÙŽØ´ÙÙƒÙ’Ø±ÙÙƒÙŽ ÙˆÙŽØ­ÙØ³Ù’Ù†Ù Ø¹ÙØ¨ÙŽØ§Ø¯ÙŽØªÙÙƒÙŽ", en: "O Allah, help me to remember You, to give You thanks, and to perform Your worship in the best manner." },
            { ar: "Ø±ÙŽØ¨ÙÙ‘ Ø§Ø±Ù’Ø­ÙŽÙ…Ù’Ù‡ÙÙ…ÙŽØ§ ÙƒÙŽÙ…ÙŽØ§ Ø±ÙŽØ¨ÙŽÙ‘ÙŠÙŽØ§Ù†ÙÙŠ ØµÙŽØºÙÙŠØ±Ù‹Ø§", en: "My Lord, have mercy upon them [my parents] as they brought me up [when I was] small." },
            { ar: "Ø§Ù„Ù„ÙŽÙ‘Ù‡ÙÙ…ÙŽÙ‘ Ø¥ÙÙ†ÙÙ‘ÙŠ Ø£ÙŽØ¹ÙÙˆØ°Ù Ø¨ÙÙƒÙŽ Ù…ÙÙ†Ù’ Ø´ÙŽØ±ÙÙ‘ Ù…ÙŽØ§ Ø¹ÙŽÙ…ÙÙ„Ù’ØªÙ ÙˆÙŽÙ…ÙÙ†Ù’ Ø´ÙŽØ±ÙÙ‘ Ù…ÙŽØ§ Ù„ÙŽÙ…Ù’ Ø£ÙŽØ¹Ù’Ù…ÙŽÙ„Ù’", en: "O Allah, I seek refuge in You from the evil of what I have done and from the evil of what I have not done." },
            { ar: "Ø§Ù„Ù„ÙŽÙ‘Ù‡ÙÙ…ÙŽÙ‘ Ø§Ù‡Ù’Ø¯ÙÙ†ÙÙŠ ÙÙÙŠÙ…ÙŽÙ†Ù’ Ù‡ÙŽØ¯ÙŽÙŠÙ’ØªÙŽ ÙˆÙŽØ¹ÙŽØ§ÙÙÙ†ÙÙŠ ÙÙÙŠÙ…ÙŽÙ†Ù’ Ø¹ÙŽØ§ÙÙŽÙŠÙ’ØªÙŽ", en: "O Allah, guide me among those whom You have guided, and grant me well-being among those whom You have granted well-being." },
            { ar: "Ø±ÙŽØ¨ÙŽÙ‘Ù†ÙŽØ§ Ø£ÙŽØªÙ’Ù…ÙÙ…Ù’ Ù„ÙŽÙ†ÙŽØ§ Ù†ÙÙˆØ±ÙŽÙ†ÙŽØ§ ÙˆÙŽØ§ØºÙ’ÙÙØ±Ù’ Ù„ÙŽÙ†ÙŽØ§ Û– Ø¥ÙÙ†ÙŽÙ‘ÙƒÙŽ Ø¹ÙŽÙ„ÙŽÙ‰Ù° ÙƒÙÙ„ÙÙ‘ Ø´ÙŽÙŠÙ’Ø¡Ù Ù‚ÙŽØ¯ÙÙŠØ±ÙŒ", en: "Our Lord, perfect for us our light and forgive us. Indeed, You are over all things competent." },
            { ar: "Ù„ÙŽØ§ Ø­ÙŽÙˆÙ’Ù„ÙŽ ÙˆÙŽÙ„ÙŽØ§ Ù‚ÙÙˆÙŽÙ‘Ø©ÙŽ Ø¥ÙÙ„ÙŽÙ‘Ø§ Ø¨ÙØ§Ù„Ù„ÙŽÙ‘Ù‡Ù", en: "There is no power and no strength except with Allah." },
            { ar: "Ø§Ù„Ù„ÙŽÙ‘Ù‡ÙÙ…ÙŽÙ‘ Ø¨ÙŽØ§Ø±ÙÙƒÙ’ Ù„ÙŽÙ†ÙŽØ§ ÙÙÙŠÙ…ÙŽØ§ Ø±ÙŽØ²ÙŽÙ‚Ù’ØªÙŽÙ†ÙŽØ§ ÙˆÙŽÙ‚ÙÙ†ÙŽØ§ Ø¹ÙŽØ°ÙŽØ§Ø¨ÙŽ Ø§Ù„Ù†ÙŽÙ‘Ø§Ø±Ù", en: "O Allah, bless us in what You have provided for us and save us from the punishment of the Fire." },
            { ar: "Ø³ÙØ¨Ù’Ø­ÙŽØ§Ù†ÙŽ Ø§Ù„ÙŽÙ‘Ø°ÙÙŠ Ø³ÙŽØ®ÙŽÙ‘Ø±ÙŽ Ù„ÙŽÙ†ÙŽØ§ Ù‡ÙŽØ°ÙŽØ§ ÙˆÙŽÙ…ÙŽØ§ ÙƒÙÙ†ÙŽÙ‘Ø§ Ù„ÙŽÙ‡Ù Ù…ÙÙ‚Ù’Ø±ÙÙ†ÙÙŠÙ†ÙŽ", en: "Glory be to Him who has subjected this to us, and we could not have otherwise subdued it." },
            { ar: "Ø§Ù„Ù„ÙŽÙ‘Ù‡ÙÙ…ÙŽÙ‘ Ø§ÙÙ’ØªÙŽØ­Ù’ Ù„ÙÙŠ Ø£ÙŽØ¨Ù’ÙˆÙŽØ§Ø¨ÙŽ Ø±ÙŽØ­Ù’Ù…ÙŽØªÙÙƒÙŽ", en: "O Allah, open for me the doors of Your mercy (when entering Mosque)." },
            { ar: "Ø±ÙŽØ¨ÙÙ‘ Ù†ÙŽØ¬ÙÙ‘Ù†ÙÙŠ Ù…ÙÙ†ÙŽ Ø§Ù„Ù’Ù‚ÙŽÙˆÙ’Ù…Ù Ø§Ù„Ø¸ÙŽÙ‘Ø§Ù„ÙÙ…ÙÙŠÙ†ÙŽ", en: "My Lord, save me from the wrongdoing people." },
            { ar: "Ø§Ù„Ù’Ø­ÙŽÙ…Ù’Ø¯Ù Ù„ÙÙ„ÙŽÙ‘Ù‡Ù Ø§Ù„ÙŽÙ‘Ø°ÙÙŠ Ø£ÙŽØ­Ù’ÙŠÙŽØ§Ù†ÙŽØ§ Ø¨ÙŽØ¹Ù’Ø¯ÙŽ Ù…ÙŽØ§ Ø£ÙŽÙ…ÙŽØ§ØªÙŽÙ†ÙŽØ§ ÙˆÙŽØ¥ÙÙ„ÙŽÙŠÙ’Ù‡Ù Ø§Ù„Ù†ÙÙ‘Ø´ÙÙˆØ±Ù", en: "Praise is to Allah Who gives us life after He has caused us to die and unto Him is the return." },
            { ar: "Ø§Ù„Ù„ÙŽÙ‘Ù‡ÙÙ…ÙŽÙ‘ Ø§Ø¬Ù’Ø¹ÙŽÙ„Ù’ Ø®ÙŽÙŠÙ’Ø±ÙŽ Ø¹ÙÙ…Ù’Ø±ÙÙŠ Ø¢Ø®ÙØ±ÙŽÙ‡Ù ÙˆÙŽØ®ÙŽÙŠÙ’Ø±ÙŽ Ø¹ÙŽÙ…ÙŽÙ„ÙÙŠ Ø®ÙŽÙˆÙŽØ§ØªÙÙ…ÙŽÙ‡Ù", en: "O Allah, make the best of my life the end of it, and the best of my deeds the sealing of them." },
            { ar: "Ø§Ù„Ù„ÙŽÙ‘Ù‡ÙÙ…ÙŽÙ‘ Ø­ÙŽØ§Ø³ÙØ¨Ù’Ù†ÙÙŠ Ø­ÙØ³ÙŽØ§Ø¨Ù‹Ø§ ÙŠÙŽØ³ÙÙŠØ±Ù‹Ø§", en: "O Allah, call me to a difficult account with an easy reckoning." },
            { ar: "Ø±ÙŽØ¨ÙÙ‘ Ø£ÙŽØ¯Ù’Ø®ÙÙ„Ù’Ù†ÙÙŠ Ù…ÙØ¯Ù’Ø®ÙŽÙ„ÙŽ ØµÙØ¯Ù’Ù‚Ù ÙˆÙŽØ£ÙŽØ®Ù’Ø±ÙØ¬Ù’Ù†ÙÙŠ Ù…ÙØ®Ù’Ø±ÙŽØ¬ÙŽ ØµÙØ¯Ù’Ù‚Ù", en: "My Lord, cause me to enter a sound entrance and to exit a sound exit." },
            { ar: "Ø§Ù„Ù„ÙŽÙ‘Ù‡ÙÙ…ÙŽÙ‘ Ø¥ÙÙ†ÙÙ‘ÙŠ Ø£ÙŽØ³Ù’Ø£ÙŽÙ„ÙÙƒÙŽ Ø§Ù„Ù’Ø¬ÙŽÙ†ÙŽÙ‘Ø©ÙŽ ÙˆÙŽØ£ÙŽØ¹ÙÙˆØ°Ù Ø¨ÙÙƒÙŽ Ù…ÙÙ†ÙŽ Ø§Ù„Ù†ÙŽÙ‘Ø§Ø±Ù", en: "O Allah, I ask You for Paradise and I seek refuge in You from the Fire." },
            { ar: "Ø§Ù„Ù„ÙŽÙ‘Ù‡ÙÙ…ÙŽÙ‘ Ø¥ÙÙ†ÙÙ‘ÙŠ Ø£ÙŽØ¹ÙÙˆØ°Ù Ø¨ÙÙƒÙŽ Ù…ÙÙ†Ù’ Ø¹ÙÙ„Ù’Ù…Ù Ù„ÙŽØ§ ÙŠÙŽÙ†Ù’ÙÙŽØ¹ÙØŒ ÙˆÙŽÙ…ÙÙ†Ù’ Ù‚ÙŽÙ„Ù’Ø¨Ù Ù„ÙŽØ§ ÙŠÙŽØ®Ù’Ø´ÙŽØ¹Ù", en: "O Allah, I seek refuge in You from knowledge which does not benefit and from a heart which does not fear You." },
    { ar: "Ø§Ù„Ù„ÙŽÙ‘Ù‡ÙÙ…ÙŽÙ‘ Ø£ÙŽØ±ÙÙ†ÙŽØ§ Ø§Ù„Ù’Ø­ÙŽÙ‚ÙŽÙ‘ Ø­ÙŽÙ‚Ù‹Ù‘Ø§ ÙˆÙŽØ§Ø±Ù’Ø²ÙÙ‚Ù’Ù†ÙŽØ§ Ø§ØªÙÙ‘Ø¨ÙŽØ§Ø¹ÙŽÙ‡Ù", en: "O Allah, show us the truth as truth and guide us to follow it." },
    { ar: "ÙŠÙŽØ§ Ø­ÙŽÙŠÙÙ‘ ÙŠÙŽØ§ Ù‚ÙŽÙŠÙÙ‘ÙˆÙ…Ù Ø¨ÙØ±ÙŽØ­Ù’Ù…ÙŽØªÙÙƒÙŽ Ø£ÙŽØ³Ù’ØªÙŽØºÙÙŠØ«Ù", en: "O Living, O Sustaining! In Your Mercy I seek relief!" },
    { ar: "Ø§Ù„Ù„ÙŽÙ‘Ù‡ÙÙ…ÙŽÙ‘ Ø£ÙŽØµÙ’Ù„ÙØ­Ù’ Ù„ÙÙŠ Ø´ÙŽØ£Ù’Ù†ÙÙŠ ÙƒÙÙ„ÙŽÙ‘Ù‡Ù ÙˆÙŽÙ„ÙŽØ§ ØªÙŽÙƒÙÙ„Ù’Ù†ÙÙŠ Ø¥ÙÙ„ÙŽÙ‰ Ù†ÙŽÙÙ’Ø³ÙÙŠ Ø·ÙŽØ±Ù’ÙÙŽØ©ÙŽ Ø¹ÙŽÙŠÙ’Ù†Ù", en: "O Allah, set right all my affairs and do not leave me to myself even for the blink of an eye." },
    { ar: "Ø§Ù„Ù„ÙŽÙ‘Ù‡ÙÙ…ÙŽÙ‘ Ø¥ÙÙ†ÙÙ‘ÙŠ Ø£ÙŽØ³Ù’Ø£ÙŽÙ„ÙÙƒÙŽ Ø­ÙØ¨ÙŽÙ‘ÙƒÙŽ ÙˆÙŽØ­ÙØ¨ÙŽÙ‘ Ù…ÙŽÙ†Ù’ ÙŠÙØ­ÙØ¨ÙÙ‘ÙƒÙŽ", en: "O Allah, I ask You for Your Love and the love of those who love You." },
    { ar: "Ø±ÙŽØ¨ÙŽÙ‘Ù†ÙŽØ§ Ù„ÙŽØ§ ØªÙØ²ÙØºÙ’ Ù‚ÙÙ„ÙÙˆØ¨ÙŽÙ†ÙŽØ§ Ø¨ÙŽØ¹Ù’Ø¯ÙŽ Ø¥ÙØ°Ù’ Ù‡ÙŽØ¯ÙŽÙŠÙ’ØªÙŽÙ†ÙŽØ§", en: "Our Lord, let not our hearts deviate after You have guided us." },
    { ar: "Ø§Ù„Ù„ÙŽÙ‘Ù‡ÙÙ…ÙŽÙ‘ Ù…ÙØµÙŽØ±ÙÙ‘ÙÙŽ Ø§Ù„Ù’Ù‚ÙÙ„ÙÙˆØ¨Ù ØµÙŽØ±ÙÙ‘ÙÙ’ Ù‚ÙÙ„ÙÙˆØ¨ÙŽÙ†ÙŽØ§ Ø¹ÙŽÙ„ÙŽÙ‰ Ø·ÙŽØ§Ø¹ÙŽØªÙÙƒÙŽ", en: "O Turner of the hearts, turn our hearts to Your obedience." },
    { ar: "Ø§Ù„Ù„ÙŽÙ‘Ù‡ÙÙ…ÙŽÙ‘ Ø¥ÙÙ†ÙÙ‘ÙŠ Ø£ÙŽØ¹ÙÙˆØ°Ù Ø¨ÙÙƒÙŽ Ù…ÙÙ†Ù’ Ù…ÙÙ†Ù’ÙƒÙŽØ±ÙŽØ§ØªÙ Ø§Ù„Ù’Ø£ÙŽØ®Ù’Ù„ÙŽØ§Ù‚Ù ÙˆÙŽØ§Ù„Ù’Ø£ÙŽØ¹Ù’Ù…ÙŽØ§Ù„Ù ÙˆÙŽØ§Ù„Ù’Ø£ÙŽÙ‡Ù’ÙˆÙŽØ§Ø¡Ù", en: "O Allah, I seek refuge in You from evil character, evil deeds, and evil desires." },
    { ar: "Ø§Ù„Ù„ÙŽÙ‘Ù‡ÙÙ…ÙŽÙ‘ Ø§ØºÙ’ÙÙØ±Ù’ Ù„ÙÙŠ Ø°ÙŽÙ†Ù’Ø¨ÙÙŠ ÙƒÙÙ„ÙŽÙ‘Ù‡ÙØŒ Ø¯ÙÙ‚ÙŽÙ‘Ù‡Ù ÙˆÙŽØ¬ÙÙ„ÙŽÙ‘Ù‡ÙØŒ ÙˆÙŽØ£ÙŽÙˆÙŽÙ‘Ù„ÙŽÙ‡Ù ÙˆÙŽØ¢Ø®ÙØ±ÙŽÙ‡Ù", en: "O Allah, forgive all my sins, small and great, the first and the last." },
    { ar: "Ø§Ù„Ù„ÙŽÙ‘Ù‡ÙÙ…ÙŽÙ‘ Ø¥ÙÙ†ÙÙ‘ÙŠ Ø£ÙŽØ¹ÙÙˆØ°Ù Ø¨ÙÙƒÙŽ Ù…ÙÙ†ÙŽ Ø§Ù„Ù’ÙƒÙŽØ³ÙŽÙ„Ù ÙˆÙŽØ§Ù„Ù’Ù‡ÙŽØ±ÙŽÙ…Ù ÙˆÙŽØ§Ù„Ù’Ù…ÙŽØ£Ù’Ø«ÙŽÙ…Ù ÙˆÙŽØ§Ù„Ù’Ù…ÙŽØºÙ’Ø±ÙŽÙ…Ù", en: "O Allah, I seek refuge in You from laziness, old age, sin, and heavy debt." },
    { ar: "Ø§Ù„Ù„ÙŽÙ‘Ù‡ÙÙ…ÙŽÙ‘ Ø±ÙŽØ¨ÙŽÙ‘ Ø§Ù„Ù†ÙŽÙ‘Ø§Ø³Ù Ø£ÙŽØ°Ù’Ù‡ÙØ¨Ù Ø§Ù„Ù’Ø¨ÙŽØ§Ø³ÙŽ Ø§Ø´Ù’ÙÙÙ‡Ù ÙˆÙŽØ£ÙŽÙ†Ù’ØªÙŽ Ø§Ù„Ø´ÙŽÙ‘Ø§ÙÙÙŠ", en: "O Allah, Lord of the people, remove the disease and cure him; You are the Healer." },
    { ar: "Ø¨ÙØ³Ù’Ù…Ù Ø§Ù„Ù„ÙŽÙ‘Ù‡Ù (3Ã—) Ø£ÙŽØ¹ÙÙˆØ°Ù Ø¨ÙØ§Ù„Ù„ÙŽÙ‘Ù‡Ù ÙˆÙŽÙ‚ÙØ¯Ù’Ø±ÙŽØªÙÙ‡Ù Ù…ÙÙ†Ù’ Ø´ÙŽØ±ÙÙ‘ Ù…ÙŽØ§ Ø£ÙŽØ¬ÙØ¯Ù ÙˆÙŽØ£ÙØ­ÙŽØ§Ø°ÙØ±Ù (7Ã—)", en: "In the Name of Allah (3x). I seek refuge in Allah and His power from the evil of what I feel and worry about (7x)." },
    { ar: "Ø§Ù„Ù„ÙŽÙ‘Ù‡ÙÙ…ÙŽÙ‘ Ø¥ÙÙ†ÙÙ‘ÙŠ Ø£ÙŽØ³Ù’Ø£ÙŽÙ„ÙÙƒÙŽ Ø§Ù„Ù’Ø¹ÙŽØ§ÙÙÙŠÙŽØ©ÙŽ ÙÙÙŠ Ø§Ù„Ø¯ÙÙ‘Ù†Ù’ÙŠÙŽØ§ ÙˆÙŽØ§Ù„Ù’Ø¢Ø®ÙØ±ÙŽØ©Ù", en: "O Allah, I ask You for well-being in this world and the Hereafter." },
    { ar: "Ø§Ù„Ù„ÙŽÙ‘Ù‡ÙÙ…ÙŽÙ‘ Ø§Ø³Ù’ØªÙØ±Ù’ Ø¹ÙŽÙˆÙ’Ø±ÙŽØ§ØªÙÙŠ ÙˆÙŽØ¢Ù…ÙÙ†Ù’ Ø±ÙŽÙˆÙ’Ø¹ÙŽØ§ØªÙÙŠ", en: "O Allah, conceal my faults and calm my fears." },
    { ar: "Ø§Ù„Ù„ÙŽÙ‘Ù‡ÙÙ…ÙŽÙ‘ Ø§Ø­Ù’ÙÙŽØ¸Ù’Ù†ÙÙŠ Ù…ÙÙ†Ù’ Ø¨ÙŽÙŠÙ’Ù†Ù ÙŠÙŽØ¯ÙŽÙŠÙŽÙ‘ ÙˆÙŽÙ…ÙÙ†Ù’ Ø®ÙŽÙ„Ù’ÙÙÙŠ", en: "O Allah, protect me from before me and behind me." },
    { ar: "Ø§Ù„Ù„ÙŽÙ‘Ù‡ÙÙ…ÙŽÙ‘ Ø£ÙŽÙ†Ù’ØªÙŽ Ø®ÙŽÙ„ÙŽÙ‚Ù’ØªÙŽ Ù†ÙŽÙÙ’Ø³ÙÙŠ ÙˆÙŽØ£ÙŽÙ†Ù’ØªÙŽ ØªÙŽÙˆÙŽÙÙŽÙ‘Ø§Ù‡ÙŽØ§", en: "O Allah, You created my soul and You take it back." },
    { ar: "Ø§Ù„Ù’Ø­ÙŽÙ…Ù’Ø¯Ù Ù„ÙÙ„ÙŽÙ‘Ù‡Ù Ø§Ù„ÙŽÙ‘Ø°ÙÙŠ ÙƒÙŽØ³ÙŽØ§Ù†ÙÙŠ Ù‡ÙŽØ°ÙŽØ§ Ø§Ù„Ø«ÙŽÙ‘ÙˆÙ’Ø¨ÙŽ ÙˆÙŽØ±ÙŽØ²ÙŽÙ‚ÙŽÙ†ÙÙŠÙ‡Ù", en: "Praise is to Allah Who has clothed me with this garment and provided it for me." },
    { ar: "Ø¨ÙØ³Ù’Ù…Ù Ø§Ù„Ù„ÙŽÙ‘Ù‡Ù ÙˆÙŽÙ„ÙŽØ¬Ù’Ù†ÙŽØ§ØŒ ÙˆÙŽØ¨ÙØ³Ù’Ù…Ù Ø§Ù„Ù„ÙŽÙ‘Ù‡Ù Ø®ÙŽØ±ÙŽØ¬Ù’Ù†ÙŽØ§", en: "In the Name of Allah we enter, and in the Name of Allah we leave." },
    { ar: "Ø³ÙØ¨Ù’Ø­ÙŽØ§Ù†ÙŽÙƒÙŽ Ø§Ù„Ù„ÙŽÙ‘Ù‡ÙÙ…ÙŽÙ‘ ÙˆÙŽØ¨ÙØ­ÙŽÙ…Ù’Ø¯ÙÙƒÙŽØŒ Ø£ÙŽØ´Ù’Ù‡ÙŽØ¯Ù Ø£ÙŽÙ†Ù’ Ù„ÙŽØ§ Ø¥ÙÙ„ÙŽÙ‡ÙŽ Ø¥ÙÙ„ÙŽÙ‘Ø§ Ø£ÙŽÙ†Ù’ØªÙŽØŒ Ø£ÙŽØ³Ù’ØªÙŽØºÙ’ÙÙØ±ÙÙƒÙŽ ÙˆÙŽØ£ÙŽØªÙÙˆØ¨Ù Ø¥ÙÙ„ÙŽÙŠÙ’ÙƒÙŽ", en: "Glory is to You, O Allah, and praise. I bear witness that there is no god but You. I seek Your forgiveness and repent to You." },
    { ar: "Ø§Ù„Ù„ÙŽÙ‘Ù‡ÙÙ…ÙŽÙ‘ Ø¨ÙŽØ§Ø¹ÙØ¯Ù’ Ø¨ÙŽÙŠÙ’Ù†ÙÙŠ ÙˆÙŽØ¨ÙŽÙŠÙ’Ù†ÙŽ Ø®ÙŽØ·ÙŽØ§ÙŠÙŽØ§ÙŠÙŽ ÙƒÙŽÙ…ÙŽØ§ Ø¨ÙŽØ§Ø¹ÙŽØ¯Ù’ØªÙŽ Ø¨ÙŽÙŠÙ’Ù†ÙŽ Ø§Ù„Ù’Ù…ÙŽØ´Ù’Ø±ÙÙ‚Ù ÙˆÙŽØ§Ù„Ù’Ù…ÙŽØºÙ’Ø±ÙØ¨Ù", en: "O Allah, distance me from my sins as You have distanced the East from the West." },
    { ar: "ÙˆÙŽØ¬ÙŽÙ‘Ù‡Ù’ØªÙ ÙˆÙŽØ¬Ù’Ù‡ÙÙŠÙŽ Ù„ÙÙ„ÙŽÙ‘Ø°ÙÙŠ ÙÙŽØ·ÙŽØ±ÙŽ Ø§Ù„Ø³ÙŽÙ‘Ù…ÙŽØ§ÙˆÙŽØ§ØªÙ ÙˆÙŽØ§Ù„Ù’Ø£ÙŽØ±Ù’Ø¶ÙŽ Ø­ÙŽÙ†ÙÙŠÙÙ‹Ø§", en: "I have turned my face toward He who created the heavens and the earth, inclining toward truth." },
    { ar: "Ø§Ù„Ù„ÙŽÙ‘Ù‡ÙÙ…ÙŽÙ‘ Ù„ÙŽÙƒÙŽ Ø±ÙŽÙƒÙŽØ¹Ù’ØªÙØŒ ÙˆÙŽØ¨ÙÙƒÙŽ Ø¢Ù…ÙŽÙ†Ù’ØªÙØŒ ÙˆÙŽÙ„ÙŽÙƒÙŽ Ø£ÙŽØ³Ù’Ù„ÙŽÙ…Ù’ØªÙ", en: "O Allah, to You I have bowed, in You I have believed, and to You I have submitted." },
    { ar: "Ø³ÙØ¨Ù’Ø­ÙŽØ§Ù†ÙŽ Ø±ÙŽØ¨ÙÙ‘ÙŠÙŽ Ø§Ù„Ù’Ø¹ÙŽØ¸ÙÙŠÙ…Ù", en: "Glory to my Lord the Exalted (in Ruku)." },
    { ar: "Ø³ÙØ¨Ù’Ø­ÙŽØ§Ù†ÙŽ Ø±ÙŽØ¨ÙÙ‘ÙŠÙŽ Ø§Ù„Ù’Ø£ÙŽØ¹Ù’Ù„ÙŽÙ‰", en: "Glory to my Lord the Most High (in Sujood)." },
    { ar: "Ø±ÙŽØ¨ÙÙ‘ Ø§ØºÙ’ÙÙØ±Ù’ Ù„ÙÙŠØŒ Ø±ÙŽØ¨ÙÙ‘ Ø§ØºÙ’ÙÙØ±Ù’ Ù„ÙÙŠ", en: "My Lord forgive me, My Lord forgive me." },
    { ar: "Ø§Ù„ØªÙŽÙ‘Ø­ÙÙŠÙŽÙ‘Ø§ØªÙ Ù„ÙÙ„ÙŽÙ‘Ù‡Ù ÙˆÙŽØ§Ù„ØµÙŽÙ‘Ù„ÙŽÙˆÙŽØ§ØªÙ ÙˆÙŽØ§Ù„Ø·ÙŽÙ‘ÙŠÙÙ‘Ø¨ÙŽØ§ØªÙ", en: "All compliments, prayers, and pure words are due to Allah (Tashahhud)." },
    { ar: "Ø§Ù„Ù„ÙŽÙ‘Ù‡ÙÙ…ÙŽÙ‘ ØµÙŽÙ„ÙÙ‘ Ø¹ÙŽÙ„ÙŽÙ‰ Ù…ÙØ­ÙŽÙ…ÙŽÙ‘Ø¯Ù ÙˆÙŽØ¹ÙŽÙ„ÙŽÙ‰ Ø¢Ù„Ù Ù…ÙØ­ÙŽÙ…ÙŽÙ‘Ø¯Ù", en: "O Allah, send prayers upon Muhammad and upon the family of Muhammad." },
    { ar: "Ø§Ù„Ù„ÙŽÙ‘Ù‡ÙÙ…ÙŽÙ‘ Ø¨ÙŽØ§Ø±ÙÙƒÙ’ Ø¹ÙŽÙ„ÙŽÙ‰ Ù…ÙØ­ÙŽÙ…ÙŽÙ‘Ø¯Ù ÙˆÙŽØ¹ÙŽÙ„ÙŽÙ‰ Ø¢Ù„Ù Ù…ÙØ­ÙŽÙ…ÙŽÙ‘Ø¯Ù", en: "O Allah, send blessings upon Muhammad and upon the family of Muhammad." },
    { ar: "Ø°ÙŽÙ‡ÙŽØ¨ÙŽ Ø§Ù„Ø¸ÙŽÙ‘Ù…ÙŽØ£Ù ÙˆÙŽØ§Ø¨Ù’ØªÙŽÙ„ÙŽÙ‘ØªÙ Ø§Ù„Ù’Ø¹ÙØ±ÙÙˆÙ‚Ù ÙˆÙŽØ«ÙŽØ¨ÙŽØªÙŽ Ø§Ù„Ù’Ø£ÙŽØ¬Ù’Ø±Ù Ø¥ÙÙ†Ù’ Ø´ÙŽØ§Ø¡ÙŽ Ø§Ù„Ù„ÙŽÙ‘Ù‡Ù", en: "The thirst is gone, the veins are quenched, and the reward is confirmed if Allah wills (Iftar)." },
    { ar: "Ø£ÙŽÙÙ’Ø·ÙŽØ±ÙŽ Ø¹ÙÙ†Ù’Ø¯ÙŽÙƒÙÙ…Ù Ø§Ù„ØµÙŽÙ‘Ø§Ø¦ÙÙ…ÙÙˆÙ†ÙŽ ÙˆÙŽØ£ÙŽÙƒÙŽÙ„ÙŽ Ø·ÙŽØ¹ÙŽØ§Ù…ÙŽÙƒÙÙ…Ù Ø§Ù„Ù’Ø£ÙŽØ¨Ù’Ø±ÙŽØ§Ø±Ù", en: "May the fasting break their fast with you, and the pious eat your food (Guest to Host)." },
    { ar: "Ø§Ù„Ù„ÙŽÙ‘Ù‡ÙÙ…ÙŽÙ‘ Ø¨ÙŽØ§Ø±ÙÙƒÙ’ Ù„ÙŽÙ‡ÙÙ…Ù’ ÙÙÙŠÙ…ÙŽØ§ Ø±ÙŽØ²ÙŽÙ‚Ù’ØªÙŽÙ‡ÙÙ…Ù’ØŒ ÙˆÙŽØ§ØºÙ’ÙÙØ±Ù’ Ù„ÙŽÙ‡ÙÙ…Ù’ ÙˆÙŽØ§Ø±Ù’Ø­ÙŽÙ…Ù’Ù‡ÙÙ…Ù’", en: "O Allah, bless them in what You have provided for them, and forgive them and have mercy on them." },
    { ar: "Ø§Ù„Ù„ÙŽÙ‘Ù‡ÙÙ…ÙŽÙ‘ Ø¥ÙÙ†ÙÙ‘ÙŠ Ø£ÙŽØ³Ù’Ø£ÙŽÙ„ÙÙƒÙŽ Ø®ÙŽÙŠÙ’Ø±ÙŽÙ‡ÙŽØ§ ÙˆÙŽØ®ÙŽÙŠÙ’Ø±ÙŽ Ù…ÙŽØ§ Ø¬ÙØ¨ÙÙ„ÙŽØªÙ’ Ø¹ÙŽÙ„ÙŽÙŠÙ’Ù‡Ù", en: "O Allah, I ask You for the good of her and the good with which You have created her (Marriage)." },
    { ar: "Ø£ÙØ¹ÙÙŠØ°ÙÙƒÙÙ…ÙŽØ§ Ø¨ÙÙƒÙŽÙ„ÙÙ…ÙŽØ§ØªÙ Ø§Ù„Ù„ÙŽÙ‘Ù‡Ù Ø§Ù„ØªÙŽÙ‘Ø§Ù…ÙŽÙ‘Ø©Ù Ù…ÙÙ†Ù’ ÙƒÙÙ„ÙÙ‘ Ø´ÙŽÙŠÙ’Ø·ÙŽØ§Ù†Ù ÙˆÙŽÙ‡ÙŽØ§Ù…ÙŽÙ‘Ø©Ù", en: "I seek protection for you in the Perfect Words of Allah from every devil and poisonous reptile (For Children)." },
    { ar: "ØºÙÙÙ’Ø±ÙŽØ§Ù†ÙŽÙƒÙŽ", en: "I ask You (Allah) for forgiveness (Leaving Toilet)." },
    { ar: "Ø§Ù„Ù’Ø­ÙŽÙ…Ù’Ø¯Ù Ù„ÙÙ„ÙŽÙ‘Ù‡Ù Ø§Ù„ÙŽÙ‘Ø°ÙÙŠ Ø£ÙŽØ°Ù’Ù‡ÙŽØ¨ÙŽ Ø¹ÙŽÙ†ÙÙ‘ÙŠ Ø§Ù„Ù’Ø£ÙŽØ°ÙŽÙ‰ ÙˆÙŽØ¹ÙŽØ§ÙÙŽØ§Ù†ÙÙŠ", en: "Praise be to Allah who has removed harm from me and kept me in good health." },
    { ar: "Ø§Ù„Ù„ÙŽÙ‘Ù‡ÙÙ…ÙŽÙ‘ Ø§Ø¬Ù’Ø¹ÙŽÙ„Ù’Ù†ÙÙŠ Ù…ÙÙ†ÙŽ Ø§Ù„ØªÙŽÙ‘ÙˆÙŽÙ‘Ø§Ø¨ÙÙŠÙ†ÙŽ ÙˆÙŽØ§Ø¬Ù’Ø¹ÙŽÙ„Ù’Ù†ÙÙŠ Ù…ÙÙ†ÙŽ Ø§Ù„Ù’Ù…ÙØªÙŽØ·ÙŽÙ‡ÙÙ‘Ø±ÙÙŠÙ†ÙŽ", en: "O Allah, make me among those who repent and make me among those who purify themselves." },
    { ar: "Ø§Ù„Ù„ÙŽÙ‘Ù‡ÙÙ…ÙŽÙ‘ Ø±ÙŽØ¨ÙŽÙ‘ Ù‡ÙŽØ°ÙÙ‡Ù Ø§Ù„Ø¯ÙŽÙ‘Ø¹Ù’ÙˆÙŽØ©Ù Ø§Ù„ØªÙŽÙ‘Ø§Ù…ÙŽÙ‘Ø©Ù ÙˆÙŽØ§Ù„ØµÙŽÙ‘Ù„ÙŽØ§Ø©Ù Ø§Ù„Ù’Ù‚ÙŽØ§Ø¦ÙÙ…ÙŽØ©Ù", en: "O Allah, Lord of this perfect call and established prayer (After Adhan)." },
    { ar: "Ø§Ù„Ù„ÙŽÙ‘Ù‡ÙÙ…ÙŽÙ‘ Ø¥ÙÙ†ÙÙ‘ÙŠ Ø£ÙŽØ¹ÙÙˆØ°Ù Ø¨ÙÙƒÙŽ Ù…ÙÙ†Ù’ Ø´ÙŽØ±ÙÙ‘ Ù…ÙŽØ§ Ø£ÙØ±Ù’Ø³ÙÙ„ÙŽ Ø¨ÙÙ‡Ù", en: "O Allah, I seek refuge in You from the evil of that with which it was sent (Wind)." },
    { ar: "Ø§Ù„Ù„ÙŽÙ‘Ù‡ÙÙ…ÙŽÙ‘ ØµÙŽÙŠÙÙ‘Ø¨Ù‹Ø§ Ù†ÙŽØ§ÙÙØ¹Ù‹Ø§", en: "O Allah, may it be a beneficial rain." },
    { ar: "Ù…ÙØ·ÙØ±Ù’Ù†ÙŽØ§ Ø¨ÙÙÙŽØ¶Ù’Ù„Ù Ø§Ù„Ù„ÙŽÙ‘Ù‡Ù ÙˆÙŽØ±ÙŽØ­Ù’Ù…ÙŽØªÙÙ‡Ù", en: "We have been given rain by the grace of Allah and His mercy." },
    { ar: "Ø³ÙØ¨Ù’Ø­ÙŽØ§Ù†ÙŽ Ø§Ù„ÙŽÙ‘Ø°ÙÙŠ ÙŠÙØ³ÙŽØ¨ÙÙ‘Ø­Ù Ø§Ù„Ø±ÙŽÙ‘Ø¹Ù’Ø¯Ù Ø¨ÙØ­ÙŽÙ…Ù’Ø¯ÙÙ‡Ù ÙˆÙŽØ§Ù„Ù’Ù…ÙŽÙ„ÙŽØ§Ø¦ÙÙƒÙŽØ©Ù Ù…ÙÙ†Ù’ Ø®ÙÙŠÙÙŽØªÙÙ‡Ù", en: "Glory to Him whom thunder glorifies with His praise, and the angels from fear of Him." },
    { ar: "Ø§Ù„Ù„ÙŽÙ‘Ù‡ÙÙ…ÙŽÙ‘ Ø£ÙŽÙ‡ÙÙ„ÙŽÙ‘Ù‡Ù Ø¹ÙŽÙ„ÙŽÙŠÙ’Ù†ÙŽØ§ Ø¨ÙØ§Ù„Ù’Ø£ÙŽÙ…Ù’Ù†Ù ÙˆÙŽØ§Ù„Ù’Ø¥ÙÙŠÙ…ÙŽØ§Ù†Ù", en: "O Allah, bring it (the crescent moon) over us with safety and faith." },
    { ar: "Ø¥ÙÙ†ÙŽÙ‘Ø§ Ù„ÙÙ„ÙŽÙ‘Ù‡Ù ÙˆÙŽØ¥ÙÙ†ÙŽÙ‘Ø§ Ø¥ÙÙ„ÙŽÙŠÙ’Ù‡Ù Ø±ÙŽØ§Ø¬ÙØ¹ÙÙˆÙ†ÙŽØŒ Ø§Ù„Ù„ÙŽÙ‘Ù‡ÙÙ…ÙŽÙ‘ Ø£Ù’Ø¬ÙØ±Ù’Ù†ÙÙŠ ÙÙÙŠ Ù…ÙØµÙÙŠØ¨ÙŽØªÙÙŠ", en: "Indeed we belong to Allah, and indeed to Him we will return. O Allah, reward me in my affliction." },
    { ar: "Ø§Ù„Ù„ÙŽÙ‘Ù‡ÙÙ…ÙŽÙ‘ Ù„ÙŽØ§ Ø³ÙŽÙ‡Ù’Ù„ÙŽ Ø¥ÙÙ„ÙŽÙ‘Ø§ Ù…ÙŽØ§ Ø¬ÙŽØ¹ÙŽÙ„Ù’ØªÙŽÙ‡Ù Ø³ÙŽÙ‡Ù’Ù„Ù‹Ø§", en: "O Allah, there is no ease except in that which You have made easy." },
    { ar: "ÙŠÙŽØ§ Ù…ÙÙ‚ÙŽÙ„ÙÙ‘Ø¨ÙŽ Ø§Ù„Ù’Ù‚ÙÙ„ÙÙˆØ¨Ù Ø«ÙŽØ¨ÙÙ‘ØªÙ’ Ù‚ÙŽÙ„Ù’Ø¨ÙÙŠ Ø¹ÙŽÙ„ÙŽÙ‰ Ø¯ÙÙŠÙ†ÙÙƒÙŽ", en: "O Turner of the hearts, keep my heart firm on Your religion." },
    { ar: "Ø§Ù„Ù„ÙŽÙ‘Ù‡ÙÙ…ÙŽÙ‘ Ø§ÙƒÙ’ÙÙÙ†ÙÙŠ Ø¨ÙØ­ÙŽÙ„ÙŽØ§Ù„ÙÙƒÙŽ Ø¹ÙŽÙ†Ù’ Ø­ÙŽØ±ÙŽØ§Ù…ÙÙƒÙŽ", en: "O Allah, suffice me with Your lawful against Your prohibited." },
    { ar: "Ø§Ù„Ù„ÙŽÙ‘Ù‡ÙÙ…ÙŽÙ‘ Ø§ØºÙ’ÙÙØ±Ù’ Ù„ÙÙŠØŒ ÙˆÙŽØ§Ø±Ù’Ø­ÙŽÙ…Ù’Ù†ÙÙŠØŒ ÙˆÙŽØ§Ù‡Ù’Ø¯ÙÙ†ÙÙŠØŒ ÙˆÙŽØ¹ÙŽØ§ÙÙÙ†ÙÙŠØŒ ÙˆÙŽØ§Ø±Ù’Ø²ÙÙ‚Ù’Ù†ÙÙŠ", en: "O Allah, forgive me, have mercy on me, guide me, grant me health and provide for me." },
    { ar: "Ø£ÙŽØ³Ù’ØªÙŽØºÙ’ÙÙØ±Ù Ø§Ù„Ù„ÙŽÙ‘Ù‡ÙŽ Ø§Ù„ÙŽÙ‘Ø°ÙÙŠ Ù„ÙŽØ§ Ø¥ÙÙ„ÙŽÙ‡ÙŽ Ø¥ÙÙ„ÙŽÙ‘Ø§ Ù‡ÙÙˆÙŽ Ø§Ù„Ù’Ø­ÙŽÙŠÙÙ‘ Ø§Ù„Ù’Ù‚ÙŽÙŠÙÙ‘ÙˆÙ…Ù ÙˆÙŽØ£ÙŽØªÙÙˆØ¨Ù Ø¥ÙÙ„ÙŽÙŠÙ’Ù‡Ù", en: "I seek forgiveness of Allah, there is no true god except He, the Living, the Sustaining, and I repent to Him." }
        ];

        // 2. MASSIVE LIST OF GOOD DEEDS
        const deeds = [
            "Smile at a stranger, it's Sunnah.", "Feed a bird or stray animal.", "Call your parents just to say hello.", 
            "Remove a stone or branch from the walking path.", "Give a small amount of charity (Sadaqah).", 
            "Read Ayatul Kursi after Salah.", "Recite Surah Al-Ikhlas 3 times (Equivalent to 1/3 Quran).", 
            "Forgive someone who upset you.", "Make a sincere Dua for a friend in private.", 
            "Visit a sick person.", "Bring a glass of water to someone.", "Hold the door open for someone.",
            "Say 'SubhanAllah' 33 times.", "Say 'Alhamdulillah' 33 times.", "Say 'Allahu Akbar' 34 times before sleep.",
            "Read one page of the Quran with meaning.", "Teach someone a beneficial thing.", "Share your food with a neighbor.",
            "Do not get angry today.", "Lower your gaze.", "Greet someone with 'As-salamu alaykum'.", 
            "Wake up 15 minutes early for Tahajjud.", "Make wudu before going to sleep.", 
            "Listen to your mother/father without interrupting.", "Clean up a mess you didn't make.", 
            "Donate old clothes to the needy.", "Say 'Astaghfirullah' 100 times.", "Walk to the Masjid for Salah.",
            "Comfort someone who is sad.", "Avoid backbiting (Gheebah) for the whole day.", "Send Salawat upon the Prophet (ï·º) 10 times.",
            "Drink water while sitting down.", "Enter the house with your right foot.", "Say 'Bismillah' before eating.",
            "Plant a tree or water a plant.", "Help your family with house chores.", "Write a thank you note to someone.",
            "Stop using your phone 30 mins before bed.", "Make Dua for the suffering Ummah.", "Give a date (fruit) to a fasting person.",
            "Speak gently to everyone today.", "Leave a nice comment on something.", "Think good of others (Husn al-Zann).",
            "Review a Surah you memorized.", "Pray Salatul Duha (Forenoon prayer).", "Be patient when stuck in traffic.",
            "Say 'La hawla wa la quwwata illa billah'.", "Thank Allah for 5 specific blessings.", "Help someone carry their bags.",
            "Turn off lights to save energy (Israf).", "Control your tongue when upset.", "Hide a good deed so only Allah knows it.",
            "Recite the last 2 verses of Surah Baqarah at night.", "Make Dua for your teachers/scholars.", 
            "Give precedence to others in line.", "Keep your promise.", "Do not complain about the food.",
            "Kiss your mother's hand or head.", "Encourage someone to do good.", "Reflect on the creation of the heavens.",
            "Recite Surah Kahf (if it is Friday).", "Wear your best clothes for Jumu'ah.", "Use the Miswak.",
            "Make Ghusl on Friday.", "Avoid arguing even if you are right.", "Sponsor an orphan if you can.",
            "Leave a bowl of water for birds.", "Smile at your sibling.", "Say 'Alhamdulillah' after sneezing.",
            "Reply to a sneeze with 'YarhamukAllah'.", "Cover a fault of a Muslim.", "Defend someone who is being insulted.",
            "Give a gift to someone you love.", "Be punctual for appointments.", "Fulfill a trust (Amanah).",
            "Be kind to a neighbor.", "Make Dua for those who passed away.", "Memorize a new Dua.",
            "Stay silent during the Adhan and repeat after it.", "Make Dua between Adhan and Iqamah.", 
            "Sit in the Masjid after Fajr until sunrise.", "Fast a Monday or Thursday.", "Fast the White Days (13, 14, 15).",
            "Pray the Rawatib (Sunnah prayers).", "Attend a funeral prayer (Janazah).", "Follow a funeral procession.",
            "Give water to a thirsty person.", "Guide someone who is lost.", "Help a coworker or classmate.",
            "Clean the Masjid area.", "Place a copy of Quran in a Masjid (Waqf).", "Share beneficial knowledge online.",
            "Delete a sin/bad post from your social media.", "Unsubscribe from harmful content.", "Say 'JazakAllah Khair' to someone.",
            "Respect the elderly.", "Show mercy to the young.", "Be honest in your dealings.",
            "Pay someone their due before their sweat dries.", "Do not waste water while doing Wudu.", 
            "Sleep on your right side.", "Dust your bed before sleeping.",
            "Help someone learn a new Dua.",
    "Share a meal with a coworker or friend.",
    "Make Dua for the people of Palestine and the oppressed.",
    "Hold the elevator for someone rushing.",
    "Let a car merge in front of you in traffic.",
    "Compliment a stranger's character or manners.",
    "Pick up litter in your local park.",
    "Do not complain about the weather today.",
    "Listen to the Quran while commuting.",
    "Teach a child how to say 'Bismillah'.",
    "Avoid using plastic cups/plates today to protect the earth.",
    "Forgive a debt if you are able to."
        ];

      /* --- COMPLETE 99 NAMES DATABASE WITH DUAS --- */
const names = [
    { ar: "Ù±Ù„Ù„ÙŽÙ‘Ù°Ù‡Ù", en: "Allah", meaning: "The God", dua: "Ya Allah, I ask You by Your Name that is comprehensive of all names, guide me to what pleases You and keep me steadfast on Your path." },
    { ar: "Ù±Ù„Ø±ÙŽÙ‘Ø­Ù’Ù…ÙŽÙ°Ù†Ù", en: "Ar-Rahman", meaning: "The Most Gracious", dua: "Ya Rahman, Your mercy encompasses all things. Encompass me, my family, and the Ummah in Your infinite mercy today." },
    { ar: "Ù±Ù„Ø±ÙŽÙ‘Ø­ÙÙŠÙ…Ù", en: "Ar-Rahim", meaning: "The Most Merciful", dua: "Ya Rahim, have mercy on my weak soul. Forgive my shortcomings and grant me a station of nearness to You." },
    { ar: "Ù±Ù„Ù’Ù…ÙŽÙ„ÙÙƒÙ", en: "Al-Malik", meaning: "The King", dua: "Ya Malik, You are the Owner of all affairs. I leave my worries in Your Kingdom; manage my life better than I can manage it myself." },
    { ar: "Ù±Ù„Ù’Ù‚ÙØ¯ÙÙ‘ÙˆØ³Ù", en: "Al-Quddus", meaning: "The Most Holy", dua: "Ya Quddus, purify my heart from arrogance, my tongue from lying, and my eyes from seeing what is forbidden." },
    { ar: "Ù±Ù„Ø³ÙŽÙ‘Ù„ÙŽØ§Ù…Ù", en: "As-Salam", meaning: "The Source of Peace", dua: "Ya Salam, grant peace to my anxious heart. Protect me from the storms of life and grant me a peaceful end." },
    { ar: "Ù±Ù„Ù’Ù…ÙØ¤Ù’Ù…ÙÙ†Ù", en: "Al-Mu'min", meaning: "The Granter of Security", dua: "Ya Mu'min, grant me safety in my faith and security in my life. Protect me from the fear of creation." },
    { ar: "Ù±Ù„Ù’Ù…ÙÙ‡ÙŽÙŠÙ’Ù…ÙÙ†Ù", en: "Al-Muhaymin", meaning: "The Guardian", dua: "Ya Muhaymin, be the witness over my actions and the Guardian over my family. Do not leave me to myself for even a blink of an eye." },
    { ar: "Ù±Ù„Ù’Ø¹ÙŽØ²ÙÙŠØ²Ù", en: "Al-Aziz", meaning: "The Almighty", dua: "Ya Aziz, grant me honor through obedience to You. Do not let me be humiliated by my sins or by begging from others." },
    { ar: "Ù±Ù„Ù’Ø¬ÙŽØ¨ÙŽÙ‘Ø§Ø±Ù", en: "Al-Jabbar", meaning: "The Compeller / Mender", dua: "Ya Jabbar, mend my broken heart and fix my broken affairs. Restore me in a way that only You can." },
    { ar: "Ù±Ù„Ù’Ù…ÙØªÙŽÙƒÙŽØ¨ÙÙ‘Ø±Ù", en: "Al-Mutakabbir", meaning: "The Supreme", dua: "Ya Mutakabbir, humble my ego. Remind me that all greatness belongs to You, and I am but Your servant." },
    { ar: "Ù±Ù„Ù’Ø®ÙŽØ§Ù„ÙÙ‚Ù", en: "Al-Khaliq", meaning: "The Creator", dua: "Ya Khaliq, You created me from nothing. Create for me a way out of my difficulties and create light in my heart." },
    { ar: "Ù±Ù„Ù’Ø¨ÙŽØ§Ø±ÙØ¦Ù", en: "Al-Bari", meaning: "The Evolver", dua: "Ya Bari, heal my body and soul. Restore my health and guide me to use my strength in Your worship." },
    { ar: "Ù±Ù„Ù’Ù…ÙØµÙŽÙˆÙÙ‘Ø±Ù", en: "Al-Musawwir", meaning: "The Fashioner", dua: "Ya Musawwir, beautify my character as You have beautified my creation. Let my inner appearance be pleasing to You." },
    { ar: "Ù±Ù„Ù’ØºÙŽÙÙŽÙ‘Ø§Ø±Ù", en: "Al-Ghaffar", meaning: "The Constant Forgiver", dua: "Ya Ghaffar, my sins are many but Your mercy is limitless. Forgive my past, purify my present, and protect my future." },
    { ar: "Ù±Ù„Ù’Ù‚ÙŽÙ‡ÙŽÙ‘Ø§Ø±Ù", en: "Al-Qahhar", meaning: "The Subduer", dua: "Ya Qahhar, subdue my lower self (Nafs) and help me conquer my bad habits. Let nothing overpower my love for You." },
    { ar: "Ù±Ù„Ù’ÙˆÙŽÙ‡ÙŽÙ‘Ø§Ø¨Ù", en: "Al-Wahhab", meaning: "The Bestower", dua: "Ya Wahhab, give me from Your treasures that which never runs out. Grant me wisdom, gratitude, and a righteous family." },
    { ar: "Ù±Ù„Ø±ÙŽÙ‘Ø²ÙŽÙ‘Ø§Ù‚Ù", en: "Ar-Razzaq", meaning: "The Provider", dua: "Ya Razzaq, bless my earnings with Barakah. Make me independent of your creation and dependent only on You." },
    { ar: "Ù±Ù„Ù’ÙÙŽØªÙŽÙ‘Ø§Ø­Ù", en: "Al-Fattah", meaning: "The Opener", dua: "Ya Fattah, open for me the doors of Your mercy, sustenance, and guidance. Remove the blockages in my life that I cannot see." },
    { ar: "Ù±Ù„Ù’Ø¹ÙŽÙ„ÙÙŠÙ…Ù", en: "Al-Alim", meaning: "The All-Knowing", dua: "Ya Alim, You know my pain and my needs. Grant me beneficial knowledge that brings me closer to You." },
    { ar: "Ù±Ù„Ù’Ù‚ÙŽØ§Ø¨ÙØ¶Ù", en: "Al-Qabid", meaning: "The Withholder", dua: "Ya Qabid, withhold evil from reaching me. Keep my heart focused and do not let it wander to what harms it." },
    { ar: "Ù±Ù„Ù’Ø¨ÙŽØ§Ø³ÙØ·Ù", en: "Al-Basit", meaning: "The Extender", dua: "Ya Basit, expand my chest with relief and extend my sustenance. Fill my life with the vastness of Your grace." },
    { ar: "Ù±Ù„Ù’Ø®ÙŽØ§ÙÙØ¶Ù", en: "Al-Khafid", meaning: "The Abaser", dua: "Ya Khafid, protect me from arrogance. Let me lower my wing of humility to my parents and the believers." },
    { ar: "Ù±Ù„Ø±ÙŽÙ‘Ø§ÙÙØ¹Ù", en: "Ar-Rafi", meaning: "The Exalter", dua: "Ya Rafi, raise my rank in Jannah and raise me in the eyes of the people through my character, not my wealth." },
    { ar: "Ù±Ù„Ù’Ù…ÙØ¹ÙØ²ÙÙ‘", en: "Al-Mu'izz", meaning: "The Giver of Honour", dua: "Ya Mu'izz, honor me with Islam and Iman. Let me find dignity in servitude to You alone." },
    { ar: "Ù±Ù„Ù’Ù…ÙØ°ÙÙ„ÙÙ‘", en: "Al-Mudhill", meaning: "The Giver of Dishonour", dua: "Ya Mudhill, protect me from the disgrace of sin and the humiliation of begging from Your creation." },
    { ar: "Ù±Ù„Ø³ÙŽÙ‘Ù…ÙÙŠØ¹Ù", en: "As-Sami", meaning: "The All-Hearing", dua: "Ya Sami, You hear the whisper of my heart. Hear my Dua and accept it, for I have no one else to call upon." },
    { ar: "Ù±Ù„Ù’Ø¨ÙŽØµÙÙŠØ±Ù", en: "Al-Basir", meaning: "The All-Seeing", dua: "Ya Basir, You see my struggles when no one else does. Watch over me and guide my steps." },
    { ar: "Ù±Ù„Ù’Ø­ÙŽÙƒÙŽÙ…Ù", en: "Al-Hakam", meaning: "The Judge", dua: "Ya Hakam, judge me with Your mercy, not Your justice. Protect me from injustice and make me just with others." },
    { ar: "Ù±Ù„Ù’Ø¹ÙŽØ¯Ù’Ù„Ù", en: "Al-Adl", meaning: "The Just", dua: "Ya Adl, help me be fair in my dealings. Establish justice in my heart and in the world around me." },
    { ar: "Ù±Ù„Ù„ÙŽÙ‘Ø·ÙÙŠÙÙ", en: "Al-Latif", meaning: "The Subtle One", dua: "Ya Latif, be kind to me in my destiny. Save me from difficulties in ways I cannot even imagine." },
    { ar: "Ù±Ù„Ù’Ø®ÙŽØ¨ÙÙŠØ±Ù", en: "Al-Khabir", meaning: "The All-Aware", dua: "Ya Khabir, You know the secrets of my soul. Guide me to correct my hidden faults before they destroy me." },
    { ar: "Ù±Ù„Ù’Ø­ÙŽÙ„ÙÙŠÙ…Ù", en: "Al-Halim", meaning: "The Forbearing", dua: "Ya Halim, do not punish me immediately for my mistakes. Give me the chance to repent and return to You." },
    { ar: "Ù±Ù„Ù’Ø¹ÙŽØ¸ÙÙŠÙ…Ù", en: "Al-Azim", meaning: "The Magnificent", dua: "Ya Azim, make my problems seem small in light of Your Greatness. Fill my heart with awe of You." },
    { ar: "Ù±Ù„Ù’ØºÙŽÙÙÙˆØ±Ù", en: "Al-Ghafur", meaning: "The Forgiving", dua: "Ya Ghafur, wipe away my sins as if they never happened. Let me meet You with a clean book of deeds." },
    { ar: "Ù±Ù„Ø´ÙŽÙ‘ÙƒÙÙˆØ±Ù", en: "Ash-Shakur", meaning: "The Appreciative", dua: "Ya Shakur, help me to be grateful for the smallest blessings. Accept my small deeds and multiply them." },
    { ar: "Ù±Ù„Ù’Ø¹ÙŽÙ„ÙÙŠÙÙ‘", en: "Al-Ali", meaning: "The Most High", dua: "Ya Ali, raise my aspirations to the Hereafter. Do not let me settle for the lowliness of this world." },
    { ar: "Ù±Ù„Ù’ÙƒÙŽØ¨ÙÙŠØ±Ù", en: "Al-Kabir", meaning: "The Great", dua: "Ya Kabir, You are greater than any obstacle I face. Give me the strength to overcome my challenges." },
    { ar: "Ù±Ù„Ù’Ø­ÙŽÙÙÙŠØ¸Ù", en: "Al-Hafiz", meaning: "The Preserver", dua: "Ya Hafiz, protect my faith, my family, and my health. Save me from the evil of envy and the whispers of Shaytan." },
    { ar: "Ù±Ù„Ù’Ù…ÙÙ‚ÙÙŠØªÙ", en: "Al-Muqit", meaning: "The Sustainer", dua: "Ya Muqit, nourish my body with Halal and my soul with remembrance. You are sufficient for all my needs." },
    { ar: "Ù±Ù„Ù’Ø­ÙŽØ³ÙÙŠØ¨Ù", en: "Al-Hasib", meaning: "The Reckoner", dua: "Ya Hasib, make my reckoning easy on the Day of Judgment. Suffice me in all my affairs." },
    { ar: "Ù±Ù„Ù’Ø¬ÙŽÙ„ÙÙŠÙ„Ù", en: "Al-Jalil", meaning: "The Majestic", dua: "Ya Jalil, let the majesty of Your Face be the light of my life. Fill my heart with reverence for You." },
    { ar: "Ù±Ù„Ù’ÙƒÙŽØ±ÙÙŠÙ…Ù", en: "Al-Karim", meaning: "The Generous", dua: "Ya Karim, Your generosity knows no bounds. Be generous with me in Your forgiveness and Your provision." },
    { ar: "Ù±Ù„Ø±ÙŽÙ‘Ù‚ÙÙŠØ¨Ù", en: "Ar-Raqib", meaning: "The Watchful", dua: "Ya Raqib, help me to be mindful of You in private and in public. Let me fear no one but You." },
    { ar: "Ù±Ù„Ù’Ù…ÙØ¬ÙÙŠØ¨Ù", en: "Al-Mujib", meaning: "The Responsive", dua: "Ya Mujib, answer my prayers even if I am unworthy. You are the One who never rejects a sincere caller." },
    { ar: "Ù±Ù„Ù’ÙˆÙŽØ§Ø³ÙØ¹Ù", en: "Al-Wasi", meaning: "The All-Encompassing", dua: "Ya Wasi, expand my heart to contain the truth. Grant me vastness in my sustenance and my patience." },
    { ar: "Ù±Ù„Ù’Ø­ÙŽÙƒÙÙŠÙ…Ù", en: "Al-Hakim", meaning: "The Wise", dua: "Ya Hakim, I trust Your plan even when it hurts. Grant me the wisdom to see the good in every situation." },
    { ar: "Ù±Ù„Ù’ÙˆÙŽØ¯ÙÙˆØ¯Ù", en: "Al-Wadud", meaning: "The Most Loving", dua: "Ya Wadud, fill my heart with Your love and the love of those who love You. Let me be a source of love to others." },
    { ar: "Ù±Ù„Ù’Ù…ÙŽØ¬ÙÙŠØ¯Ù", en: "Al-Majid", meaning: "The Glorious", dua: "Ya Majid, to You belongs all glory. Grant me a righteous reputation and accept my deeds." },
    { ar: "Ù±Ù„Ù’Ø¨ÙŽØ§Ø¹ÙØ«Ù", en: "Al-Ba'ith", meaning: "The Resurrector", dua: "Ya Ba'ith, revive my dead heart with Iman. Raise me with the Prophets and the Righteous on the Last Day." },
    { ar: "Ù±Ù„Ø´ÙŽÙ‘Ù‡ÙÙŠØ¯Ù", en: "Ash-Shahid", meaning: "The Witness", dua: "Ya Shahid, You witness my struggles and my pain. Be a witness for me, not against me, on the Day of Judgment." },
    { ar: "Ù±Ù„Ù’Ø­ÙŽÙ‚ÙÙ‘", en: "Al-Haqq", meaning: "The Truth", dua: "Ya Haqq, guide me to the truth and help me stand by it. Let me not be deceived by the illusions of this world." },
    { ar: "Ù±Ù„Ù’ÙˆÙŽÙƒÙÙŠÙ„Ù", en: "Al-Wakil", meaning: "The Trustee", dua: "Ya Wakil, I entrust my worry, my family, and my future to You. You are the best disposer of affairs." },
    { ar: "Ù±Ù„Ù’Ù‚ÙŽÙˆÙÙŠÙÙ‘", en: "Al-Qawiyy", meaning: "The Strong", dua: "Ya Qawiyy, give me strength to worship You and strength to resist temptation. I am weak without Your help." },
    { ar: "Ù±Ù„Ù’Ù…ÙŽØªÙÙŠÙ†Ù", en: "Al-Matin", meaning: "The Firm", dua: "Ya Matin, make my faith firm and unshakeable. Do not let trials cause me to waver." },
    { ar: "Ù±Ù„Ù’ÙˆÙŽÙ„ÙÙŠÙÙ‘", en: "Al-Wali", meaning: "The Protecting Friend", dua: "Ya Wali, be my Friend in this life and the next. Take me out of the darkness into Your Light." },
    { ar: "Ù±Ù„Ù’Ø­ÙŽÙ…ÙÙŠØ¯Ù", en: "Al-Hamid", meaning: "The Praiseworthy", dua: "Ya Hamid, all praise belongs to You in every situation. Help me to praise You in ease and in hardship." },
    { ar: "Ù±Ù„Ù’Ù…ÙØ­Ù’ØµÙÙŠ", en: "Al-Muhsi", meaning: "The Counter", dua: "Ya Muhsi, You count every breath and every deed. Let my good deeds outweigh my bad deeds." },
    { ar: "Ù±Ù„Ù’Ù…ÙØ¨Ù’Ø¯ÙØ¦Ù", en: "Al-Mubdi", meaning: "The Originator", dua: "Ya Mubdi, You started my life with mercy, so complete it with forgiveness. Guide me to new beginnings in obedience." },
    { ar: "Ù±Ù„Ù’Ù…ÙØ¹ÙÙŠØ¯Ù", en: "Al-Mu'id", meaning: "The Restorer", dua: "Ya Mu'id, restore what I have lost and restore my heart to its purity. Bring me back to You whenever I stray." },
    { ar: "Ù±Ù„Ù’Ù…ÙØ­Ù’ÙŠÙÙŠ", en: "Al-Muhyi", meaning: "The Giver of Life", dua: "Ya Muhyi, give life to my heart with the Quran. Grant me a good life in this world and the Hereafter." },
    { ar: "Ù±Ù„Ù’Ù…ÙÙ…ÙÙŠØªÙ", en: "Al-Mumit", meaning: "The Taker of Life", dua: "Ya Mumit, let me die only when You are pleased with me. Protect me from a sudden or evil death." },
    { ar: "Ù±Ù„Ù’Ø­ÙŽÙŠÙÙ‘", en: "Al-Hayy", meaning: "The Living", dua: "Ya Hayy, by Your mercy I seek assistance. Set right all my affairs and do not leave me to myself." },
    { ar: "Ù±Ù„Ù’Ù‚ÙŽÙŠÙÙ‘ÙˆÙ…Ù", en: "Al-Qayyum", meaning: "The Subsisting", dua: "Ya Qayyum, You sustain all existence. Sustain me with Halal provision and keep me steadfast." },
    { ar: "Ù±Ù„Ù’ÙˆÙŽØ§Ø¬ÙØ¯Ù", en: "Al-Wajid", meaning: "The Finder", dua: "Ya Wajid, let me find joy in Your worship. Do not let me lose my way in the distractions of this life." },
    { ar: "Ù±Ù„Ù’Ù…ÙŽØ§Ø¬ÙØ¯Ù", en: "Al-Majid", meaning: "The Noble", dua: "Ya Majid, grant me noble character and high aspirations. Let me live for something greater than myself." },
    { ar: "Ù±Ù„Ù’ÙˆÙŽØ§Ø­ÙØ¯Ù", en: "Al-Wahid", meaning: "The One", dua: "Ya Wahid, You are One and Unique. Keep my heart attached to You alone, free from associating partners with You." },
    { ar: "Ù±Ù„Ù’Ø£ÙŽØ­ÙŽØ¯", en: "Al-Ahad", meaning: "The Absolute One", dua: "Ya Ahad, You are my only hope. I turn to You alone for my needs, for You have no equal." },
    { ar: "Ù±Ù„ØµÙŽÙ‘Ù…ÙŽØ¯Ù", en: "As-Samad", meaning: "The Eternal", dua: "Ya Samad, everyone needs You and You need no one. Fulfill my needs and make me independent of Your creation." },
    { ar: "Ù±Ù„Ù’Ù‚ÙŽØ§Ø¯ÙØ±Ù", en: "Al-Qadir", meaning: "The Capable", dua: "Ya Qadir, You are capable of all things. Make me capable of obeying You and staying away from sin." },
    { ar: "Ù±Ù„Ù’Ù…ÙÙ‚Ù’ØªÙŽØ¯ÙØ±Ù", en: "Al-Muqtadir", meaning: "The Powerful", dua: "Ya Muqtadir, use Your power to support the oppressed and guide me to use my power for good." },
    { ar: "Ù±Ù„Ù’Ù…ÙÙ‚ÙŽØ¯ÙÙ‘Ù…Ù", en: "Al-Muqaddim", meaning: "The Expediter", dua: "Ya Muqaddim, bring forward the good in my life and hasten the relief for my difficulties." },
    { ar: "Ù±Ù„Ù’Ù…ÙØ¤ÙŽØ®ÙÙ‘Ø±Ù", en: "Al-Mu'akhkhir", meaning: "The Delayer", dua: "Ya Mu'akhkhir, delay my punishment and give me time to repent. Keep evil far away from me." },
    { ar: "Ù±Ù„Ù’Ø£ÙŽÙˆÙŽÙ‘Ù„Ù", en: "Al-Awwal", meaning: "The First", dua: "Ya Awwal, let my first thought be of You. Make my beginning good and my end even better." },
    { ar: "Ù±Ù„Ù’Ø¢Ø®ÙØ±Ù", en: "Al-Akhir", meaning: "The Last", dua: "Ya Akhir, remain with me when everyone else leaves. Let my last words in this life be La ilaha illallah." },
    { ar: "Ù±Ù„Ø¸ÙŽÙ‘Ø§Ù‡ÙØ±Ù", en: "Az-Zahir", meaning: "The Manifest", dua: "Ya Zahir, make the truth clear to me and help me follow it. Let Your signs be visible in everything I see." },
    { ar: "Ù±Ù„Ù’Ø¨ÙŽØ§Ø·ÙÙ†Ù", en: "Al-Batin", meaning: "The Hidden", dua: "Ya Batin, purify my inner self. Let my private worship be better than my public worship." },
    { ar: "Ù±Ù„Ù’ÙˆÙŽØ§Ù„ÙÙŠ", en: "Al-Wali", meaning: "The Governor", dua: "Ya Wali, govern my heart and my affairs. Do not leave me to the governance of my own ego." },
    { ar: "Ù±Ù„Ù’Ù…ÙØªÙŽØ¹ÙŽØ§Ù„ÙÙŠ", en: "Al-Muta'ali", meaning: "The Most Exalted", dua: "Ya Muta'ali, elevate me through humility. Let me never be arrogant or look down on Your creation." },
    { ar: "Ù±Ù„Ù’Ø¨ÙŽØ±ÙÙ‘", en: "Al-Barr", meaning: "The Source of Good", dua: "Ya Barr, You are the source of all kindness. Be kind to my parents and forgive them as they raised me when I was small." },
    { ar: "Ù±Ù„ØªÙŽÙ‘ÙˆÙŽÙ‘Ø§Ø¨Ù", en: "At-Tawwab", meaning: "The Acceptor of Repentance", dua: "Ya Tawwab, accept my repentance and cleanse me. Make me among those who constantly turn back to You." },
    { ar: "Ù±Ù„Ù’Ù…ÙÙ†Ù’ØªÙŽÙ‚ÙÙ…Ù", en: "Al-Muntaqim", meaning: "The Avenger", dua: "Ya Muntaqim, I leave my rights in Your hands. Vindicate me against those who wronged me, without me becoming unjust." },
    { ar: "Ù±Ù„Ù’Ø¹ÙŽÙÙÙˆÙÙ‘", en: "Al-Afuww", meaning: "The Pardoner", dua: "Ya Afuww, You love to pardon, so pardon me. Erase my sins completely and do not question me about them." },
    { ar: "Ù±Ù„Ø±ÙŽÙ‘Ø¡ÙÙˆÙÙ", en: "Ar-Ra'uf", meaning: "The Kind", dua: "Ya Ra'uf, soften my heart towards Your creation. Treat me with Your gentleness on the Day of Fear." },
    { ar: "Ù…ÙŽØ§Ù„ÙÙƒÙ Ù±Ù„Ù’Ù…ÙÙ„Ù’ÙƒÙ", en: "Malik-ul-Mulk", meaning: "Owner of Sovereignty", dua: "Ya Malik-ul-Mulk, You give power to whom You will. Grant me authority over my own desires." },
    { ar: "Ø°ÙÙˆ Ù±Ù„Ù’Ø¬ÙŽÙ„ÙŽØ§Ù„Ù ÙˆÙŽÙ±Ù„Ù’Ø¥ÙÙƒÙ’Ø±ÙŽØ§Ù…Ù", en: "Dhul-Jalal wal-Ikram", meaning: "Lord of Majesty and Generosity", dua: "Ya Dhul-Jalal wal-Ikram, I ask You by this great Name to grant me success in this life and Paradise in the next." },
    { ar: "Ù±Ù„Ù’Ù…ÙÙ‚Ù’Ø³ÙØ·Ù", en: "Al-Muqsit", meaning: "The Equitable", dua: "Ya Muqsit, make me just in my anger and my happiness. Save me from oppressing anyone." },
    { ar: "Ù±Ù„Ù’Ø¬ÙŽØ§Ù…ÙØ¹Ù", en: "Al-Jami", meaning: "The Gatherer", dua: "Ya Jami, gather me with the righteous in Jannah. Unite the hearts of my family and the Ummah." },
    { ar: "Ù±Ù„Ù’ØºÙŽÙ†ÙÙŠÙÙ‘", en: "Al-Ghani", meaning: "The Rich", dua: "Ya Ghani, enrich my soul with contentment. Let me never feel poor as long as I have You." },
    { ar: "Ù±Ù„Ù’Ù…ÙØºÙ’Ù†ÙÙŠ", en: "Al-Mughni", meaning: "The Enricher", dua: "Ya Mughni, grant me wealth that I can use in Your path. Enrich me with faith and good character." },
    { ar: "Ù±Ù„Ù’Ù…ÙŽØ§Ù†ÙØ¹Ù", en: "Al-Mani", meaning: "The Withholder", dua: "Ya Mani, prevent harm from reaching me and my family. Protect me from sins and bad company." },
    { ar: "Ù±Ù„Ø¶ÙŽÙ‘Ø§Ø±ÙÙ‘", en: "Ad-Darr", meaning: "The Distressor", dua: "Ya Darr, I know no harm touches me except by Your permission. Make every trial a means of purification for me." },
    { ar: "Ù±Ù„Ù†ÙŽÙ‘Ø§ÙÙØ¹Ù", en: "An-Nafi", meaning: "The Benefactor", dua: "Ya Nafi, make me a source of benefit to others. Let my life be a means of goodness for everyone I meet." },
    { ar: "Ù±Ù„Ù†ÙÙ‘ÙˆØ±Ù", en: "An-Nur", meaning: "The Light", dua: "Ya Nur, guide me with Your Light. Place light in my heart, my grave, and on my path across the Sirat." },
    { ar: "Ù±Ù„Ù’Ù‡ÙŽØ§Ø¯ÙÙŠ", en: "Al-Hadi", meaning: "The Guide", dua: "Ya Hadi, guide me to the Straight Path and keep me on it until I meet You." },
    { ar: "Ù±Ù„Ù’Ø¨ÙŽØ¯ÙÙŠØ¹Ù", en: "Al-Badi", meaning: "The Originator", dua: "Ya Badi, grant me a beautiful patience and a beautiful exit from this world." },
    { ar: "Ù±Ù„Ù’Ø¨ÙŽØ§Ù‚ÙÙŠ", en: "Al-Baqi", meaning: "The Everlasting", dua: "Ya Baqi, everything will perish except You. Attach my heart to the Everlasting Akhirah, not this temporary world." },
    { ar: "Ù±Ù„Ù’ÙˆÙŽØ§Ø±ÙØ«Ù", en: "Al-Warith", meaning: "The Inheritor", dua: "Ya Warith, make me an inheritor of Jannatul Firdaus. Let me leave behind a legacy of good deeds." },
    { ar: "Ù±Ù„Ø±ÙŽÙ‘Ø´ÙÙŠØ¯Ù", en: "Ar-Rashid", meaning: "The Guide to Right Path", dua: "Ya Rashid, inspire me to make the right decisions. Save me from confusion and regret." },
    { ar: "Ù±Ù„ØµÙŽÙ‘Ø¨ÙÙˆØ±Ù", en: "As-Sabur", meaning: "The Patient", dua: "Ya Sabur, pour patience upon me. Help me to endure the tests of life with grace and trust in You." }
];

function generateName() {
    // Pick Random Name (Or rotate by day)
    const data = names[Math.floor(Math.random() * names.length)];
    
    document.getElementById('name-ar').innerText = data.ar;
    document.getElementById('name-en').innerText = data.en;
    document.getElementById('name-meaning').innerText = data.meaning;
    document.getElementById('name-dua').innerText = `"${data.dua}"`;
}

function toggleNameDua() {
    const box = document.getElementById('name-dua-box');
    const btn = document.querySelector('button[onclick="toggleNameDua()"]');
    
    if (box.style.display === 'none') {
        box.style.display = 'block';
        btn.innerHTML = '<i class="fas fa-chevron-up"></i> Close';
        btn.style.background = 'rgba(251, 191, 36, 0.2)'; // Gold tint
    } else {
        box.style.display = 'none';
        btn.innerHTML = '<i class="fas fa-hands-praying"></i> How to Ask';
        btn.style.background = 'rgba(255,255,255,0.1)';
    }
}

        // --- GENERATE RANDOM CONTENT ---
        function generateDailyContent() {
            // Pick a random Dua based on the date to rotate them, or random
            const today = new Date().getDate();
            
            // Random Deed
            const randomDeed = deeds[Math.floor(Math.random() * deeds.length)];
            document.getElementById('deed-text').innerText = randomDeed;

            // Daily Dua (Rotates daily based on date so it doesn't change on refresh)
            const duaIndex = today % duas.length;
            const dailyDua = duas[duaIndex];
            
            document.getElementById('dua-ar').innerText = dailyDua.ar;
            document.getElementById('dua-en').innerText = dailyDua.en;
            generateName();
        }
        function newDeed() {
            const randomDeed = deeds[Math.floor(Math.random() * deeds.length)];
            const textElement = document.getElementById('deed-text');
            
            // simple fade effect
            textElement.style.opacity = 0;
            setTimeout(() => {
                textElement.innerText = randomDeed;
                textElement.style.opacity = 1;
            }, 300);
             
        
        }

        // Call the generator
        generateDailyContent();

        // 3. SETTINGS & PRAYER LOGIC... (Keep the rest of your code below this)

        // --- SETTINGS & PRAYER LOGIC ---
        function saveSettings() {
            const city = document.getElementById('set-city').value;
            const country = document.getElementById('set-country').value;
            if(city) {
                localStorage.setItem('city', city);
                localStorage.setItem('country', country);
                document.getElementById('save-msg').style.display = 'block';
                setTimeout(() => document.getElementById('save-msg').style.display = 'none', 2000);
                loadPrayers(city, country);
            }
        }

        /* --- 1. SPECIAL EVENTS LOGIC (Hijri Check) --- */
/* --- FIXED: SHOW BOTH EVENT & GREETING --- */
function checkSpecialEvents(hijriData) {
    const day = parseInt(hijriData.day);
    const month = parseInt(hijriData.month.number); 
    
    let eventName = "";

    // Sunni Tradition Significant Dates
    if (month === 1 && day === 10) eventName = "Yawm al-Ashura";
    else if (month === 9) eventName = "Ramadan Mubarak";
    else if (month === 10 && day === 1) eventName = "Eid al-Fitr";
    else if (month === 12 && day === 9) eventName = "Day of Arafah";
    else if (month === 12 && day === 10) eventName = "Eid al-Adha";
    else if (month === 8 && day === 15) eventName = "Laylatul Bara'ah"; 
    else if (month === 7 && day === 27) eventName = "Isra wal Mi'raj"; 

    // TARGET THE HOME HERO SECTION
    const heroContainer = document.querySelector('#home .hero-content');

    if (eventName && heroContainer) {
        // 1. Check if we already added the event badge (to prevent duplicates)
        let existingBadge = document.getElementById('special-event-badge');
        
        if (!existingBadge) {
            // 2. Create a NEW Element for the Event
            const badge = document.createElement('div');
            badge.id = 'special-event-badge';
            badge.innerHTML = `<i class="fas fa-star-and-crescent"></i> ${eventName}`;
            
            // 3. Style it to look like a Premium Banner
            badge.style.color = "var(--brand-gold)";
            badge.style.fontFamily = "'Amiri', serif";
            badge.style.fontSize = "1.8rem";
            badge.style.fontWeight = "bold";
            badge.style.marginTop = "15px";
            badge.style.marginBottom = "5px";
            badge.style.textShadow = "0 0 20px var(--brand-gold-glow)";
            badge.style.animation = "fadeInUp 1s ease";
            
            // 4. Insert it BEFORE the "Welcome" tagline
            // (So you see: Arabic -> Event Name -> Welcome Tagline)
            const tagline = document.querySelector('#home .hero-tagline');
            if (tagline) {
                heroContainer.insertBefore(badge, tagline);
            } else {
                heroContainer.appendChild(badge);
            }
        }
    }
}

/* --- 2. CENTRAL UI UPDATER (Used by both GPS and Search) --- */
function updatePrayerUI(timings, hijri) {
    const container = document.getElementById('prayer-list-render');
    
    // Start the countdown
    startCountdown(timings);
    
    // Update Date & Check Events
    if(hijri && document.getElementById('hijri-date')) {
        document.getElementById('hijri-date').innerText = `${hijri.day} ${hijri.month.en} ${hijri.year}`;
        checkSpecialEvents(hijri);
    }
    
    // Render the list
    if(container) {
        container.innerHTML = `
            <div class="prayer-row"><span>Fajr</span><span>${timings.Fajr}</span></div>
            <div class="prayer-row"><span>Dhuhr</span><span>${timings.Dhuhr}</span></div>
            <div class="prayer-row"><span>Asr</span><span>${timings.Asr}</span></div>
            <div class="prayer-row"><span>Maghrib</span><span>${timings.Maghrib}</span></div>
            <div class="prayer-row"><span>Isha</span><span>${timings.Isha}</span></div>
        `;
    }
}

/* --- HELPER: GET CALCULATION METHOD ID --- */
function getMethodID() {
    const saved = localStorage.getItem('prayerMethod') || "MWL";
    switch(saved) {
        case "Karachi": return 1;
        case "ISNA": return 2;
        case "MWL": return 3;
        case "Makkah": return 4;
        case "Egypt": return 5;
        case "Tehran": return 7;
        case "Jafari": return 0;
        case "Singapore": return 11;
        case "Turkey": return 13;
        default: return 3; // Default to Muslim World League
    }
}

async function loadPrayers(city, country) {
    const container = document.getElementById('prayer-list-render');
    container.innerHTML = '<div class="spinner"></div>';
    
    try {
        // ðŸ”´ FIX: Get the correct Method ID dynamically
        const methodID = getMethodID(); 
        const res = await fetch(`https://api.aladhan.com/v1/timingsByCity?city=${city}&country=${country}&method=${methodID}`);
        
        if (!res.ok) throw new Error("Network error");
        
        const data = await res.json();
        const t = data.data.timings;
        
        document.getElementById('active-city-label').innerText = city;
        
        updatePrayerUI(t, data.data.date.hijri); 

        // Save for Qibla
        localStorage.setItem('lat', data.data.meta.latitude);
        localStorage.setItem('long', data.data.meta.longitude);

    } catch(e) { 
        container.innerHTML = "Error loading. Check City Name."; 
    }
}
        
        // Initial Load
        const userCity = localStorage.getItem('city');
        if(userCity) {
            document.getElementById('set-city').value = userCity;
            loadPrayers(userCity, localStorage.getItem('country') || "");
        }

        // --- QIBLA LOGIC ---
        function updateQiblaUI() {
            const lat = parseFloat(localStorage.getItem('lat'));
            const long = parseFloat(localStorage.getItem('long'));
            const city = localStorage.getItem('city');
            
            if(city) document.getElementById('qibla-city-label').innerText = city;

            if(lat && long) {
                const kaabaLat = 21.4225 * (Math.PI/180);
                const kaabaLong = 39.8262 * (Math.PI/180);
                const userLat = lat * (Math.PI/180);
                const userLong = long * (Math.PI/180);
                
                const y = Math.sin(kaabaLong - userLong);
                const x = Math.cos(userLat) * Math.tan(kaabaLat) - Math.sin(userLat) * Math.cos(kaabaLong - userLong);
                let dir = (Math.atan2(y, x) * 180 / Math.PI + 360) % 360;
                
                document.getElementById('qibla-deg').innerText = Math.round(dir) + "Â°";
                document.querySelector('.kaaba-pointer').style.transform = `rotate(${dir}deg)`;
            }
        }
/* =========================================
   MASTER QURAN ENGINE
   (List + Search + Deep Link + Scroll + Cache)
   ========================================= */

// 1. INITIAL LOAD (Gets the list of 114 Surahs)
async function loadSurahs() {
    const list = document.getElementById('surah-list-view');
    // Try to load from memory first
    const saved = localStorage.getItem('quran_surah_list');

    if (saved) {
        renderSurahList(JSON.parse(saved));
        return;
    }

    try {
        const res = await fetch('https://api.alquran.cloud/v1/surah');
        const data = await res.json();
        // Save to memory for next time
        localStorage.setItem('quran_surah_list', JSON.stringify(data.data));
        renderSurahList(data.data);
    } catch(e) { 
        list.innerHTML = "<div class='card' style='text-align:center'>Check your internet connection.</div>"; 
    }
}

// 2. RENDER THE LIST (Displays the 114 cards)
function renderSurahList(surahs) {
    const list = document.getElementById('surah-list-view');
    list.innerHTML = '';
    
    surahs.forEach(s => {
        const item = document.createElement('div');
        item.className = 'surah-item';
        // IMPORTANT: We set these so the Search Bar can find them
        item.setAttribute('data-name', s.englishName.toLowerCase());
        item.setAttribute('data-number', s.number);
        
        item.innerHTML = `
            <div style="display:flex;align-items:center;gap:10px;">
                <div class="surah-num">${s.number}</div>
                <div>
                    <b>${s.englishName}</b>
                    <div style="font-size:0.8rem;color:var(--text-secondary)">${s.englishNameTranslation}</div>
                </div>
            </div>
            <div style="font-family:'Amiri';color:var(--brand-gold)">${s.name}</div>`;
            
        // Clicking a card opens the Surah normally (starts at verse 1)
        item.onclick = () => readSurah(s.number, s.englishName);
        list.appendChild(item);
    });
}

// 3. SEARCH: FILTER LIST (Typing names like "Mulk" or "67")
function handleSearch(e) {
    const val = e.target.value.toLowerCase();
    const items = document.querySelectorAll('.surah-item');

    // If empty, show everything
    if(val === "") {
        items.forEach(el => el.style.display = 'flex');
        return;
    }

    items.forEach(item => {
        const name = item.getAttribute('data-name');
        const num = item.getAttribute('data-number');
        
        // Show if matches Name OR Number
        if (name.includes(val) || num.includes(val)) {
            item.style.display = "flex";
        } else {
            item.style.display = "none";
        }
    });
}

// 4. SEARCH: DEEP LINK (Hitting Enter on "36:3")
async function checkForEnter(e) {
    if (e.key === 'Enter') {
        e.preventDefault(); // STOP page reload
        
        const val = e.target.value.trim();
        // Regex looks for "Number:Number" pattern
        const versePattern = /^(\d+)[:.](\d+)$/;
        const match = val.match(versePattern);

        if (match) {
            e.target.blur(); // Close mobile keyboard
            const surahNum = match[1];
            const ayahNum = match[2];
            
            // MAGIC: Open Surah AND tell it to scroll to ayahNum
            await readSurah(surahNum, null, ayahNum); 
        }
    }
}

// 5. READ SURAH (The core reader function)
// 5. READ SURAH (Fixed API Path)
async function readSurah(num, name, highlightAyah = null) {
    // Switch UI to Reader View
    document.getElementById('surah-list-view').style.display = 'none';
    document.getElementById('surah-read-view').style.display = 'block';
    
    const titleEl = document.getElementById('read-title');
    titleEl.innerText = name || "Loading..."; 
    
    const container = document.getElementById('ayah-container');
    
    // Only clear if we aren't just highlighting (keeps UI smooth)
    if(!highlightAyah) container.innerHTML = '<div class="spinner"></div>';
    
    // CHECK CACHE
    const cacheKey = `surah_full_v2_${num}`;
    const cached = localStorage.getItem(cacheKey);

    if (cached) {
        const data = JSON.parse(cached);
        // ðŸ”´ FIX 1: Removed '.surah'
        if(!name) titleEl.innerText = data.data[0].englishName; 
        renderFullSurah(data, highlightAyah);
        return;
    }

    // FETCH NEW
    try {
        const res = await fetch(`https://api.alquran.cloud/v1/surah/${num}/editions/quran-uthmani,en.asad,en.transliteration`);
        const data = await res.json();
        
        try { localStorage.setItem(cacheKey, JSON.stringify(data)); } catch(e) {}

        // ðŸ”´ FIX 2: Removed '.surah'
        if(!name) titleEl.innerText = data.data[0].englishName;
        
        renderFullSurah(data, highlightAyah);
        
    } catch(e) {
        console.error(e); // Helps debug if something else is wrong
        container.innerHTML = "<p style='text-align:center; padding:20px;'>Error loading Surah. Check internet.</p>";
    }
}

// 6. RENDER & SCROLL TO VERSE
function renderFullSurah(data, highlightAyah = null) {
    const ar = data.data[0].ayahs;
    const en = data.data[1].ayahs;
    const tr = data.data[2].ayahs;
    
    const container = document.getElementById('ayah-container');
    let html = '';

    ar.forEach((ayah, i) => {
        // Check if this is the verse we searched for
        const isTarget = (ayah.numberInSurah == highlightAyah);
        
        // Add ID="ayah-X" so we can scroll to it
        // Add class "highlight-ayah" if it matches (for the Gold Flash)
        html += `
        <div id="ayah-${ayah.numberInSurah}" class="ayah-box ${isTarget ? 'highlight-ayah' : ''}" style="margin-bottom: 30px; border-bottom: 1px solid var(--border); padding-bottom: 20px;">
            <p class="ayah-arabic" style="margin-bottom: 10px;">${ayah.text}</p>
            
            <p style="color:var(--brand-gold); font-size:0.95rem; margin-bottom:8px; line-height:1.6; font-weight:500;">
                ${tr[i].text}
            </p>

            <p class="ayah-trans" style="font-size:0.9rem;">
                <span style="background:var(--bg-nav); padding:2px 8px; border-radius:4px; font-size:0.7rem; margin-right:5px; border:1px solid var(--border);">
                    ${ayah.numberInSurah}
                </span> 
                ${en[i].text}
            </p>
        </div>`;
    });
    
    container.innerHTML = html;

    // SCROLL LOGIC
    if (highlightAyah) {
        // Wait 300ms for HTML to render, then scroll
        setTimeout(() => {
            const target = document.getElementById(`ayah-${highlightAyah}`);
            if(target) {
                target.scrollIntoView({ behavior: "smooth", block: "center" });
            }
        }, 300);
    } else {
        // If just opening Surah normally, scroll to top
        window.scrollTo(0, 0);
    }
}

// 7. CLOSE BUTTON (Back to List)
function closeSurah() {
    document.getElementById('surah-read-view').style.display = 'none';
    document.getElementById('surah-list-view').style.display = 'grid';
    // Clear the search bar so the full list shows again
    const searchInput = document.getElementById('quran-search');
    if(searchInput) {
        searchInput.value = "";
        handleSearch({ target: searchInput }); // Trigger filter reset
    }
}
        // --- QUICK SEARCH LOGIC ---
function quickSearch() {
    const city = document.getElementById('quick-city').value;
    const country = document.getElementById('quick-country').value;
    
    if(!city) {
        alert("Please enter a city name.");
        return;
    }

    // Reuse the existing loadPrayers function
    loadPrayers(city, country);
    
    // Optional: Also save this as the new default so it remembers it next time
    localStorage.setItem('city', city);
    localStorage.setItem('country', country);
}

// --- GREGORIAN DATE LOGIC ---
function updateGregorianDate() {
    const options = { weekday: 'long', year: 'numeric', month: 'long', day: 'numeric' };
    const today = new Date().toLocaleDateString('en-US', options);
    document.getElementById('gregorian-date').innerText = today;
}

// Call the function immediately
updateGregorianDate();
// --- SMART COUNTDOWN (HANDLES RAMADAN SUHOOR/IFTAR) ---
let countdownInterval = null;

function startCountdown(timings) {
    const panel = document.getElementById('countdown-panel');
    if(panel) panel.style.display = 'block';
    
    if (countdownInterval) clearInterval(countdownInterval);

    const prayers = ['Fajr', 'Dhuhr', 'Asr', 'Maghrib', 'Isha'];
    
    countdownInterval = setInterval(() => {
        const now = new Date();
        const isRamadan = document.body.classList.contains('ramadan-mode');
        
        let targetDate = null;
        let labelText = "";
        let nextPrayerName = "Fajr"; // Default fallback

        // --- RAMADAN MODE LOGIC ---
        if (isRamadan) {
            // 1. Parse Fajr and Maghrib times
            const fajrTime = timings["Fajr"].replace(/\s*\(.*?\)\s*/g, "");
            const maghribTime = timings["Maghrib"].replace(/\s*\(.*?\)\s*/g, "");
            
            const fajrDate = new Date();
            const [fH, fM] = fajrTime.split(':');
            fajrDate.setHours(parseInt(fH), parseInt(fM), 0, 0);

            const maghribDate = new Date();
            const [mH, mM] = maghribTime.split(':');
            maghribDate.setHours(parseInt(mH), parseInt(mM), 0, 0);

            // 2. Decide what to show
            if (now < fajrDate) {
                // Before Fajr = Suhoor Time
                targetDate = fajrDate;
                labelText = "SUHOOR ENDS IN";
            } else if (now < maghribDate) {
                // Between Fajr and Maghrib = Fasting Time
                targetDate = maghribDate;
                labelText = "IFTAR IN";
            } else {
                // After Maghrib = Next Day's Suhoor
                targetDate = new Date();
                targetDate.setDate(now.getDate() + 1);
                targetDate.setHours(parseInt(fH), parseInt(fM), 0, 0);
                labelText = "SUHOOR ENDS IN";
            }

        } else {
            // --- NORMAL MODE LOGIC (Next Prayer) ---
            for (let name of prayers) {
                let timeStr = timings[name].replace(/\s*\(.*?\)\s*/g, ""); 
                const [hours, minutes] = timeStr.split(':');
                const pDate = new Date();
                pDate.setHours(parseInt(hours), parseInt(minutes), 0, 0);

                if (pDate > now) {
                    nextPrayerName = name;
                    targetDate = pDate;
                    break;
                }
            }
            // If passed Isha, next is Fajr tomorrow
            if (!targetDate) {
                nextPrayerName = "Fajr";
                let timeStr = timings["Fajr"].replace(/\s*\(.*?\)\s*/g, "");
                const [hours, minutes] = timeStr.split(':');
                targetDate = new Date();
                targetDate.setDate(targetDate.getDate() + 1);
                targetDate.setHours(parseInt(hours), parseInt(minutes), 0, 0);
            }
            labelText = `NEXT: ${nextPrayerName.toUpperCase()}`;
        }

        // --- CALCULATE & DISPLAY ---
        const diff = targetDate - now;
        const h = Math.floor((diff % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));
        const m = Math.floor((diff % (1000 * 60 * 60)) / (1000 * 60));
        const s = Math.floor((diff % (1000 * 60)) / 1000);

        const nameEl = document.getElementById('next-prayer-name');
        const timeEl = document.getElementById('time-remaining');

        if(nameEl) nameEl.innerText = labelText;
        if(timeEl) timeEl.innerText = `${h < 10 ? '0'+h : h}:${m < 10 ? '0'+m : m}:${s < 10 ? '0'+s : s}`;

    }, 1000);
}
// --- RAMADAN LOGIC ---
    const ramadanTips = [
        "Don't skip Suhoor; there is blessing in it.",
        "Break your fast with dates and water.",
        "Feed a fasting person to get their reward.",
        "Recite Quran more than usual this month.",
        "Make a specific Dua at the time of Iftar.",
        "Give charity daily, even if it's small.",
        "Pray Taraweeh to erase past sins."
    ];

    function toggleRamadanMode() {
        document.body.classList.toggle('ramadan-mode');
        const isActive = document.body.classList.contains('ramadan-mode');
        localStorage.setItem('ramadan', isActive);
        updateRamadanUI(isActive);
    }

    function updateRamadanUI(isActive) {
        const btn = document.getElementById('ramadan-toggle');
        const card = document.getElementById('ramadan-card');
        
        if (isActive) {
            btn.innerHTML = '<i class="fas fa-moon"></i> Ramadan Mode: ON';
            btn.classList.add('active');
            card.style.display = 'block'; // Show tracker
            
            // Load Counters
            document.getElementById('taraweeh-count').innerText = localStorage.getItem('cnt_taraweeh') || 0;
            document.getElementById('qada-count').innerText = localStorage.getItem('cnt_qada') || 0;
            
            // Load Random Tip
            document.getElementById('ramadan-tip').innerText = "Tip: " + ramadanTips[Math.floor(Math.random() * ramadanTips.length)];
        } else {
            btn.innerHTML = '<i class="fas fa-moon"></i> Ramadan Mode: OFF';
            btn.classList.remove('active');
            card.style.display = 'none'; // Hide tracker
        }
    }

    function modCount(key, val) {
        let current = parseInt(localStorage.getItem('cnt_' + key) || 0);
        current += val;
        if (current < 0) current = 0;
        localStorage.setItem('cnt_' + key, current);
        document.getElementById(key + '-count').innerText = current;
    }

    // Initialize Ramadan Mode on Load
    if (localStorage.getItem('ramadan') === 'true') {
        document.body.classList.add('ramadan-mode');
        updateRamadanUI(true);
    }
   /* --- OPTIMIZED DAILY VERSE (Saves for 24h) --- */

/* --- UPDATED VERSE LOADER WITH FAVORITES --- */
async function loadDailyVerse() {
    const container = document.getElementById('verse-ar');
    const trans = document.getElementById('verse-en');
    const ref = document.getElementById('verse-ref');

    try {
        const randomIndex = Math.floor(Math.random() * impactfulVerses.length);
        const id = impactfulVerses[randomIndex];
        
        const res = await fetch(`https://api.alquran.cloud/v1/ayah/${id}/editions/quran-uthmani,en.asad,ar.alafasy`);
        const d = await res.json();
        
        container.innerText = d.data[0].text;
        trans.innerText = d.data[1].text;
        const refText = `${d.data[0].surah.englishName} : ${d.data[0].numberInSurah}`;
        ref.innerText = refText;

        // Clean up old buttons
        const oldControls = document.getElementById('verse-controls');
        if(oldControls) oldControls.remove();

      // --- UPDATED VERSE CONTROLS FOR PERFECT ALIGNMENT ---
const controlsHTML = `
    <div id="verse-controls" style="display:flex; justify-content:center; align-items:center; gap:12px; margin-top:25px; width:100%;">
        <audio id="verse-player" src="${d.data[2].audio}"></audio>
        
        <button onclick="document.getElementById('verse-player').play()" class="pop-btn share-btn" style="padding: 12px 25px; margin:0; display:flex; align-items:center; gap:8px;">
            <i class="fas fa-play"></i> Listen
        </button>
        
        <button id="fav-btn-${id}" onclick="toggleFavorite(${id}, '${refText}')" class="pop-btn bookmark-btn" style="padding: 12px 20px; margin:0;">
            <i class="${isFavorite(id) ? 'fas' : 'far'} fa-heart"></i>
        </button>
    </div>`;
        ref.insertAdjacentHTML('afterend', controlsHTML);

    } catch(e) {
        console.error("Verse loading error:", e);
    }
}
// Check if a verse is already favorited
function isFavorite(id) {
    const favorites = JSON.parse(localStorage.getItem('fav_verses') || "[]");
    return favorites.some(fav => fav.id === id);
}

// Add or Remove from favorites
function toggleFavorite(id, reference) {
    let favorites = JSON.parse(localStorage.getItem('fav_verses') || "[]");
    const index = favorites.findIndex(fav => fav.id === id);
    const btnIcon = document.querySelector(`#fav-btn-${id} i`);

    if (index === -1) {
        // Add to favorites
        favorites.push({ id, ref: reference });
        btnIcon.className = 'fas fa-heart';
        showToast("Verse added to Favorites!");
    } else {
        // Remove from favorites
        favorites.splice(index, 1);
        btnIcon.className = 'far fa-heart';
        showToast("Removed from Favorites");
    }

    localStorage.setItem('fav_verses', JSON.stringify(favorites));
    renderFavoritesList(); // Refresh the list in settings/info
}

// Helper to show a quick toast message
function showToast(msg) {
    const toast = document.getElementById('toast-box');
    toast.innerText = msg;
    toast.style.display = "block";
    setTimeout(() => toast.style.display = "none", 2000);
}


// Helper to display the text
function renderVerse(data) {
    document.getElementById('verse-ar').innerText = data.ar;
    document.getElementById('verse-en').innerText = data.en;
    document.getElementById('verse-ref').innerText = data.ref;
}
// --- UPDATED: 1900+ HADITHS (Riyad as-Salihin) ---

// --- UPDATED: ROBUST HADITH LOADER ---

async function loadDailyHadith() {
    const container = document.getElementById('hadith-text');
    const ref = document.getElementById('hadith-ref');
    
    // Show loading state
    container.innerText = "Loading daily wisdom...";
    ref.innerText = "";

    // 1. Try fetching Riyad as-Salihin (Large collection)
    try {
        const res = await fetch('https://cdn.jsdelivr.net/gh/fawazahmed0/hadith-api@1/editions/eng-riyadussalihin.min.json');
        
        if (!res.ok) throw new Error("Network response was not ok");
        
        const data = await res.json();
        
        // Pick a random Hadith
        const random = data.hadiths[Math.floor(Math.random() * data.hadiths.length)];
        
        // Update display
        container.innerText = `"${random.text}"`;
        ref.innerText = `Riyad as-Salihin : Hadith ${random.hadithnumber}`;
        
    } catch(e) {
        console.warn("Primary Hadith source failed, switching to backup...", e);
        
        // 2. Fallback: Fetch 40 Hadith Nawawi (Smaller, more reliable)
        try {
            const resBackup = await fetch('https://cdn.jsdelivr.net/gh/fawazahmed0/hadith-api@1/editions/eng-nawawi.min.json');
            const dataBackup = await resBackup.json();
            const randomBackup = dataBackup.hadiths[Math.floor(Math.random() * dataBackup.hadiths.length)];
            
            container.innerText = `"${randomBackup.text}"`;
            ref.innerText = `40 Hadith Nawawi : Hadith ${randomBackup.hadithnumber}`;
            
        } catch(e2) {
            // 3. Ultimate Fallback (If no internet)
            container.innerText = "\"The best among you is the one who learns the Quran and teaches it.\"";
            ref.innerText = "Sahih Al-Bukhari";
        }
    }
}
loadDailyVerse();
loadDailyHadith();
// --- GPS LOCATION LOGIC ---
function getGPSLocation() {
    if (navigator.geolocation) {
        const btn = document.querySelector('button[onclick="getGPSLocation()"]');
        const originalText = btn.innerHTML;
        btn.innerText = "Locating...";
        
        navigator.geolocation.getCurrentPosition(
            async (position) => {
                const lat = position.coords.latitude;
                const long = position.coords.longitude;
                
                // Save coordinates for Qibla
                localStorage.setItem('lat', lat);
                localStorage.setItem('long', long);

                // Fetch City Name from coordinates (Reverse Geocoding)
                try {
                    const res = await fetch(`https://api.aladhan.com/v1/timings?latitude=${lat}&longitude=${long}&method=2`);
                    const data = await res.json();
                    
                    // The API returns meta data which might have timezone/location guess
                    // We will rely on the prayer times from lat/long directly
                    
                    // Update Settings Inputs just to show something (Optional)
                    document.getElementById('set-city').value = "GPS Location"; 
                    document.getElementById('set-country').value = "";

                    // Save and Reload
                    localStorage.setItem('city', "GPS Location"); 
                    localStorage.setItem('country', ""); 
                    
                    // Manually trigger the load with coordinates
                    loadPrayersByGPS(lat, long);
                    
                    alert("Location updated successfully!");
                    btn.innerHTML = originalText;
                    
                } catch(e) {
                    alert("Error fetching data.");
                    btn.innerHTML = originalText;
                }
            },
            (error) => {
                alert("GPS Error: " + error.message);
                btn.innerHTML = originalText;
            }
        );
    } else {
        alert("Geolocation is not supported by this browser.");
    }
}

// Helper to load by coordinates instead of city name
// --- FIXED: GPS LOCATION LOADER ---
async function loadPrayersByGPS(lat, long) {
    const container = document.getElementById('prayer-list-render');
    container.innerHTML = '<div class="spinner"></div>';
    
    try {
        // ðŸ”´ FIX: Get the correct Method ID dynamically
        const methodID = getMethodID();
        const res = await fetch(`https://api.aladhan.com/v1/timings?latitude=${lat}&longitude=${long}&method=${methodID}`);
        
        if (!res.ok) throw new Error("Network error");

        const data = await res.json();
        const t = data.data.timings;
        
        document.getElementById('active-city-label').innerText = "Current Location";
        
        updatePrayerUI(t, data.data.date.hijri);

    } catch(e) {
        container.innerHTML = "Error loading GPS data.";
    }
}
// --- FIXED: INITIAL LOAD LOGIC ---
// This runs immediately when the page opens
const savedCity = localStorage.getItem('city');

if(savedCity && savedCity !== "GPS Location") {
    // Case 1: User has a saved city (e.g. "London")
    document.getElementById('set-city').value = savedCity;
    loadPrayers(savedCity, localStorage.getItem('country') || "");
} 
else if (localStorage.getItem('lat') && localStorage.getItem('long')) {
    // Case 2: User previously used GPS
    loadPrayersByGPS(localStorage.getItem('lat'), localStorage.getItem('long'));
} 
else {
    // Case 3: First time visitor (Load Makkah by default so it's not empty)
    loadPrayers("Makkah", "Saudi Arabia");
    document.getElementById('set-city').value = "Makkah";
}
// --- RAMADAN COUNTDOWN LOGIC ---
    function updateRamadanCountdown() {
        // Estimated Start: Feb 28, 2025
        // (Month is 0-indexed, so 1 = February)
        const ramadanStart = new Date(2026, 1, 17); 
        const now = new Date();
        
        const diff = ramadanStart - now;
        const daysLeft = Math.ceil(diff / (1000 * 60 * 60 * 24));
        
        const textEl = document.getElementById('ramadan-countdown-text');
        
        if (daysLeft > 0) {
            textEl.innerText = `${daysLeft} Days until Ramadan`;
        } else if (daysLeft > -30) {
            textEl.innerText = "Ramadan Mubarak!";
            textEl.style.color = "var(--brand-gold)";
        } else {
            textEl.innerText = ""; 
        }
    }

    // Call it immediately
    updateRamadanCountdown();
/* --- NEW SERENITY LOGIC --- */

// 1. Massive Clock & Date Updater
function updateSerenityClock() {
    const now = new Date();
    
    // Massive Time (e.g., 14:30)
    const timeStr = now.toLocaleTimeString('en-US', { hour12: false, hour: '2-digit', minute: '2-digit' });
    
    // Full Date (e.g., WEDNESDAY, 14 JAN)
    const dateStr = now.toLocaleDateString('en-US', { weekday: 'long', day: 'numeric', month: 'short' }).toUpperCase();
    
    const timeEl = document.getElementById('clock-time');
    const dateEl = document.getElementById('clock-date');
    
    if (timeEl) timeEl.innerText = timeStr;
    if (dateEl) dateEl.innerText = dateStr;
}

/* --- NEW REFLECTION LOGIC (With History) --- */

// 1. Save Logic
function saveReflection() {
    const input = document.getElementById('reflection-input');
    const text = input.value.trim();
    
    if (!text) {
        alert("Please write something first.");
        return;
    }

    // Create the entry object
    const entry = {
        id: Date.now(), // Unique ID
        text: text,
        date: new Date().toLocaleDateString('en-US', { month: 'short', day: 'numeric', year: 'numeric' }),
        time: new Date().toLocaleTimeString('en-US', { hour: '2-digit', minute: '2-digit' })
    };

    // Get existing history from storage (or create empty list)
    const history = JSON.parse(localStorage.getItem('reflection_history') || "[]");
    
    // Add new entry to the TOP of the list
    history.unshift(entry);
    
    // Save back to storage
    localStorage.setItem('reflection_history', JSON.stringify(history));
    
    // Clear input and reload list
    input.value = "";
    renderReflections();
    
    if (typeof showToast === "function") showToast("Reflection Saved!");
}

// 2. Load & Display Logic
function renderReflections() {
    const historyContainer = document.getElementById('reflection-history');
    const history = JSON.parse(localStorage.getItem('reflection_history') || "[]");
    
    if (!historyContainer) return;

    if (history.length === 0) {
        historyContainer.innerHTML = '<p style="text-align:center; color:var(--text-secondary); font-size:0.8rem; font-style:italic;">No reflections yet. Start writing...</p>';
        return;
    }

    // Build HTML for each entry
    historyContainer.innerHTML = history.map(item => `
        <div style="background: rgba(0,0,0,0.2); padding: 15px; border-radius: 10px; border-left: 2px solid var(--brand-gold);">
            <p style="font-size: 0.9rem; line-height: 1.5; color: #fff; margin-bottom: 8px;">${item.text}</p>
            <div style="display:flex; justify-content:space-between; align-items:center;">
                <span style="font-size: 0.7rem; color: var(--text-secondary);">
                    <i class="far fa-calendar-alt"></i> ${item.date} â€¢ ${item.time}
                </span>
                <button onclick="deleteReflection(${item.id})" style="background:none; border:none; color: #ef4444; font-size: 0.8rem; cursor: pointer;">
                    <i class="fas fa-trash"></i>
                </button>
            </div>
        </div>
    `).join('');
}

// 3. Delete Logic
function deleteReflection(id) {
    if(!confirm("Delete this entry?")) return;
    
    let history = JSON.parse(localStorage.getItem('reflection_history') || "[]");
    // Filter out the one we want to delete
    history = history.filter(item => item.id !== id);
    
    localStorage.setItem('reflection_history', JSON.stringify(history));
    renderReflections();
}

// 4. Initialize on Page Load
window.addEventListener('DOMContentLoaded', () => {
    renderReflections(); // Load the list when app starts
    
    // Start Serenity Clock (Keep your existing clock code too)
    if(typeof updateSerenityClock === "function") {
        updateSerenityClock();
        setInterval(updateSerenityClock, 1000);
    }
});
// 3. Initialize on Load
window.addEventListener('DOMContentLoaded', () => {
    // Load saved reflection
    const saved = localStorage.getItem('serenity_reflection');
    const input = document.getElementById('reflection-input');
    if (saved && input) input.value = saved;

    // Start Clock
    updateSerenityClock();
    setInterval(updateSerenityClock, 1000);
});
 
/* --- NEW FEATURES LOGIC --- */

// 1. Accessibility Logic (Text Size)
function changeFontSize(size) {
    const html = document.documentElement;
    html.classList.remove('font-large', 'font-extra');
    if (size === 'large') html.classList.add('font-large');
    if (size === 'extra') html.classList.add('font-extra');
    localStorage.setItem('userFontSize', size);
}
// Load saved size on startup
const savedSize = localStorage.getItem('userFontSize');
if (savedSize) changeFontSize(savedSize);

// 2. Heart Check-In Logic
/* --- EXPANDED HEART CHECK-IN LOGIC (50+ ENTRIES) --- */

const remedyDatabase = {
    anxious: [
        { title: "Sufficient is He", ar: "Ø­ÙŽØ³Ù’Ø¨ÙÙ†ÙŽØ§ Ø§Ù„Ù„ÙŽÙ‘Ù‡Ù ÙˆÙŽÙ†ÙØ¹Ù’Ù…ÙŽ Ø§Ù„Ù’ÙˆÙŽÙƒÙÙŠÙ„Ù", en: "Sufficient for us is Allah, and [He is] the best Disposer of affairs. (Quran 3:173)" },
        { title: "Find Peace", ar: "Ø£ÙŽÙ„ÙŽØ§ Ø¨ÙØ°ÙÙƒÙ’Ø±Ù Ø§Ù„Ù„ÙŽÙ‘Ù‡Ù ØªÙŽØ·Ù’Ù…ÙŽØ¦ÙÙ†ÙÙ‘ Ø§Ù„Ù’Ù‚ÙÙ„ÙÙˆØ¨Ù", en: "Unquestionably, by the remembrance of Allah hearts are assured. (Quran 13:28)" },
        { title: "He Will Make a Way", ar: "ÙˆÙŽÙ…ÙŽÙ† ÙŠÙŽØªÙŽÙ‘Ù‚Ù Ø§Ù„Ù„ÙŽÙ‘Ù‡ÙŽ ÙŠÙŽØ¬Ù’Ø¹ÙŽÙ„ Ù„ÙŽÙ‘Ù‡Ù Ù…ÙŽØ®Ù’Ø±ÙŽØ¬Ù‹Ø§", en: "And whoever fears Allah - He will make for him a way out. (Quran 65:2)" },
        { title: "Ease is Coming", ar: "ÙÙŽØ¥ÙÙ†ÙŽÙ‘ Ù…ÙŽØ¹ÙŽ Ø§Ù„Ù’Ø¹ÙØ³Ù’Ø±Ù ÙŠÙØ³Ù’Ø±Ù‹Ø§", en: "For indeed, with hardship [will be] ease. (Quran 94:5)" },
        { title: "Leave it to Him", ar: "ÙˆÙŽØ£ÙÙÙŽÙˆÙÙ‘Ø¶Ù Ø£ÙŽÙ…Ù’Ø±ÙÙŠ Ø¥ÙÙ„ÙŽÙ‰ Ø§Ù„Ù„ÙŽÙ‘Ù‡Ù", en: "I entrust my affair to Allah. Indeed, Allah is Seeing of [His] servants. (Quran 40:44)" },
        { title: "He Knows", ar: "Ù„ÙŽØ§ ØªÙŽØ®ÙŽØ§ÙÙŽØ§ Û– Ø¥ÙÙ†ÙŽÙ‘Ù†ÙÙŠ Ù…ÙŽØ¹ÙŽÙƒÙÙ…ÙŽØ§ Ø£ÙŽØ³Ù’Ù…ÙŽØ¹Ù ÙˆÙŽØ£ÙŽØ±ÙŽÙ‰Ù°", en: "Do not fear. Indeed, I am with you both; I hear and I see. (Quran 20:46)" },
        { title: "The Ultimate Planner", ar: "ÙˆÙŽÙŠÙŽÙ…Ù’ÙƒÙØ±ÙÙˆÙ†ÙŽ ÙˆÙŽÙŠÙŽÙ…Ù’ÙƒÙØ±Ù Ø§Ù„Ù„ÙŽÙ‘Ù‡Ù Û– ÙˆÙŽØ§Ù„Ù„ÙŽÙ‘Ù‡Ù Ø®ÙŽÙŠÙ’Ø±Ù Ø§Ù„Ù’Ù…ÙŽØ§ÙƒÙØ±ÙÙŠÙ†ÙŽ", en: "They plan, and Allah plans. And Allah is the best of planners. (Quran 8:30)" },
        { title: "Don't Carry the World", ar: "Ø§Ù„Ù„ÙŽÙ‘Ù‡ÙÙ…ÙŽÙ‘ Ù„ÙŽØ§ ØªÙŽØ¬Ù’Ø¹ÙŽÙ„Ù Ø§Ù„Ø¯ÙÙ‘Ù†Ù’ÙŠÙŽØ§ Ø£ÙŽÙƒÙ’Ø¨ÙŽØ±ÙŽ Ù‡ÙŽÙ…ÙÙ‘Ù†ÙŽØ§", en: "O Allah, do not make this world our greatest concern. (Tirmidhi)" },
        { title: "Seek Help", ar: "ÙŠÙŽØ§ Ø­ÙŽÙŠÙÙ‘ ÙŠÙŽØ§ Ù‚ÙŽÙŠÙÙ‘ÙˆÙ…Ù Ø¨ÙØ±ÙŽØ­Ù’Ù…ÙŽØªÙÙƒÙŽ Ø£ÙŽØ³Ù’ØªÙŽØºÙÙŠØ«Ù", en: "O Living, O Sustaining! In Your Mercy I seek relief! (Tirmidhi)" },
        { title: "Tie Your Camel", ar: "Ø§Ø¹Ù’Ù‚ÙÙ„Ù’Ù‡ÙŽØ§ ÙˆÙŽØªÙŽÙˆÙŽÙƒÙŽÙ‘Ù„Ù’", en: "Tie your camel (do your part) and then trust in Allah. (Tirmidhi)" },
        { title: "Call Upon Him", ar: "Ø£ÙŽÙ…ÙŽÙ‘Ù† ÙŠÙØ¬ÙÙŠØ¨Ù Ø§Ù„Ù’Ù…ÙØ¶Ù’Ø·ÙŽØ±ÙŽÙ‘ Ø¥ÙØ°ÙŽØ§ Ø¯ÙŽØ¹ÙŽØ§Ù‡Ù", en: "Is He [not best] who responds to the desperate one when he calls upon Him? (Quran 27:62)" },
        { title: "Nothing Can Harm You", ar: "Ø¨ÙØ³Ù’Ù…Ù Ø§Ù„Ù„ÙŽÙ‘Ù‡Ù Ø§Ù„ÙŽÙ‘Ø°ÙÙŠ Ù„ÙŽØ§ ÙŠÙŽØ¶ÙØ±ÙÙ‘ Ù…ÙŽØ¹ÙŽ Ø§Ø³Ù’Ù…ÙÙ‡Ù Ø´ÙŽÙŠÙ’Ø¡ÙŒ", en: "In the Name of Allah, with Whose Name nothing is harmed on earth nor in heaven. (Abu Dawud)" },
        { title: "Tests are Love", ar: "Ø¥ÙØ°ÙŽØ§ Ø£ÙŽØ­ÙŽØ¨ÙŽÙ‘ Ø§Ù„Ù„ÙŽÙ‘Ù‡Ù Ù‚ÙŽÙˆÙ’Ù…Ù‹Ø§ Ø§Ø¨Ù’ØªÙŽÙ„ÙŽØ§Ù‡ÙÙ…Ù’", en: "When Allah loves a people, He tests them. (Tirmidhi)" },
        { title: "No Soul Burdened", ar: "Ù„ÙŽØ§ Ù†ÙÙƒÙŽÙ„ÙÙ‘ÙÙ Ù†ÙŽÙÙ’Ø³Ù‹Ø§ Ø¥ÙÙ„ÙŽÙ‘Ø§ ÙˆÙØ³Ù’Ø¹ÙŽÙ‡ÙŽØ§", en: "We do not impose on any soul a duty but to the extent of its ability. (Quran 23:62)" }
    ],
    sad: [
        { title: "Allah is With Us", ar: "Ù„ÙŽØ§ ØªÙŽØ­Ù’Ø²ÙŽÙ†Ù’ Ø¥ÙÙ†ÙŽÙ‘ Ø§Ù„Ù„ÙŽÙ‘Ù‡ÙŽ Ù…ÙŽØ¹ÙŽÙ†ÙŽØ§", en: "Do not grieve; indeed Allah is with us. (Quran 9:40)" },
        { title: "He Will Satisfy You", ar: "ÙˆÙŽÙ„ÙŽØ³ÙŽÙˆÙ’ÙÙŽ ÙŠÙØ¹Ù’Ø·ÙÙŠÙƒÙŽ Ø±ÙŽØ¨ÙÙ‘ÙƒÙŽ ÙÙŽØªÙŽØ±Ù’Ø¶ÙŽÙ‰Ù°", en: "And your Lord is going to give you, and you will be satisfied. (Quran 93:5)" },
        { title: "Relief for the Soul", ar: "Ø§Ù„Ù„ÙŽÙ‘Ù‡ÙÙ…ÙŽÙ‘ Ø¥ÙÙ†ÙÙ‘ÙŠ Ø¹ÙŽØ¨Ù’Ø¯ÙÙƒÙŽ... ØªÙŽØ¬Ù’Ø¹ÙŽÙ„ÙŽ Ø§Ù„Ù’Ù‚ÙØ±Ù’Ø¢Ù†ÙŽ Ø±ÙŽØ¨ÙÙŠØ¹ÙŽ Ù‚ÙŽÙ„Ù’Ø¨ÙÙŠ", en: "O Allah... make the Quran the spring of my heart and the remover of my sadness. (Ahmad)" },
        { title: "Patience is Beautiful", ar: "ÙÙŽØµÙŽØ¨Ù’Ø±ÙŒ Ø¬ÙŽÙ…ÙÙŠÙ„ÙŒ Û– ÙˆÙŽØ§Ù„Ù„ÙŽÙ‘Ù‡Ù Ø§Ù„Ù’Ù…ÙØ³Ù’ØªÙŽØ¹ÙŽØ§Ù†Ù", en: "So patience is most fitting. And Allah is the one sought for help. (Quran 12:18)" },
        { title: "Prophet's Grief Dua", ar: "Ø§Ù„Ù„ÙŽÙ‘Ù‡ÙÙ…ÙŽÙ‘ Ø¥ÙÙ†ÙÙ‘ÙŠ Ø£ÙŽØ¹ÙÙˆØ°Ù Ø¨ÙÙƒÙŽ Ù…ÙÙ†ÙŽ Ø§Ù„Ù’Ù‡ÙŽÙ…ÙÙ‘ ÙˆÙŽØ§Ù„Ù’Ø­ÙŽØ²ÙŽÙ†Ù", en: "O Allah, I seek refuge in You from anxiety and sorrow. (Bukhari)" },
        { title: "We Belong to Him", ar: "Ø¥ÙÙ†ÙŽÙ‘Ø§ Ù„ÙÙ„ÙŽÙ‘Ù‡Ù ÙˆÙŽØ¥ÙÙ†ÙŽÙ‘Ø§ Ø¥ÙÙ„ÙŽÙŠÙ’Ù‡Ù Ø±ÙŽØ§Ø¬ÙØ¹ÙÙˆÙ†ÙŽ", en: "Indeed we belong to Allah, and indeed to Him we will return. (Quran 2:156)" },
        { title: "Pain Erases Sins", ar: "Ù…ÙŽØ§ ÙŠÙØµÙÙŠØ¨Ù Ø§Ù„Ù’Ù…ÙØ³Ù’Ù„ÙÙ…ÙŽ Ù…ÙÙ†Ù’ Ù†ÙŽØµÙŽØ¨Ù... Ø¥ÙÙ„ÙŽÙ‘Ø§ ÙƒÙŽÙÙŽÙ‘Ø±ÙŽ Ø§Ù„Ù„ÙŽÙ‘Ù‡Ù Ø¨ÙÙ‡ÙŽØ§ Ù…ÙÙ†Ù’ Ø®ÙŽØ·ÙŽØ§ÙŠÙŽØ§Ù‡Ù", en: "No fatigue, nor disease, nor sorrow, nor sadness... touches a Muslim but that Allah expiates some of his sins for it. (Bukhari)" },
        { title: "Complaint to Allah", ar: "Ø¥ÙÙ†ÙŽÙ‘Ù…ÙŽØ§ Ø£ÙŽØ´Ù’ÙƒÙÙˆ Ø¨ÙŽØ«ÙÙ‘ÙŠ ÙˆÙŽØ­ÙØ²Ù’Ù†ÙÙŠ Ø¥ÙÙ„ÙŽÙ‰ Ø§Ù„Ù„ÙŽÙ‘Ù‡Ù", en: "I only complain of my suffering and my grief to Allah. (Quran 12:86)" },
        { title: "Light in Darkness", ar: "Ø§Ù„Ù„ÙŽÙ‘Ù‡ÙÙ…ÙŽÙ‘ Ø§Ø¬Ù’Ø¹ÙŽÙ„Ù’ ÙÙÙŠ Ù‚ÙŽÙ„Ù’Ø¨ÙÙŠ Ù†ÙÙˆØ±Ù‹Ø§", en: "O Allah, place light in my heart. (Muslim)" },
        { title: "The Comforter", ar: "ÙŠÙŽØ§ Ø¬ÙŽØ¨ÙŽÙ‘Ø§Ø±Ù Ø§Ø¬Ù’Ø¨ÙØ±Ù’Ù†ÙÙŠ", en: "O Mender (of hearts), mend me. (Supplication)" },
        { title: "Peace Upon You", ar: "Ø³ÙŽÙ„ÙŽØ§Ù…ÙŒ Ø¹ÙŽÙ„ÙŽÙŠÙ’ÙƒÙÙ… Ø¨ÙÙ…ÙŽØ§ ØµÙŽØ¨ÙŽØ±Ù’ØªÙÙ…Ù’", en: "Peace be upon you for what you patiently endured. And excellent is the final home. (Quran 13:24)" },
        { title: "He is Close", ar: "ÙˆÙŽÙ†ÙŽØ­Ù’Ù†Ù Ø£ÙŽÙ‚Ù’Ø±ÙŽØ¨Ù Ø¥ÙÙ„ÙŽÙŠÙ’Ù‡Ù Ù…ÙÙ†Ù’ Ø­ÙŽØ¨Ù’Ù„Ù Ø§Ù„Ù’ÙˆÙŽØ±ÙÙŠØ¯Ù", en: "And We are closer to him than [his] jugular vein. (Quran 50:16)" }
    ],
    lazy: [
        { title: "Seek Refuge", ar: "Ø§Ù„Ù„ÙŽÙ‘Ù‡ÙÙ…ÙŽÙ‘ Ø¥ÙÙ†ÙÙ‘ÙŠ Ø£ÙŽØ¹ÙÙˆØ°Ù Ø¨ÙÙƒÙŽ Ù…ÙÙ†ÙŽ Ø§Ù„Ù’Ø¹ÙŽØ¬Ù’Ø²Ù ÙˆÙŽØ§Ù„Ù’ÙƒÙŽØ³ÙŽÙ„Ù", en: "O Allah, I seek refuge in You from incapacity and laziness. (Bukhari)" },
        { title: "Race to Forgiveness", ar: "ÙˆÙŽØ³ÙŽØ§Ø±ÙØ¹ÙÙˆØ§ Ø¥ÙÙ„ÙŽÙ‰Ù° Ù…ÙŽØºÙ’ÙÙØ±ÙŽØ©Ù Ù…ÙÙ‘Ù† Ø±ÙŽÙ‘Ø¨ÙÙ‘ÙƒÙÙ…Ù’", en: "And hasten to forgiveness from your Lord and a garden as wide as the heavens and earth. (Quran 3:133)" },
        { title: "Just One Step", ar: "ÙˆÙŽÙ…ÙŽÙ†Ù’ Ø£ÙŽØªÙŽØ§Ù†ÙÙŠ ÙŠÙŽÙ…Ù’Ø´ÙÙŠ Ø£ÙŽØªÙŽÙŠÙ’ØªÙÙ‡Ù Ù‡ÙŽØ±Ù’ÙˆÙŽÙ„ÙŽØ©Ù‹", en: "Whoever comes to Me walking, I will come to him running. (Hadith Qudsi)" },
        { title: "Be in this World", ar: "ÙƒÙÙ†Ù’ ÙÙÙŠ Ø§Ù„Ø¯ÙÙ‘Ù†Ù’ÙŠÙŽØ§ ÙƒÙŽØ£ÙŽÙ†ÙŽÙ‘ÙƒÙŽ ØºÙŽØ±ÙÙŠØ¨ÙŒ Ø£ÙŽÙˆÙ’ Ø¹ÙŽØ§Ø¨ÙØ±Ù Ø³ÙŽØ¨ÙÙŠÙ„Ù", en: "Be in this world as if you were a stranger or a traveler. (Bukhari)" },
        { title: "Value Five", ar: "Ø§ØºÙ’ØªÙŽÙ†ÙÙ…Ù’ Ø®ÙŽÙ…Ù’Ø³Ù‹Ø§ Ù‚ÙŽØ¨Ù’Ù„ÙŽ Ø®ÙŽÙ…Ù’Ø³Ù", en: "Take advantage of five before five: your youth before your old age... (Hakim)" },
        { title: "Help Me Worship", ar: "Ø§Ù„Ù„ÙŽÙ‘Ù‡ÙÙ…ÙŽÙ‘ Ø£ÙŽØ¹ÙÙ†ÙÙ‘ÙŠ Ø¹ÙŽÙ„ÙŽÙ‰ Ø°ÙÙƒÙ’Ø±ÙÙƒÙŽ ÙˆÙŽØ´ÙÙƒÙ’Ø±ÙÙƒÙŽ ÙˆÙŽØ­ÙØ³Ù’Ù†Ù Ø¹ÙØ¨ÙŽØ§Ø¯ÙŽØªÙÙƒÙŽ", en: "O Allah, help me to remember You, to give You thanks, and to perform Your worship in the best manner. (Abu Dawud)" },
        { title: "Morning Energy", ar: "Ø£ÙŽØµÙ’Ø¨ÙŽØ­Ù’Ù†ÙŽØ§ ÙˆÙŽØ£ÙŽØµÙ’Ø¨ÙŽØ­ÙŽ Ø§Ù„Ù’Ù…ÙÙ„Ù’ÙƒÙ Ù„ÙÙ„ÙŽÙ‘Ù‡Ù", en: "We have entered the morning and the Kingdom belongs to Allah. (Muslim)" },
        { title: "Strive for Benefit", ar: "Ø§Ø­Ù’Ø±ÙØµÙ’ Ø¹ÙŽÙ„ÙŽÙ‰ Ù…ÙŽØ§ ÙŠÙŽÙ†Ù’ÙÙŽØ¹ÙÙƒÙŽ ÙˆÙŽØ§Ø³Ù’ØªÙŽØ¹ÙÙ†Ù’ Ø¨ÙØ§Ù„Ù„ÙŽÙ‘Ù‡Ù", en: "Strive for that which will benefit you, and seek the help of Allah, and do not feel helpless. (Muslim)" },
        { title: "Strength is Loved", ar: "Ø§Ù„Ù’Ù…ÙØ¤Ù’Ù…ÙÙ†Ù Ø§Ù„Ù’Ù‚ÙŽÙˆÙÙŠÙÙ‘ Ø®ÙŽÙŠÙ’Ø±ÙŒ ÙˆÙŽØ£ÙŽØ­ÙŽØ¨ÙÙ‘ Ø¥ÙÙ„ÙŽÙ‰ Ø§Ù„Ù„ÙŽÙ‘Ù‡Ù Ù…ÙÙ†ÙŽ Ø§Ù„Ù’Ù…ÙØ¤Ù’Ù…ÙÙ†Ù Ø§Ù„Ø¶ÙŽÙ‘Ø¹ÙÙŠÙÙ", en: "The strong believer is better and more beloved to Allah than the weak believer. (Muslim)" },
        { title: "Consistency is Key", ar: "Ø£ÙŽØ­ÙŽØ¨ÙÙ‘ Ø§Ù„Ø£ÙŽØ¹Ù’Ù…ÙŽØ§Ù„Ù Ø¥ÙÙ„ÙŽÙ‰ Ø§Ù„Ù„ÙŽÙ‘Ù‡Ù Ø£ÙŽØ¯Ù’ÙˆÙŽÙ…ÙÙ‡ÙŽØ§ ÙˆÙŽØ¥ÙÙ†Ù’ Ù‚ÙŽÙ„ÙŽÙ‘", en: "The most beloved deeds to Allah are those that are consistent, even if they are small. (Bukhari)" }
    ],
    grateful: [
        { title: "The Promise", ar: "Ù„ÙŽØ¦ÙÙ† Ø´ÙŽÙƒÙŽØ±Ù’ØªÙÙ…Ù’ Ù„ÙŽØ£ÙŽØ²ÙÙŠØ¯ÙŽÙ†ÙŽÙ‘ÙƒÙÙ…Ù’", en: "If you are grateful, I will surely increase you [in favor]. (Quran 14:7)" },
        { title: "Remember Me", ar: "ÙÙŽØ§Ø°Ù’ÙƒÙØ±ÙÙˆÙ†ÙÙŠ Ø£ÙŽØ°Ù’ÙƒÙØ±Ù’ÙƒÙÙ…Ù’ ÙˆÙŽØ§Ø´Ù’ÙƒÙØ±ÙÙˆØ§ Ù„ÙÙŠ ÙˆÙŽÙ„ÙŽØ§ ØªÙŽÙƒÙ’ÙÙØ±ÙÙˆÙ†Ù", en: "So remember Me; I will remember you. And be grateful to Me and do not deny Me. (Quran 2:152)" },
        { title: "Look Below You", ar: "Ø§Ù†Ù’Ø¸ÙØ±ÙÙˆØ§ Ø¥ÙÙ„ÙŽÙ‰ Ù…ÙŽÙ†Ù’ Ù‡ÙÙˆÙŽ Ø£ÙŽØ³Ù’ÙÙŽÙ„ÙŽ Ù…ÙÙ†Ù’ÙƒÙÙ…Ù’", en: "Look at those who are lower than you (financially/physically) but do not look at those who are higher... (Bukhari)" },
        { title: "Sujood of Thanks", ar: "Ø³ÙŽØ¬ÙŽØ¯ÙŽ Ù„ÙÙ„ÙŽÙ‘Ù‡Ù Ø´ÙÙƒÙ’Ø±Ù‹Ø§", en: "Fall into prostration of thankfulness to Allah right now. (Sunnah)" },
        { title: "Best Dua", ar: "Ø§Ù„Ù’Ø­ÙŽÙ…Ù’Ø¯Ù Ù„ÙÙ„ÙŽÙ‘Ù‡Ù", en: "Alhamdulillah (All Praise is due to Allah). It fills the scales. (Muslim)" },
        { title: "Praise for Guidance", ar: "Ø§Ù„Ù’Ø­ÙŽÙ…Ù’Ø¯Ù Ù„ÙÙ„ÙŽÙ‘Ù‡Ù Ø§Ù„ÙŽÙ‘Ø°ÙÙŠ Ù‡ÙŽØ¯ÙŽØ§Ù†ÙŽØ§ Ù„ÙÙ‡ÙŽÙ°Ø°ÙŽØ§", en: "Praise to Allah, who has guided us to this. (Quran 7:43)" },
        { title: "Countless Favors", ar: "ÙˆÙŽØ¥ÙÙ† ØªÙŽØ¹ÙØ¯ÙÙ‘ÙˆØ§ Ù†ÙØ¹Ù’Ù…ÙŽØ©ÙŽ Ø§Ù„Ù„ÙŽÙ‘Ù‡Ù Ù„ÙŽØ§ ØªÙØ­Ù’ØµÙÙˆÙ‡ÙŽØ§", en: "And if you should count the favors of Allah, you could not enumerate them. (Quran 16:18)" },
        { title: "Better than the World", ar: "Ø±ÙŽÙƒÙ’Ø¹ÙŽØªÙŽØ§ Ø§Ù„Ù’ÙÙŽØ¬Ù’Ø±Ù Ø®ÙŽÙŠÙ’Ø±ÙŒ Ù…ÙÙ†ÙŽ Ø§Ù„Ø¯ÙÙ‘Ù†Ù’ÙŠÙŽØ§ ÙˆÙŽÙ…ÙŽØ§ ÙÙÙŠÙ‡ÙŽØ§", en: "The two rak'ahs (before) Fajr are better than the world and what is in it. (Muslim)" },
        { title: "Mercy is Better", ar: "Ù‡ÙÙˆÙŽ Ø®ÙŽÙŠÙ’Ø±ÙŒ Ù…ÙÙ‘Ù…ÙŽÙ‘Ø§ ÙŠÙŽØ¬Ù’Ù…ÙŽØ¹ÙÙˆÙ†ÙŽ", en: "The Mercy of Allah is better than whatever wealth they accumulate. (Quran 10:58)" }
    ],
    sinful: [
        { title: "Do Not Despair", ar: "Ù„ÙŽØ§ ØªÙŽÙ‚Ù’Ù†ÙŽØ·ÙÙˆØ§ Ù…ÙÙ† Ø±ÙŽÙ‘Ø­Ù’Ù…ÙŽØ©Ù Ø§Ù„Ù„ÙŽÙ‘Ù‡Ù", en: "Do not despair of the mercy of Allah. Indeed, Allah forgives all sins. (Quran 39:53)" },
        { title: "My Mercy Encompasses", ar: "ÙˆÙŽØ±ÙŽØ­Ù’Ù…ÙŽØªÙÙŠ ÙˆÙŽØ³ÙØ¹ÙŽØªÙ’ ÙƒÙÙ„ÙŽÙ‘ Ø´ÙŽÙŠÙ’Ø¡Ù", en: "My mercy encompasses all things. (Quran 7:156)" },
        { title: "Best of Sinners", ar: "ÙƒÙÙ„ÙÙ‘ Ø¨ÙŽÙ†ÙÙŠ Ø¢Ø¯ÙŽÙ…ÙŽ Ø®ÙŽØ·ÙŽÙ‘Ø§Ø¡ÙŒ ÙˆÙŽØ®ÙŽÙŠÙ’Ø±Ù Ø§Ù„Ù’Ø®ÙŽØ·ÙŽÙ‘Ø§Ø¦ÙÙŠÙ†ÙŽ Ø§Ù„ØªÙŽÙ‘ÙˆÙŽÙ‘Ø§Ø¨ÙÙˆÙ†ÙŽ", en: "All the sons of Adam are sinners, but the best of sinners are those who repent often. (Tirmidhi)" },
        { title: "Sayyidul Istighfar", ar: "Ø§Ù„Ù„ÙŽÙ‘Ù‡ÙÙ…ÙŽÙ‘ Ø£ÙŽÙ†Ù’ØªÙŽ Ø±ÙŽØ¨ÙÙ‘ÙŠ Ù„ÙŽØ§ Ø¥ÙÙ„ÙŽÙ‡ÙŽ Ø¥ÙÙ„ÙŽÙ‘Ø§ Ø£ÙŽÙ†Ù’ØªÙŽØŒ Ø®ÙŽÙ„ÙŽÙ‚Ù’ØªÙŽÙ†ÙÙŠ ÙˆÙŽØ£ÙŽÙ†ÙŽØ§ Ø¹ÙŽØ¨Ù’Ø¯ÙÙƒÙŽ", en: "O Allah, You are my Lord... forgive me, for no one forgives sins except You. (Bukhari)" },
        { title: "Replace with Good", ar: "Ø¥ÙÙ†ÙŽÙ‘ Ø§Ù„Ù’Ø­ÙŽØ³ÙŽÙ†ÙŽØ§ØªÙ ÙŠÙØ°Ù’Ù‡ÙØ¨Ù’Ù†ÙŽ Ø§Ù„Ø³ÙŽÙ‘ÙŠÙÙ‘Ø¦ÙŽØ§ØªÙ", en: "Indeed, good deeds do away with misdeeds. (Quran 11:114)" },
        { title: "Dua of Adam (as)", ar: "Ø±ÙŽØ¨ÙŽÙ‘Ù†ÙŽØ§ Ø¸ÙŽÙ„ÙŽÙ…Ù’Ù†ÙŽØ§ Ø£ÙŽÙ†ÙÙØ³ÙŽÙ†ÙŽØ§ ÙˆÙŽØ¥ÙÙ† Ù„ÙŽÙ‘Ù…Ù’ ØªÙŽØºÙ’ÙÙØ±Ù’ Ù„ÙŽÙ†ÙŽØ§...", en: "Our Lord, we have wronged ourselves, and if You do not forgive us... we will be losers. (Quran 7:23)" },
        { title: "Vast Forgiveness", ar: "ÙŠÙŽØ§ Ø§Ø¨Ù’Ù†ÙŽ Ø¢Ø¯ÙŽÙ…ÙŽ Ù„ÙŽÙˆÙ’ Ø¨ÙŽÙ„ÙŽØºÙŽØªÙ’ Ø°ÙÙ†ÙÙˆØ¨ÙÙƒÙŽ Ø¹ÙŽÙ†ÙŽØ§Ù†ÙŽ Ø§Ù„Ø³ÙŽÙ‘Ù…ÙŽØ§Ø¡Ù Ø«ÙÙ…ÙŽÙ‘ Ø§Ø³Ù’ØªÙŽØºÙ’ÙÙŽØ±Ù’ØªÙŽÙ†ÙÙŠ ØºÙŽÙÙŽØ±Ù’ØªÙ Ù„ÙŽÙƒÙŽ", en: "O son of Adam, were your sins to reach the clouds of the sky and were you then to ask forgiveness of Me, I would forgive you. (Hadith Qudsi)" },
        { title: "He Loves Repentance", ar: "Ø¥ÙÙ†ÙŽÙ‘ Ø§Ù„Ù„ÙŽÙ‘Ù‡ÙŽ ÙŠÙØ­ÙØ¨ÙÙ‘ Ø§Ù„ØªÙŽÙ‘ÙˆÙŽÙ‘Ø§Ø¨ÙÙŠÙ†ÙŽ", en: "Indeed, Allah loves those who are constantly repentant. (Quran 2:222)" },
        { title: "Angels Pray for You", ar: "ÙˆÙŽÙŠÙŽØ³Ù’ØªÙŽØºÙ’ÙÙØ±ÙÙˆÙ†ÙŽ Ù„ÙÙ„ÙŽÙ‘Ø°ÙÙŠÙ†ÙŽ Ø¢Ù…ÙŽÙ†ÙÙˆØ§", en: "And they (the angels) ask forgiveness for those who have believed. (Quran 40:7)" }
    ]
};
function showRemedy(mood) {
    document.getElementById('mood-selector').style.display = 'none';
    const box = document.getElementById('remedy-box');
    
    // 1. Get the list for this mood
    const list = remedyDatabase[mood];
    
    // 2. Pick a Random Item from the list
    const randomItem = list[Math.floor(Math.random() * list.length)];
    
    // 3. Update the UI
    document.getElementById('remedy-title').innerText = randomItem.title;
    document.getElementById('remedy-arabic').innerText = randomItem.ar;
    document.getElementById('remedy-translation').innerText = randomItem.en;
    
    box.style.display = 'block';
}

function resetMood() {
    document.getElementById('remedy-box').style.display = 'none';
    document.getElementById('mood-selector').style.display = 'flex';
}

// 3. Daily Checklist Logic
const sunnahs = [
    { id: 's1', text: "Prayed Fard Salah" },
    { id: 's2', text: "Read Quran" },
    { id: 's3', text: "Morning/Evening Adhkar" },
    { id: 's4', text: "Gave Charity (or smiled)" },
    { id: 's5', text: "Did Istighfar (100x)" }
];
function initChecklist() {
    const list = document.getElementById('sunnah-list');
    const today = new Date().toDateString();
    // Reset if it's a new day
    if (localStorage.getItem('checklist_date') !== today) {
        sunnahs.forEach(s => localStorage.removeItem(s.id));
        localStorage.setItem('checklist_date', today);
    }
    list.innerHTML = '';
    sunnahs.forEach(item => {
        const isChecked = localStorage.getItem(item.id) === 'true';
        const div = document.createElement('div');
        div.className = `check-item ${isChecked ? 'checked' : ''}`;
        div.onclick = () => {
            const checked = !div.classList.contains('checked');
            div.classList.toggle('checked');
            localStorage.setItem(item.id, checked);
            if(navigator.vibrate) navigator.vibrate(10);
        };
        div.innerHTML = `<div class="custom-checkbox"></div><span>${item.text}</span>`;
        list.appendChild(div);
    });
}
initChecklist();

// 4. Footer Actions
async function shareApp() {
    if (navigator.share) {
        try { await navigator.share({ title: 'Daily Deen', text: 'Free Prayer Times & Quran App. No Ads.', url: window.location.href }); } catch (err) {}
    } else {
        navigator.clipboard.writeText(window.location.href);
        const toast = document.getElementById('toast-box');
        toast.innerText = "Link copied! Share the rewards.";
        toast.style.display = "block";
        setTimeout(() => toast.style.display = "none", 3000);
    }
}
function bookmarkApp() {
    const toast = document.getElementById('toast-box');
    const isMac = navigator.userAgent.indexOf("Mac") !== -1;
    toast.innerText = isMac ? "Press Cmd + D to Bookmark" : "Press Ctrl + D to Bookmark";
    toast.style.display = "block";
    setTimeout(() => toast.style.display = "none", 4000);
}
/* --- FIXED ATMOSPHERE ENGINE (Restores Your Heart Dua) --- */
function updateAtmosphere() {
    const date = new Date();
    const hour = date.getHours();
    const day = date.getDay(); // 5 = Friday
    
    const greetingEl = document.querySelector('.hero-dua');
    const subheading = document.querySelector('.hero-tagline'); 
    const body = document.body;
    
    // 1. Reset Background Classes
    body.classList.remove('time-fajr', 'time-day', 'time-maghrib', 'time-night');
    
    // ðŸ”´ FIX: Set your preferred text as the DEFAULT variable
    let spiritualMsg = "May Allah place light in your heart"; 
    
    // Keep the Welcome Message safe too
    let subMsg = "Welcome to Daily Deen <br> Your Daily Companion for Prayer, Remembrance & Reflection"; 

    // 2. JUMMAH CHECK
    const isJummah = (day === 4 && hour >= 18) || (day === 5 && hour < 18);

    if (isJummah) {
        spiritualMsg = "Jummah Mubarak. Illuminate your heart with Surah Al-Kahf.";
        subMsg = "Send abundant Salawat upon the Prophet ï·º today.";
    } 
    
    // 3. Time Logic 
    // (We only overwrite spiritualMsg if it's a specific special time like Fajr/Maghrib)
    
    if (hour >= 4 && hour < 7) {
        body.classList.add('time-fajr');
        if(!isJummah) spiritualMsg = "The Lord descends to the lowest heaven. Ask, and you shall receive.";
    } 
    else if (hour >= 7 && hour < 15) {
        body.classList.add('time-day');
        // ðŸ”´ CHANGE: We keep your "Light in your heart" text for the main part of the day
        if(!isJummah) spiritualMsg = "May Allah place light in your heart"; 
    }
    else if (hour >= 15 && hour < 17) { 
        body.classList.add('time-asr'); // NEW: Gold (3 PM to 5 PM)
        if(!isJummah) spiritualMsg = "Asr time approaches. Success comes to those who pray.";
    } 
    else if (hour >= 17 && hour < 20) {
        body.classList.add('time-maghrib');
        if(!isJummah) spiritualMsg = "The sun sets, but the light of Allah never fades.";
    } 
    else {
        body.classList.add('time-night');
        // Optional: You can keep the Night Dua, or remove this line to keep "Light in your heart" at night too
        if(!isJummah) spiritualMsg = "Sleep with Wudu, and your soul prostrates under the Throne.";
    }

    // 4. Update Texts
    if(greetingEl && greetingEl.innerText !== `"${spiritualMsg}"`) {
        greetingEl.style.opacity = 0;
        
        setTimeout(() => {
            greetingEl.innerText = `"${spiritualMsg}"`;
            greetingEl.style.opacity = 1;
            
            if(subheading) {
                if(subheading.innerHTML !== subMsg) {
                    subheading.innerHTML = subMsg;
                }
            }
        }, 500);
    }
}

// Run on load and every minute
updateAtmosphere();
setInterval(updateAtmosphere, 60000);
/* --- ADHKAR DASHBOARD SYSTEM --- */

// 1. The Database
const defaultDhikr = [
    { id: 'subhan', cat: 'general', title: "SubhanAllah", ar: "Ø³ÙØ¨Ù’Ø­ÙŽØ§Ù†ÙŽ Ù±Ù„Ù„ÙŽÙ‘Ù°Ù‡Ù", target: 33 },
    { id: 'alham', cat: 'general', title: "Alhamdulillah", ar: "Ù±Ù„Ù’Ø­ÙŽÙ…Ù’Ø¯Ù Ù„ÙÙ„ÙŽÙ‘Ù°Ù‡Ù", target: 33 },
    { id: 'allahu', cat: 'general', title: "Allahu Akbar", ar: "Ù±Ù„Ù„ÙŽÙ‘Ù°Ù‡Ù Ø£ÙŽÙƒÙ’Ø¨ÙŽØ±Ù", target: 34 },
    { id: 'istighfar', cat: 'general', title: "Astaghfirullah", ar: "Ø£ÙŽØ³Ù’ØªÙŽØºÙ’ÙÙØ±Ù Ù±Ù„Ù„ÙŽÙ‘Ù°Ù‡ÙŽ", target: 100 },
    { id: 'tahlil', cat: 'general', title: "La ilaha illallah", ar: "Ù„ÙŽØ§ Ø¥ÙÙ„ÙŽÙ°Ù‡ÙŽ Ø¥ÙÙ„ÙŽÙ‘Ø§ Ù±Ù„Ù„ÙŽÙ‘Ù°Ù‡Ù", target: 100 },
    { id: 'salawat', cat: 'general', title: "Salawat (Durood)", ar: "Ø§Ù„Ù„ÙŽÙ‘Ù‡ÙÙ…ÙŽÙ‘ ØµÙŽÙ„ÙÙ‘ Ø¹ÙŽÙ„ÙŽÙ‰ Ù…ÙØ­ÙŽÙ…ÙŽÙ‘Ø¯Ù", target: 10 },
    
    // Morning
    { id: 'm_kursi', cat: 'morning', title: "Ayatul Kursi", ar: "Ù±Ù„Ù„ÙŽÙ‘Ù°Ù‡Ù Ù„ÙŽØ§ Ø¥ÙÙ„ÙŽÙ°Ù‡ÙŽ Ø¥ÙÙ„ÙŽÙ‘Ø§ Ù‡ÙÙˆÙŽ Ù±Ù„Ù’Ø­ÙŽÙŠÙÙ‘ Ù±Ù„Ù’Ù‚ÙŽÙŠÙÙ‘ÙˆÙ…Ù...", target: 1 },
    { id: 'm_ikhlas', cat: 'morning', title: "3 Quls (Ikhlas, Falaq, Nas)", ar: "Ù‚ÙÙ„Ù’ Ù‡ÙÙˆÙŽ Ù±Ù„Ù„ÙŽÙ‘Ù°Ù‡Ù Ø£ÙŽØ­ÙŽØ¯ÙŒ...", target: 3 },
    { id: 'm_subhan_bio', cat: 'morning', title: "SubhanAllahi wa bihamdihi", ar: "Ø³ÙØ¨Ù’Ø­ÙŽØ§Ù†ÙŽ Ø§Ù„Ù„ÙŽÙ‘Ù‡Ù ÙˆÙŽØ¨ÙØ­ÙŽÙ…Ù’Ø¯ÙÙ‡Ù", target: 100 },
    
    // Evening
    { id: 'e_kalimat', cat: 'evening', title: "Protection from Harm", ar: "Ø£ÙŽØ¹ÙÙˆØ°Ù Ø¨ÙÙƒÙŽÙ„ÙÙ…ÙŽØ§ØªÙ Ø§Ù„Ù„ÙŽÙ‘Ù‡Ù Ø§Ù„ØªÙŽÙ‘Ø§Ù…ÙŽÙ‘Ø§ØªÙ Ù…ÙÙ†Ù’ Ø´ÙŽØ±ÙÙ‘ Ù…ÙŽØ§ Ø®ÙŽÙ„ÙŽÙ‚ÙŽ", target: 3 },
    { id: 'e_radheetu', cat: 'evening', title: "Pleased with Allah", ar: "Ø±ÙŽØ¶ÙÙŠØªÙ Ø¨ÙØ§Ù„Ù„ÙŽÙ‘Ù‡Ù Ø±ÙŽØ¨Ù‹Ù‘Ø§ ÙˆÙŽØ¨ÙØ§Ù„Ù’Ø¥ÙØ³Ù’Ù„ÙŽØ§Ù…Ù Ø¯ÙÙŠÙ†Ù‹Ø§ ÙˆÙŽØ¨ÙÙ…ÙØ­ÙŽÙ…ÙŽÙ‘Ø¯Ù Ù†ÙŽØ¨ÙÙŠÙ‹Ù‘Ø§", target: 3 },
    
    // After Salah
    { id: 's_subhan', cat: 'salah', title: "SubhanAllah (Salah)", ar: "Ø³ÙØ¨Ù’Ø­ÙŽØ§Ù†ÙŽ Ù±Ù„Ù„ÙŽÙ‘Ù°Ù‡Ù", target: 33 },
    { id: 's_alham', cat: 'salah', title: "Alhamdulillah (Salah)", ar: "Ù±Ù„Ù’Ø­ÙŽÙ…Ù’Ø¯Ù Ù„ÙÙ„ÙŽÙ‘Ù°Ù‡Ù", target: 33 },
    { id: 's_allahu', cat: 'salah', title: "Allahu Akbar (Salah)", ar: "Ù±Ù„Ù„ÙŽÙ‘Ù°Ù‡Ù Ø£ÙŽÙƒÙ’Ø¨ÙŽØ±Ù", target: 33 },
    { id: 's_lailaha', cat: 'salah', title: "Final Dua", ar: "Ù„ÙŽØ§ Ø¥ÙÙ„ÙŽÙ‡ÙŽ Ø¥ÙÙ„ÙŽÙ‘Ø§ Ø§Ù„Ù„Ù‡Ù ÙˆÙŽØ­Ù’Ø¯ÙŽÙ‡Ù Ù„ÙŽØ§ Ø´ÙŽØ±ÙÙŠÙƒÙŽ Ù„ÙŽÙ‡Ù...", target: 1 }
];

let dhikrData = JSON.parse(localStorage.getItem('my_dhikr_list')) || defaultDhikr;

// Safety Check: If list is empty (first load glitch), force defaults
if(dhikrData.length === 0) dhikrData = defaultDhikr;

let activeFilter = 'all';

// 2. Initialize Dashboard
function initAdhkarGrid() {
    renderAdhkar(activeFilter);
}

/* --- UPDATED RENDER FUNCTION (With Delete Button) --- */
function renderAdhkar(filter) {
    const grid = document.getElementById('adhkar-grid');
    grid.innerHTML = '';
    
    dhikrData.forEach(item => {
        if (filter !== 'all' && item.cat !== filter) return;
        
        // Get Saved Count
        const current = parseInt(localStorage.getItem(`cnt_${item.id}`) || 0);
        const percent = Math.min((current / item.target) * 100, 100);
        const isDone = current >= item.target;
        
        // CHECK: Is this a custom card?
        const isCustom = item.id.toString().startsWith('custom_');

        const card = document.createElement('div');
        card.className = `dhikr-card ${isDone ? 'completed' : ''}`;
        card.style.setProperty('--progress', `${percent}%`);
        
        // Click to count (Tap anywhere except buttons)
        card.onclick = (e) => {
            if(e.target.closest('button')) return; // Ignore button clicks
            incrementCard(item.id, item.target);
        };

        card.innerHTML = `
            <div class="dhikr-header">
                <div>
                    <div class="dhikr-title">${item.title}</div>
                    <div class="dhikr-cat-tag">${item.cat}</div>
                </div>
                
                <div style="display:flex; gap: 5px;">
                    ${isCustom ? `
                    <button onclick="deleteCustomDhikr('${item.id}')" style="background:rgba(239, 68, 68, 0.2); border:none; width:35px; height:35px; border-radius:50%; color:#ef4444; cursor:pointer; display:flex; align-items:center; justify-content:center;">
                        <i class="fas fa-trash"></i>
                    </button>` : ''}

                    <button class="reset-dhikr-btn" onclick="resetCard('${item.id}')">
                        <i class="fas fa-redo-alt" style="font-size:0.8rem;"></i>
                    </button>
                </div>
            </div>
            
            <div class="dhikr-arabic">${item.ar}</div>
            
            <div class="dhikr-controls">
                <div>
                    <span class="dhikr-count" id="count-${item.id}">${current}</span>
                    <span class="dhikr-target">/ ${item.target}</span>
                </div>
                ${isDone ? '<i class="fas fa-check-circle" style="color:var(--brand-green); font-size:1.5rem;"></i>' : ''}
            </div>
        `;
        grid.appendChild(card);
    });
}
// 4. Increment Logic
function incrementCard(id, target) {
    let current = parseInt(localStorage.getItem(`cnt_${id}`) || 0);
    
    // Loop behavior: If done, don't stop, just keep going or loop? 
    // Let's allow over-counting but vibrate on targets
    current++;
    
    localStorage.setItem(`cnt_${id}`, current);
    
    // Haptics
    if (navigator.vibrate) {
        if (current === target) navigator.vibrate([50, 50, 50]); // Done
        else navigator.vibrate(10); // Tap
    }
    
    // Re-render ONLY this card to keep performance high (Partial Update)
    // Actually, simple re-render of whole grid is fast enough for this size
    // But for animations, let's just update DOM elements if possible.
    // For simplicity in this snippets, re-render is safest.
    renderAdhkar(activeFilter);
}

// 5. Reset Logic
function resetCard(id) {
    if(confirm("Reset this counter?")) {
        localStorage.setItem(`cnt_${id}`, 0);
        renderAdhkar(activeFilter);
    }
}

// 6. Filter Logic
function filterAdhkar(cat, btn) {
    activeFilter = cat;
    
    // Update Buttons
    document.querySelectorAll('.cat-btn').forEach(b => b.classList.remove('active'));
    btn.classList.add('active');
    
    renderAdhkar(cat);
}

/* --- ADD CUSTOM DHIKR (Persisted) --- */
function addCustomDhikr() {
    const title = prompt("Enter Name of Dhikr:");
    if(!title) return;
    const target = prompt("Enter Target Number:", "33");
    
    // Create new object
    const newDhikr = {
        id: 'custom_' + Date.now(),
        cat: 'general',
        title: title,
        ar: "Your Custom Dhikr", // You could ask for Arabic too if you want
        target: parseInt(target) || 33
    };

    // Add to list
    dhikrData.push(newDhikr);

    // SAVE TO STORAGE
    localStorage.setItem('my_dhikr_list', JSON.stringify(dhikrData));

    // Refresh UI
    renderAdhkar(activeFilter);
}

/* --- DELETE CUSTOM DHIKR (Persisted) --- */
function deleteCustomDhikr(id) {
    if(!confirm("Delete this Dhikr permanently?")) return;

    // Remove from array
    dhikrData = dhikrData.filter(item => item.id !== id);

    // SAVE TO STORAGE
    localStorage.setItem('my_dhikr_list', JSON.stringify(dhikrData));

    // Also clear the count from storage to keep it clean
    localStorage.removeItem(`cnt_${id}`);

    // Refresh UI
    renderAdhkar(activeFilter);
}

// Initialize
setTimeout(initAdhkarGrid, 100);
/* --- SCROLL INDICATOR LOGIC --- */

// 1. Function to scroll down smoothly
function scrollToGrid() {
    // Finds the heart check-in card or the grid
    const target = document.querySelector('.card'); 
    if(target) {
        target.scrollIntoView({ behavior: 'smooth', block: 'start' });
    }
}

// 2. Auto-hide the indicator when user scrolls
window.addEventListener('scroll', () => {
    const indicator = document.querySelector('.scroll-indicator');
    if (!indicator) return;

    // If user scrolls down more than 50px, hide the button
    if (window.scrollY > 50) {
        indicator.classList.add('hidden');
    } else {
        indicator.classList.remove('hidden');
    }
});
/* --- FEEDBACK LOGIC (Connects to your Email) --- */

function openThankYouModal() {
    const input = document.getElementById('feedback-input');
    const text = input.value.trim();

    if (!text) {
        alert("Please write a small suggestion first!");
        return;
    }

    // 1. CHANGE THIS URL to your Formspree URL (Get it from Step 1)
    const FORMSPREE_URL = "https://formspree.io/f/mwvkakbr"; 

    // Change button text to show loading
    const btn = document.querySelector('.card button.btn-action');
    const originalText = btn.innerHTML;
    btn.innerHTML = '<i class="fas fa-spinner fa-spin"></i> Sending...';
    btn.disabled = true;

    // 2. Send Data to Formspree via 'fetch' (AJAX)
    fetch(FORMSPREE_URL, {
        method: 'POST',
        headers: {
            'Accept': 'application/json',
            'Content-Type': 'application/json'
        },
        body: JSON.stringify({ 
            message: text,
            date: new Date().toLocaleDateString() + ' ' + new Date().toLocaleTimeString(),
            app_version: 'Daily Deen v1.0'
        })
    })
    .then(response => {
        if (response.ok) {
            // Success! Show the Thank You Modal
            input.value = ""; // Clear the box
            const modal = document.getElementById('thank-you-modal');
            modal.classList.add('show');
        } else {
            // Something went wrong
            alert("Oops! There was a problem sending your feedback.");
        }
    })
    .catch(error => {
        alert("Oops! There was a problem sending your feedback.");
    })
    .finally(() => {
        // Reset the button
        btn.innerHTML = originalText;
        btn.disabled = false;
    });
}


/* --- SAY AMEEN BUTTON LOGIC --- */
function sayAmeen(btn) {
    // 1. Visual Change
    btn.innerHTML = '<i class="fas fa-check"></i> Ameen';
    btn.style.background = 'var(--brand-gold)';
    btn.style.color = '#000';
    btn.style.boxShadow = '0 0 20px var(--brand-gold-glow)';
    btn.style.transform = 'scale(1.05)';
    btn.disabled = true; // Prevent multiple clicks

    // 2. Haptic Feedback (Mobile)
    if(navigator.vibrate) navigator.vibrate([50, 50, 50]);

    // 3. Show Thank You Message
    const msg = document.getElementById('ameen-count');
    msg.style.opacity = '1';
    msg.style.transform = 'translateY(-5px)';

    // 4. (Optional) You could actually save this count to a database later
    // For now, we save it locally so it stays "Clicked" for the user
    localStorage.setItem('ameen_clicked', 'true');
}

// Check if already clicked on load
if(localStorage.getItem('ameen_clicked') === 'true') {
    const btn = document.getElementById('ameen-btn');
    if(btn) {
        btn.innerHTML = '<i class="fas fa-check"></i> Ameen';
        btn.style.background = 'rgba(251, 191, 36, 0.2)'; // Softer gold for past click
        btn.style.color = 'var(--brand-gold)';
        btn.disabled = true;
    }
}
/* --- SAY AMEEN LOGIC (Global Fix) --- */
window.sayAmeen = function(btn) {
    // 1. Change the Button Look
    btn.innerHTML = '<i class="fas fa-check"></i> Ameen';
    btn.style.background = 'var(--brand-gold)';
    btn.style.color = '#000';
    btn.style.boxShadow = '0 0 20px var(--brand-gold-glow)';
    btn.style.transform = 'scale(1.05)';
    btn.disabled = true; // Stop double clicks

    // 2. Show the Thank You Message
    const msg = document.getElementById('ameen-msg');
    if(msg) {
        msg.style.opacity = '1';
        msg.style.transform = 'translateY(-5px)';
    }

    // 3. Vibrate on Mobile
    if(navigator.vibrate) navigator.vibrate([50, 50, 50]);

    // 4. Remember the click
    localStorage.setItem('ameen_clicked', 'true');
};

// Check on page load if they already clicked it
document.addEventListener('DOMContentLoaded', function() {
    if(localStorage.getItem('ameen_clicked') === 'true') {
        const btn = document.getElementById('ameen-btn');
        if(btn) {
            btn.innerHTML = '<i class="fas fa-check"></i> Ameen';
            btn.style.background = 'rgba(251, 191, 36, 0.2)'; 
            btn.style.color = 'var(--brand-gold)';
            btn.style.borderColor = 'transparent';
            btn.disabled = true;
        }
    }
});


/* --- CINEMATIC ANIMATION ENGINE --- */
document.addEventListener('DOMContentLoaded', () => {
    // 1. Activate Smooth Scroll (Lenis)
    const lenis = new Lenis({ duration: 1.2, easing: (t) => Math.min(1, 1.001 - Math.pow(2, -10 * t)), smooth: true });
    function raf(time) { lenis.raf(time); requestAnimationFrame(raf); }
    requestAnimationFrame(raf);

    // 2. Activate Animations (GSAP)
    gsap.registerPlugin(ScrollTrigger);

    // Animate Header Text (Splits words)
    document.querySelectorAll('.hero-arabic, .greeting').forEach(text => {
        const type = new SplitType(text, { types: 'words, chars' });
        gsap.from(type.words, {
            scrollTrigger: { trigger: text, start: "top 90%" },
            y: '100%', opacity: 0, duration: 0.8, ease: "power3.out", stagger: 0.03
        });
    });

    // Animate Cards (Slide Up)
    const items = document.querySelectorAll('.card:not(.swipe-card), .horizontal-scroll');
    items.forEach((item) => {
        gsap.fromTo(item, 
            { y: 50, opacity: 0 },
            {
                scrollTrigger: { trigger: item, start: "top 90%" },
                y: 0, opacity: 1, duration: 0.8, ease: "power2.out"
            }
        );
    });
});

// 5. Info Hub Tab Switching
function switchInfoTab(id, btn) {
    document.querySelectorAll('.info-tab-content').forEach(c => c.classList.remove('active'));
    document.querySelectorAll('.info-nav-btn').forEach(b => b.classList.remove('active'));
    
    document.getElementById(id).classList.add('active');
    btn.classList.add('active');
}
function renderFavoritesList() {
    const listContainer = document.getElementById('favorites-list-container');
    const favorites = JSON.parse(localStorage.getItem('fav_verses') || "[]");

    if (favorites.length === 0) {
        listContainer.innerHTML = '<p style="text-align:center; color:var(--text-secondary); font-size:0.85rem;">No favorite verses yet.</p>';
        return;
    }

    listContainer.innerHTML = favorites.map(fav => `
        <div style="display:flex; justify-content:space-between; align-items:center; padding:10px; border-bottom:1px solid var(--border);">
            <span style="font-size:0.9rem; color:var(--text-primary); cursor:pointer;" onclick="readSurahByID(${fav.id})">
                ${fav.ref}
            </span>
            <button onclick="toggleFavorite(${fav.id}, '${fav.ref}')" style="background:none; border:none; color:var(--brand-gold); cursor:pointer;">
                <i class="fas fa-trash-alt"></i>
            </button>
        </div>
    `).join('');
}

// Call this once on load
document.addEventListener('DOMContentLoaded', renderFavoritesList);
/* --- INFO HUB: TAB SWITCHER --- */
function switchInfoTab(tabId, btn) {
    // 1. Hide all content divs
    document.querySelectorAll('.info-tab-content').forEach(content => {
        content.classList.remove('active');
        content.style.display = 'none';
    });

    // 2. Remove active class from all info buttons
    document.querySelectorAll('.info-nav-btn').forEach(b => b.classList.remove('active'));

    // 3. Show the selected content and activate button
    const targetContent = document.getElementById(tabId);
    if(targetContent) {
        targetContent.style.display = 'block';
        targetContent.classList.add('active');
    }
    btn.classList.add('active');
}

/* --- COMMUNITY: FORMSPREE SUBMISSION --- */
async function submitToFormspree() {
    const input = document.getElementById('contribution-input');
    const btn = document.getElementById('submit-contrib-btn');
    const suggestion = input.value.trim();
    
    if(!suggestion) {
        showToast("Please enter a suggestion first!");
        return;
    }

    // Visual feedback: Loading state
    const originalHTML = btn.innerHTML;
    btn.innerHTML = '<i class="fas fa-spinner fa-spin"></i> Sending...';
    btn.disabled = true;

    try {
        const response = await fetch("https://formspree.io/f/mgooegzn", {
            method: "POST",
            headers: { "Accept": "application/json", "Content-Type": "application/json" },
            body: JSON.stringify({ 
                type: "Contribution",
                message: suggestion,
                timestamp: new Date().toLocaleString()
            })
        });

        if (response.ok) {
            showToast("JazakAllah Khair! Submitted successfully.");
            input.value = ""; // Clear the box
        } else {
            throw new Error("Submission failed");
        }
    } catch (error) {
        showToast("Oops! There was an error. Try again later.");
    } finally {
        // Reset button
        btn.innerHTML = originalHTML;
        btn.disabled = false;
    }
}
function playAudio(src, title) {
    const audio = document.getElementById("serenity-audio");
    const source = audio.querySelector("source");

    source.src = src;
    audio.load();
    audio.play();

    document.getElementById("audio-title").textContent = title;
}

/* --- GAME-STYLE TUTORIAL SYSTEM --- */

let currentStep = 0;

// Define the steps of your tour
const tutorialSteps = [
    {
        // Step 1: Home
        target: '.nav-btn[onclick*="home"]', 
        tab: 'home',
        title: "Home Screen",
        text: "Start here. You can check your Prayer Times, read the Daily Verse, Daily hadith, Daily Reminder, Track your missed Prayers and Reflect on your journey and mark your daily tasks."
    },
    {
        // Step 2: Qibla
        target: '.nav-btn[onclick*="qibla"]', 
        tab: 'qibla',
        title: "Qibla Finder",
        text: "Need to know where to pray? This shows you exactly which way to face for the Kaaba."
    },
    {
        // Step 3: Quran
        target: '.nav-btn[onclick*="quran"]', 
        tab: 'quran',
        title: "The Quran",
        text: "Read all 114 chapters here. We included English translations and transliterations so it is easy to understand and recite ."
    },
    {
        // Step 4: Adhkar
        target: '.nav-btn[onclick*="adhkar"]', 
        tab: 'adhkar',
        title: "Digital Counter",
        text: "Count your Dhikr easily. You can use the buttons to count, or add your own personal prayers."
    },
    {
        // Step 5: Serenity
        target: '.nav-btn[onclick*="serenity"]', 
        tab: 'serenity',
        title: "Relax & Peace",
        text: "A quiet place to rest your mind. Listen to peaceful sounds and take a break from the noise."
    },
    {
        // Step 6: Info & Library
        target: '.nav-btn[onclick*="info"]', 
        tab: 'info',
        title: "Useful Info",
        text: "Learn more about this app, contact us, or find helpful links and tools such as zakat calculator and many more for your Islamic journey we also added a new to islam corner where you can find useful resources and websites to start your journey of deen!."
    },
    {
        // Step 7: Settings
        target: '.nav-btn[onclick*="settings"]', 
        tab: 'settings',
        title: "Settings",
        text: "Change your City for prayer times, Change your Prayer time Calculation Method so that it matches with your local Mosque,  make the text bigger, Reset your Tutorial, or look at your Saved Verses here."
    }
];
function startTutorial() {
    currentStep = 0;
    document.getElementById('tutorial-overlay').style.display = 'block';
    document.getElementById('tutorial-box').style.display = 'block';
    showStep(0);
}

function showStep(index) {
    // 1. Clear previous highlights
    document.querySelectorAll('.tutorial-spotlight').forEach(el => el.classList.remove('tutorial-spotlight'));

    if (index >= tutorialSteps.length) {
        endTutorial();
        return;
    }

    const step = tutorialSteps[index];

    // 2. SWITCH THE TAB (Take user there)
    if (step.tab) {
        // We find the button that switches this tab and click it logically
        const btn = document.querySelector(`.nav-btn[onclick*="${step.tab}"]`);
        if(btn) switchTab(step.tab, btn);
    }

    // 3. Highlight the Target Button
    const targetEl = document.querySelector(step.target);
    if (targetEl) {
        targetEl.classList.add('tutorial-spotlight');
        
        // 4. Move the Box near the element
        const rect = targetEl.getBoundingClientRect();
        const box = document.getElementById('tutorial-box');
        
        // Simple logic: Place box above or below the button based on screen space
        // If on mobile (bottom nav), place box ABOVE. If desktop (top nav), place BELOW.
        if (window.innerWidth < 768) {
            // Mobile: Box goes above button
            box.style.bottom = (window.innerHeight - rect.top + 20) + 'px';
            box.style.top = 'auto';
            box.style.left = '50%';
            box.style.transform = 'translateX(-50%)';
        } else {
            // Desktop: Box goes below button
            box.style.top = (rect.bottom + 20) + 'px';
            box.style.bottom = 'auto';
            box.style.left = (rect.left) + 'px';
            box.style.transform = 'translateX(0)';
        }
    }

    // 5. Update Text
    document.getElementById('tut-title').innerText = step.title;
    document.getElementById('tut-text').innerText = step.text;
    document.getElementById('tut-step').innerText = index + 1;
}

function nextTutorialStep() {
    currentStep++;
    showStep(currentStep);
}

function endTutorial() {
    document.getElementById('tutorial-overlay').style.display = 'none';
    document.getElementById('tutorial-box').style.display = 'none';
    document.querySelectorAll('.tutorial-spotlight').forEach(el => el.classList.remove('tutorial-spotlight'));
    
    // Optional: Save that they finished it
    localStorage.setItem('tutorial_done', 'true');
    
    // Go back home
    switchTab('home', document.querySelector('.nav-btn[onclick*="home"]'));
}

/* --- ULTIMATE AUDIO DATABASE (Dosari Special + Legends + Nasheeds) --- */
/* --- ULTIMATE AUDIO DATABASE (30+ Tracks) --- */
/* ============================================================
   ULTIMATE SERENITY LIBRARY (50+ Tracks - Mac Certified)
   ============================================================ */

const audioTracks = [
    // ============================================================
    // 1. THE YASSER AL-DOSARI COLLECTION (20+ Tracks)
    // ============================================================
    { title: "Surah Al-Fatiha", category: "quran", src: "https://server11.mp3quran.net/yasser/001.mp3", meta: "Yasser Al-Dosari â€¢ The Opening" },
    { title: "Surah Al-Kahf", category: "quran", src: "https://server11.mp3quran.net/yasser/018.mp3", meta: "Yasser Al-Dosari â€¢ Friday Light" },
    { title: "Surah Maryam", category: "quran", src: "https://server11.mp3quran.net/yasser/019.mp3", meta: "Yasser Al-Dosari â€¢ Emotional" },
    { title: "Surah Ta-Ha", category: "quran", src: "https://server11.mp3quran.net/yasser/020.mp3", meta: "Yasser Al-Dosari â€¢ Powerful" },
    { title: "Surah Yasin", category: "quran", src: "https://server11.mp3quran.net/yasser/036.mp3", meta: "Yasser Al-Dosari â€¢ Heart of Quran" },
    { title: "Surah Qaf", category: "quran", src: "https://server11.mp3quran.net/yasser/050.mp3", meta: "Yasser Al-Dosari â€¢ Reminder" },
    { title: "Surah Ar-Rahman", category: "quran", src: "https://server11.mp3quran.net/yasser/055.mp3", meta: "Yasser Al-Dosari â€¢ The Merciful" },
    { title: "Surah Al-Waqiah", category: "quran", src: "https://server11.mp3quran.net/yasser/056.mp3", meta: "Yasser Al-Dosari â€¢ Provision" },
    { title: "Surah Al-Mulk", category: "quran", src: "https://server11.mp3quran.net/yasser/067.mp3", meta: "Yasser Al-Dosari â€¢ Protection" },
    { title: "Surah Al-Jinn", category: "quran", src: "https://server11.mp3quran.net/yasser/072.mp3", meta: "Yasser Al-Dosari â€¢ Awe Inspiring" },
    { title: "Surah Al-Qiyamah", category: "quran", src: "https://server11.mp3quran.net/yasser/075.mp3", meta: "Yasser Al-Dosari â€¢ Day of Rising" },
    { title: "Surah Al-Insan", category: "quran", src: "https://server11.mp3quran.net/yasser/076.mp3", meta: "Yasser Al-Dosari â€¢ Soft" },
    { title: "Surah An-Naba", category: "quran", src: "https://server11.mp3quran.net/yasser/078.mp3", meta: "Yasser Al-Dosari â€¢ The News" },
    { title: "Surah An-Naziat", category: "quran", src: "https://server11.mp3quran.net/yasser/079.mp3", meta: "Yasser Al-Dosari â€¢ Soul Taking" },
    { title: "Surah Al-Buruj", category: "quran", src: "https://server11.mp3quran.net/yasser/085.mp3", meta: "Yasser Al-Dosari â€¢ The Stars" },
    { title: "Surah Al-A'la", category: "quran", src: "https://server11.mp3quran.net/yasser/087.mp3", meta: "Yasser Al-Dosari â€¢ Most High" },
    { title: "Surah Al-Fajr", category: "quran", src: "https://server11.mp3quran.net/yasser/089.mp3", meta: "Yasser Al-Dosari â€¢ Dawn" },
    { title: "Surah Ad-Duha", category: "quran", src: "https://server11.mp3quran.net/yasser/093.mp3", meta: "Yasser Al-Dosari â€¢ Morning Light" },
    { title: "Surah Ash-Sharh", category: "quran", src: "https://server11.mp3quran.net/yasser/094.mp3", meta: "Yasser Al-Dosari â€¢ Ease" },
    { title: "Surah Al-Qadr", category: "quran", src: "https://server11.mp3quran.net/yasser/097.mp3", meta: "Yasser Al-Dosari â€¢ Power Night" },
    { title: "Surah Al-Mulk (Short Clip)", category: "quran", src: "https://server11.mp3quran.net/yasser/112.mp3", meta: "Yasser Al-Dosari â€¢ Ikhlas" },
    { title: "3 Quls (Protection)", category: "quran", src: "https://server11.mp3quran.net/yasser/113.mp3", meta: "Yasser Al-Dosari â€¢ Falaq/Nas" },

    // ============================================================
    // 2. NASHEED LIBRARY (Vocals Only - Mac Friendly)
    // ============================================================
   

    // ============================================================
    // 3. WORLD LEGENDS (The Classics)
    // ============================================================
    { title: "Ayatul Kursi", category: "quran", src: "https://server8.mp3quran.net/afs/002255.mp3", meta: "Mishary Alafasy â€¢ Focus" },
    { title: "Surah Al-Baqarah", category: "quran", src: "https://server11.mp3quran.net/sds/002.mp3", meta: "Sudais â€¢ Makkah" },
    { title: "Surah Yasin", category: "quran", src: "https://server12.mp3quran.net/maher/036.mp3", meta: "Maher Al Muaiqly" },
    { title: "Surah Yusuf", category: "quran", src: "https://server10.mp3quran.net/ajm/012.mp3", meta: "Ahmed Al-Ajmi" },
    { title: "Surah Maryam", category: "quran", src: "https://server6.mp3quran.net/qtm/019.mp3", meta: "Nasser Al Qatami" },

    // ============================================================
    // 4. NATURE (Mac Friendly MP3s)
    ];

let currentPlaylist = audioTracks; 
let currentTrackIndex = -1;
let isLooping = false;
const audioPlayer = document.getElementById('main-audio');

// 3. INITIALIZE
function initPlaylist() {
    filterPlaylist('all'); 
    
    // SMART LOOP HANDLER
    audioPlayer.addEventListener('ended', () => {
        if(isLooping) {
            audioPlayer.currentTime = 0;
            audioPlayer.play();
        } else {
            playNextTrack();
        }
    });
}

// 4. PLAY TRACK (Fixed for Mac/iPhone)
function playTrack(track) {
    // Find exact index in the MASTER list (audioTracks)
    currentTrackIndex = audioTracks.findIndex(t => t.src === track.src);
    
    document.getElementById('player-title').innerText = track.title;
    document.getElementById('player-category').innerText = track.meta;
    
    audioPlayer.src = track.src;
    audioPlayer.load(); // Forces Mac to refresh time
    audioPlayer.play();

    // Re-render list to show active gold border
    renderPlaylistItems(currentPlaylist);
}

// 5. RENDER LIST
function renderPlaylistItems(tracks) {
    const container = document.getElementById('playlist-container');
    container.innerHTML = '';

    if(tracks.length === 0) {
        container.innerHTML = '<p style="padding:20px; color:var(--text-secondary); text-align:center;">No tracks found.</p>';
        return;
    }

    tracks.forEach((track) => {
        // Check if this specific track is currently playing
        // We compare source URLs to be safe
        const isPlaying = (currentTrackIndex !== -1 && audioTracks[currentTrackIndex].src === track.src);
        
        let icon = 'fa-play-circle';
        if(track.category === 'nature') icon = 'fa-cloud-rain';
        if(track.category === 'quran') icon = 'fa-book-open';
        if(track.category === 'nasheed') icon = 'fa-music';

        const div = document.createElement('div');
        div.className = `track-item ${isPlaying ? 'playing' : ''}`;
        div.onclick = () => playTrack(track); 
        
        div.innerHTML = `
            <i class="fas ${icon} track-icon"></i>
            <div class="track-info">
                <span class="track-name">${track.title}</span>
                <span class="track-meta">${track.meta}</span>
            </div>
            ${isPlaying ? '<i class="fas fa-volume-up" style="color:var(--brand-gold)"></i>' : ''}
        `;
        container.appendChild(div);
    });
}

// 6. FILTER LOGIC
function filterPlaylist(category) {
    // Update Tabs
    document.querySelectorAll('.playlist-tab').forEach(btn => btn.classList.remove('active'));
    const activeTab = document.getElementById(`tab-${category}`);
    if(activeTab) activeTab.classList.add('active');

    // Filter Data
    if(category === 'all') {
        currentPlaylist = audioTracks;
    } else {
        currentPlaylist = audioTracks.filter(t => t.category === category);
    }
    
    renderPlaylistItems(currentPlaylist);
}

// 7. CONTROLS & NAVIGATION
function toggleLoop() {
    isLooping = !isLooping;
    const btn = document.getElementById('loop-btn');

    if(isLooping) {
        btn.classList.add('active');
        btn.innerHTML = '<i class="fas fa-repeat"></i><span style="font-size:0.6rem; margin-left:2px; font-weight:bold;">1</span>';
    } else {
        btn.classList.remove('active');
        btn.innerHTML = '<i class="fas fa-repeat"></i>';
    }
}

function playPreviousTrack() {
    if(currentTrackIndex > 0) {
        playTrack(audioTracks[currentTrackIndex - 1]);
    } else {
        playTrack(audioTracks[audioTracks.length - 1]); // Loop to end
    }
}

function playNextTrack() {
    if(currentTrackIndex < audioTracks.length - 1) {
        playTrack(audioTracks[currentTrackIndex + 1]);
    } else {
        playTrack(audioTracks[0]); // Loop to start
    }
}

// Start Engine
document.addEventListener('DOMContentLoaded', initPlaylist);    

/* --- BREATHING FOOTER ENGINE --- */
const footerDuas = [
    "O Allah, help our brothers and sisters in Palestine. Keep them safe and give them victory.",
    "O Allah, You are the Healer. Please cure everyone who is in pain today.",
    "O Allah, forgive those who have passed away. Fill their graves with light.",
    "O Allah, fix our broken hearts. Replace our sadness with peace.",
    "O Allah, feed the hungry and give homes to the homeless everywhere.",
    "O Allah, forgive all my mistakes, the big ones and the small ones.",
    "O Allah, guide us to the straight path and keep us steadfast."
];

let footerIndex = 0;

function rotateFooterDua() {
    const el = document.getElementById('footer-dua-text');
    if(!el) return;

    // 1. Fade Out
    el.classList.add('fade-out');

    // 2. Change Text (Wait 1 second for fade to finish)
    setTimeout(() => {
        footerIndex = (footerIndex + 1) % footerDuas.length;
        
        // Wrap "O Allah" in gold styling
        const rawText = footerDuas[footerIndex];
        const styledText = rawText.replace("O Allah", "<span class='highlight-gold'>O Allah</span>");
        
        el.innerHTML = styledText;

        // 3. Fade In
        el.classList.remove('fade-out');
    }, 1000);
}

// Start the rotation (Every 6 seconds)
document.addEventListener('DOMContentLoaded', () => {
    setInterval(rotateFooterDua, 6000);
});

/* --- MISSING MODAL CLOSE LOGIC --- */

function closeThankYouModal() {
    const modal = document.getElementById('thank-you-modal');
    if (modal) {
        modal.classList.remove('show');
    }
}

// BONUS: Close modal when clicking the dark background
window.onclick = function(event) {
    const modal = document.getElementById('thank-you-modal');
    const tutorial = document.getElementById('tutorial-overlay');
    
    // Close Thank You Modal
    if (event.target == modal) {
        closeThankYouModal();
    }
    
    // Close Tutorial if clicking background (Optional convenience)
    if (event.target == tutorial) {
        endTutorial();
    }
}

/* =========================================
   NEW FEATURES ENGINE: PROMPTS, HEATMAP, SHARING
   ========================================= */

// --- 1. GUIDED REFLECTION PROMPTS ---
const reflectionPrompts = [
    "What is one blessing you often take for granted?",
    "Who is someone you need to forgive today, for the sake of Allah?",
    "What is a fear you want to hand over to Allah?",
    "If you could ask the Prophet ï·º one question, what would it be?",
    "What is one bad habit you want to replace with a Sunnah?",
    "How can you be a better family member today?",
    "What is one verse that touched your heart recently?",
    "Recall a time Allah answered a Dua you made.",
    "What does 'Success' look like to you in the Akhirah?",
    "If today was your last day, what would you regret not doing?"
];

function loadReflectionPrompt() {
    // Pick prompt based on Day of Year (so it stays same for 24h)
    const date = new Date();
    const dayOfYear = Math.floor((date - new Date(date.getFullYear(), 0, 0)) / 1000 / 60 / 60 / 24);
    const index = dayOfYear % reflectionPrompts.length;
    
    const el = document.getElementById('reflection-prompt');
    if(el) el.innerText = "Today's Prompt: " + reflectionPrompts[index];
}

// --- 2. HABIT CONSISTENCY HEATMAP ---
function updateHeatmap() {
    const container = document.getElementById('habit-heatmap');
    if(!container) return;
    
    container.innerHTML = '';
    const history = JSON.parse(localStorage.getItem('habit_history') || "{}");
    const todayStr = new Date().toDateString();

    // Generate last 30 days
    for (let i = 29; i >= 0; i--) {
        const d = new Date();
        d.setDate(d.getDate() - i);
        const dateKey = d.toDateString();
        
        const box = document.createElement('div');
        box.className = 'heat-box';
        
        // If it's recorded in history as 'true' (completed)
        if (history[dateKey]) {
            box.classList.add('active');
        }
        
        // Tooltip for date
        box.title = dateKey;
        container.appendChild(box);
    }
}

// Hook into existing checklist logic
// UPDATE your existing 'initChecklist' click handler to call this:
function checkHabitCompletion() {
    // 1. Check if all items are checked
    const totalItems = document.querySelectorAll('.check-item').length;
    const checkedItems = document.querySelectorAll('.check-item.checked').length;
    
    const todayStr = new Date().toDateString();
    let history = JSON.parse(localStorage.getItem('habit_history') || "{}");

    if (totalItems > 0 && totalItems === checkedItems) {
        history[todayStr] = true;
    } else {
        delete history[todayStr]; // Remove if they uncheck something
    }
    
    localStorage.setItem('habit_history', JSON.stringify(history));
    updateHeatmap(); // Refresh visual
}

// --- 3. SHAREABLE VERSE CARDS ---
// --- 3. SMART SOCIAL SHARING (Native Sheet) ---
function shareVerseImage() {
    // 1. Get Data
    const arText = document.getElementById('verse-ar').innerText;
    const enText = document.getElementById('verse-en').innerText;
    const refText = document.getElementById('verse-ref').innerText;

    // 2. Fill Template (Hidden)
    document.getElementById('share-card-ar').innerText = arText;
    document.getElementById('share-card-en').innerText = enText;
    document.getElementById('share-card-ref').innerText = refText;

    const template = document.getElementById('share-card-template');
    
    // Show Toast
    if(typeof showToast === 'function') showToast("Preparing image...");

    // 3. Generate Canvas
    html2canvas(template, { scale: 2, useCORS: true }).then(canvas => {
        
        // Convert Canvas to a "Blob" (Real File)
        canvas.toBlob(async (blob) => {
            const file = new File([blob], "DailyDeen_Verse.png", { type: "image/png" });

            // 4. CHECK: Can we share directly? (Mobile Feature)
            if (navigator.share && navigator.canShare && navigator.canShare({ files: [file] })) {
                try {
                    await navigator.share({
                        files: [file],
                        title: 'Daily Deen Verse',
                        text: 'Read this beautiful verse from Daily Deen.'
                    });
                    if(typeof showToast === 'function') showToast("Shared successfully!");
                } catch (err) {
                    console.log("Share cancelled or failed", err);
                }
            } else {
                // 5. FALLBACK: Desktop or incompatible browser -> Download it
                const link = document.createElement('a');
                link.download = 'DailyDeen_Verse.png';
                link.href = canvas.toDataURL("image/png");
                link.click();
                if(typeof showToast === 'function') showToast("Image downloaded (Sharing not supported on this device)");
            }
        });
    });
}

// --- INITIALIZE ALL ---
document.addEventListener('DOMContentLoaded', () => {
    loadReflectionPrompt();
    updateHeatmap();
    
    // Attach habit checker to clicks
    document.getElementById('sunnah-list').addEventListener('click', () => {
        setTimeout(checkHabitCompletion, 100);
    });
});

/* =========================================
   5-FEATURE UPGRADE ENGINE
   ========================================= */

// --- 1. ZAKAT CALCULATOR ---
function calcZakat() {
    const cash = parseFloat(document.getElementById('zak-cash').value) || 0;
    const gold = parseFloat(document.getElementById('zak-gold').value) || 0;
    const silver = parseFloat(document.getElementById('zak-silver').value) || 0;
    
    const totalAssets = cash + gold + silver;
    const zakatDue = totalAssets * 0.025;
    
    const resBox = document.getElementById('zak-result');
    resBox.style.display = 'block';
    
    // Format currency nicely
    const format = (num) => num.toLocaleString(undefined, {minimumFractionDigits: 2, maximumFractionDigits: 2});
    
    resBox.innerHTML = `
        Total Assets: <span style="font-weight:400">${format(totalAssets)}</span><br>
        <span style="font-size:1.2rem; display:block; margin-top:5px;">You Owe: ${format(zakatDue)}</span>
    `;
}

// --- 2. QURAN KHATAM PLANNER ---
function calcKhatam() {
    const days = parseInt(document.getElementById('khatam-days').value);
    const res = document.getElementById('khatam-result');
    
    if(!days || days <= 0) {
        alert("Please enter a valid number of days.");
        return;
    }
    
    const totalPages = 604;
    const pagesPerDay = Math.ceil(totalPages / days);
    
    res.style.display = 'block';
    document.getElementById('khatam-pages').innerText = pagesPerDay;
}

// --- 3. SLEEP SUNNAH MODE ---
function toggleSleepMode() {
    document.body.classList.toggle('sleep-mode');
    const isActive = document.body.classList.contains('sleep-mode');
    
    if(isActive) {
        // 1. Play Surah Al-Mulk (Protection from Grave)
        // Find the Mulk track in your audio list
        const mulkTrack = audioTracks.find(t => t.title.includes("Mulk"));
        if(mulkTrack) playTrack(mulkTrack);
        
        // 2. Show Toast
        if(typeof showToast === 'function') showToast("Sleep Mode: On. Reciting Mulk.");
    } else {
        // Stop Audio
        const audio = document.getElementById('main-audio');
        if(audio) audio.pause();
    }
}

// --- 4. TAZKIYAH (CHARACTER) CHALLENGE ---
const tazkiyahThemes = [
    { title: "Anger Management", desc: "The strong is not the one who wrestles, but the one who controls himself in anger.", task: "Do not raise your voice today." },
    { title: "Generosity", desc: "Charity does not decrease wealth.", task: "Give something away today (money or food)." },
    { title: "Truthfulness", desc: "Truth leads to piety, and piety leads to Paradise.", task: "Do not tell a single lie, even jokingly." },
    { title: "Kindness to Parents", desc: "Paradise lies beneath their feet.", task: "Kiss your mother/father's hand or call them." },
    { title: "Gheebah (Backbiting)", desc: "Would you like to eat the flesh of your dead brother?", task: "Do not speak about anyone behind their back." }
];

function initTazkiyah() {
    // Determine week number of the year
    const now = new Date();
    const start = new Date(now.getFullYear(), 0, 0);
    const diff = now - start;
    const oneWeek = 1000 * 60 * 60 * 24 * 7;
    const weekNum = Math.floor(diff / oneWeek);
    
    // Cycle through themes
    const theme = tazkiyahThemes[weekNum % tazkiyahThemes.length];
    
    const titleEl = document.getElementById('tazkiyah-title');
    if(titleEl) {
        document.getElementById('tazkiyah-week').innerText = (weekNum % tazkiyahThemes.length) + 1;
        titleEl.innerText = theme.title;
        document.getElementById('tazkiyah-desc').innerText = theme.desc;
        document.getElementById('tazkiyah-task').innerText = theme.task;
    }
}

// --- 5. QADA (MISSED PRAYER) TRACKER ---
const prayers = ['Fajr', 'Dhuhr', 'Asr', 'Maghrib', 'Isha'];

function initQadaTracker() {
    const grid = document.querySelector('.qada-grid');
    if(!grid) return;
    grid.innerHTML = '';
    
    prayers.forEach(p => {
        const count = localStorage.getItem(`qada_${p}`) || 0;
        const div = document.createElement('div');
        div.className = 'qada-item';
        div.innerHTML = `
            <span style="font-size:0.8rem; color:var(--text-secondary)">${p}</span>
            <span id="qada-val-${p}" class="qada-count">${count}</span>
            <div>
                <button class="qada-btn qada-minus-btn" style="background:var(--brand-green); color:#000;" onclick="modQada('${p}', -1)">-</button>
                <button class="qada-btn qada-plus-btn" style="background:rgba(255,255,255,0.1);" onclick="modQada('${p}', 1)">+</button>
            </div>
        `;
        grid.appendChild(div);
    });
}

function modQada(prayer, val) {
    const key = `qada_${prayer}`;
    let current = parseInt(localStorage.getItem(key) || 0);
    current += val;
    if(current < 0) current = 0;
    
    localStorage.setItem(key, current);
    document.getElementById(`qada-val-${prayer}`).innerText = current;
    
    if(val < 0 && navigator.vibrate) navigator.vibrate(50); // Haptic feedback on completion
}

// --- INITIALIZE ALL NEW FEATURES ---
document.addEventListener('DOMContentLoaded', () => {
    initTazkiyah();
    initQadaTracker();
});

function findMosques() {
    // Uses Google Maps Query
    window.open('https://www.google.com/maps/search/mosques+near+me', '_blank');

}

function updateCalcMethod() {
    const method = document.getElementById('calc-method').value;
    localStorage.setItem('prayerMethod', method);
    alert("Method updated to " + method + ". Please refresh to recalculate times.");
    // In a real app, we would reload the adhan.js params here
    location.reload(); 
}

// Ensure dropdown shows saved value on load
const savedMethod = localStorage.getItem('prayerMethod') || "MWL";
const methodDropdown = document.getElementById('calc-method');
if(methodDropdown) methodDropdown.value = savedMethod;

/* --- SMART PRAYER CALCULATOR (Uses Your Settings) --- */
function getPrayerTimes(lat, lng) {
    if (!lat || !lng) return null;

    const coordinates = new adhan.Coordinates(lat, lng);
    const date = new Date();
    
    // 1. GET USER'S SAVED METHOD (Default to Muslim World League if missing)
    const savedMethod = localStorage.getItem('prayerMethod') || "MWL";
    let params;

    // 2. CHOOSE THE RIGHT FORMULA
    switch(savedMethod) {
        case "ISNA": 
            params = adhan.CalculationMethod.NorthAmerica(); 
            break;
        case "Egypt": 
            params = adhan.CalculationMethod.Egyptian(); 
            break;
        case "Karachi": 
            params = adhan.CalculationMethod.Karachi(); 
            break;
        case "Makkah": 
            params = adhan.CalculationMethod.UmmAlQura(); 
            break;
        case "Tehran": 
            params = adhan.CalculationMethod.Tehran(); 
            break;
        case "Singapore": 
            params = adhan.CalculationMethod.Singapore(); 
            break;
        case "Turkey": 
            params = adhan.CalculationMethod.Turkey(); 
            break;
        default: 
            params = adhan.CalculationMethod.MuslimWorldLeague(); // Standard Global
    }

    // Optional: Adjust for Hanafi (Asr is later)
    // You can add a checkbox for this later if you want
    // params.madhab = adhan.Madhab.Hanafi;

    return new adhan.PrayerTimes(coordinates, date, params);
}

/* --- SMART INSTALL LOGIC (Handles iPhone/Safari) --- */
let deferredPrompt;
const installBtn = document.getElementById('install-btn');

// 1. Listen for the install event (Chrome/Android only)
window.addEventListener('beforeinstallprompt', (e) => {
    e.preventDefault();
    deferredPrompt = e;
    if(installBtn) {
        installBtn.style.display = 'block'; // Show button if browser supports it
        installBtn.innerHTML = '<i class="fas fa-download"></i> Install App';
    }
});

// 2. Handle Click
if(installBtn) {
    installBtn.addEventListener('click', (e) => {
        // A. If standard install is available (Android/Chrome)
        if(deferredPrompt) {
            deferredPrompt.prompt();
            deferredPrompt.userChoice.then((choiceResult) => {
                deferredPrompt = null;
                installBtn.style.display = 'none';
            });
        } 
        // B. If iPhone/Safari (Manual Instructions)
        else {
            alert("To install on iPhone/Safari:\n1. Tap the 'Share' button below.\n2. Scroll down and tap 'Add to Home Screen'.");
        }
    });
}

// 3. FORCE BUTTON VISIBILITY FOR IPHONE USERS
// Detect if user is on iOS but not yet installed
const isIOS = /iPad|iPhone|iPod/.test(navigator.userAgent) && !window.MSStream;
const isStandalone = window.matchMedia('(display-mode: standalone)').matches;

if (isIOS && !isStandalone && installBtn) {
    installBtn.style.display = 'block';
    installBtn.innerHTML = '<i class="fab fa-apple"></i> Install on iPhone';
    // Remove the event listener requirement so it shows immediately
}

/* =========================================
   NEW TOOLS & RESOURCES ENGINE (All 4 Features)
   ========================================= */

// --- 1. HIJRI DATE CONVERTER ---
function convertDate() {
    const input = document.getElementById('gregorian-input').value;
    const resBox = document.getElementById('hijri-result');
    
    if(!input) {
        alert("Please select a date first.");
        return;
    }
    
    // Use the browser's native Islamic Calendar converter
    const date = new Date(input);
    const hijri = new Intl.DateTimeFormat('en-TN-u-ca-islamic', {
        day: 'numeric',
        month: 'long',
        year: 'numeric'
    }).format(date);
    
    resBox.style.display = 'block';
    resBox.innerHTML = `
        <span style="font-size:0.8rem; color:rgba(255,255,255,0.7)">Hijri Date:</span><br>
        <span style="font-size:1.2rem; color:var(--brand-gold); font-weight:bold;">${hijri}</span>
    `;
}

// --- 2. LEARN TO PRAY (Accordion Logic) ---
// This script ensures only one section is open at a time (Accordion Style)
document.addEventListener("DOMContentLoaded", () => {
    const details = document.querySelectorAll("details");
    
    details.forEach((targetDetail) => {
        targetDetail.addEventListener("click", () => {
            // Close all others
            details.forEach((detail) => {
                if (detail !== targetDetail) {
                    detail.removeAttribute("open");
                }
            });
        });
    });
});

/* --- THE FULL 40 RABBANA DUAS --- */
const rabbanaDuas = [
    { ref: "2:127", ar: "Ø±ÙŽØ¨ÙŽÙ‘Ù†ÙŽØ§ ØªÙŽÙ‚ÙŽØ¨ÙŽÙ‘Ù„Ù’ Ù…ÙÙ†ÙŽÙ‘Ø§ Û– Ø¥ÙÙ†ÙŽÙ‘ÙƒÙŽ Ø£ÙŽÙ†ØªÙŽ Ø§Ù„Ø³ÙŽÙ‘Ù…ÙÙŠØ¹Ù Ø§Ù„Ù’Ø¹ÙŽÙ„ÙÙŠÙ…Ù", en: "Our Lord, accept [this] from us. Indeed You are the Hearing, the Knowing." },
    { ref: "2:201", ar: "Ø±ÙŽØ¨ÙŽÙ‘Ù†ÙŽØ§ Ø¢ØªÙÙ†ÙŽØ§ ÙÙÙŠ Ø§Ù„Ø¯ÙÙ‘Ù†Ù’ÙŠÙŽØ§ Ø­ÙŽØ³ÙŽÙ†ÙŽØ©Ù‹ ÙˆÙŽÙÙÙŠ Ø§Ù„Ù’Ø¢Ø®ÙØ±ÙŽØ©Ù Ø­ÙŽØ³ÙŽÙ†ÙŽØ©Ù‹ ÙˆÙŽÙ‚ÙÙ†ÙŽØ§ Ø¹ÙŽØ°ÙŽØ§Ø¨ÙŽ Ø§Ù„Ù†ÙŽÙ‘Ø§Ø±Ù", en: "Our Lord, give us in this world good and in the Hereafter good and protect us from the punishment of the Fire." },
    { ref: "2:250", ar: "Ø±ÙŽØ¨ÙŽÙ‘Ù†ÙŽØ§ Ø£ÙŽÙÙ’Ø±ÙØºÙ’ Ø¹ÙŽÙ„ÙŽÙŠÙ’Ù†ÙŽØ§ ØµÙŽØ¨Ù’Ø±Ù‹Ø§ ÙˆÙŽØ«ÙŽØ¨ÙÙ‘ØªÙ’ Ø£ÙŽÙ‚Ù’Ø¯ÙŽØ§Ù…ÙŽÙ†ÙŽØ§ ÙˆÙŽØ§Ù†ØµÙØ±Ù’Ù†ÙŽØ§ Ø¹ÙŽÙ„ÙŽÙ‰ Ø§Ù„Ù’Ù‚ÙŽÙˆÙ’Ù…Ù Ø§Ù„Ù’ÙƒÙŽØ§ÙÙØ±ÙÙŠÙ†ÙŽ", en: "Our Lord, pour upon us patience and plant firmly our feet and give us victory over the disbelieving people." },
    { ref: "2:286", ar: "Ø±ÙŽØ¨ÙŽÙ‘Ù†ÙŽØ§ Ù„ÙŽØ§ ØªÙØ¤ÙŽØ§Ø®ÙØ°Ù’Ù†ÙŽØ§ Ø¥ÙÙ† Ù†ÙŽÙ‘Ø³ÙÙŠÙ†ÙŽØ§ Ø£ÙŽÙˆÙ’ Ø£ÙŽØ®Ù’Ø·ÙŽØ£Ù’Ù†ÙŽØ§", en: "Our Lord, do not impose blame upon us if we have forgotten or erred." },
    { ref: "2:286", ar: "Ø±ÙŽØ¨ÙŽÙ‘Ù†ÙŽØ§ ÙˆÙŽÙ„ÙŽØ§ ØªÙŽØ­Ù’Ù…ÙÙ„Ù’ Ø¹ÙŽÙ„ÙŽÙŠÙ’Ù†ÙŽØ§ Ø¥ÙØµÙ’Ø±Ù‹Ø§ ÙƒÙŽÙ…ÙŽØ§ Ø­ÙŽÙ…ÙŽÙ„Ù’ØªÙŽÙ‡Ù Ø¹ÙŽÙ„ÙŽÙ‰ Ø§Ù„ÙŽÙ‘Ø°ÙÙŠÙ†ÙŽ Ù…ÙÙ† Ù‚ÙŽØ¨Ù’Ù„ÙÙ†ÙŽØ§", en: "Our Lord, and lay not upon us a burden like that which You laid upon those before us." },
    { ref: "2:286", ar: "Ø±ÙŽØ¨ÙŽÙ‘Ù†ÙŽØ§ ÙˆÙŽÙ„ÙŽØ§ ØªÙØ­ÙŽÙ…ÙÙ‘Ù„Ù’Ù†ÙŽØ§ Ù…ÙŽØ§ Ù„ÙŽØ§ Ø·ÙŽØ§Ù‚ÙŽØ©ÙŽ Ù„ÙŽÙ†ÙŽØ§ Ø¨ÙÙ‡Ù Û– ÙˆÙŽØ§Ø¹Ù’ÙÙ Ø¹ÙŽÙ†ÙŽÙ‘Ø§ ÙˆÙŽØ§ØºÙ’ÙÙØ±Ù’ Ù„ÙŽÙ†ÙŽØ§ ÙˆÙŽØ§Ø±Ù’Ø­ÙŽÙ…Ù’Ù†ÙŽØ§", en: "Our Lord, and burden us not with that which we have no ability to bear. And pardon us; and forgive us; and have mercy upon us." },
    { ref: "3:8", ar: "Ø±ÙŽØ¨ÙŽÙ‘Ù†ÙŽØ§ Ù„ÙŽØ§ ØªÙØ²ÙØºÙ’ Ù‚ÙÙ„ÙÙˆØ¨ÙŽÙ†ÙŽØ§ Ø¨ÙŽØ¹Ù’Ø¯ÙŽ Ø¥ÙØ°Ù’ Ù‡ÙŽØ¯ÙŽÙŠÙ’ØªÙŽÙ†ÙŽØ§ ÙˆÙŽÙ‡ÙŽØ¨Ù’ Ù„ÙŽÙ†ÙŽØ§ Ù…ÙÙ† Ù„ÙŽÙ‘Ø¯ÙÙ†ÙƒÙŽ Ø±ÙŽØ­Ù’Ù…ÙŽØ©Ù‹", en: "Our Lord, let not our hearts deviate after You have guided us and grant us from Yourself mercy." },
    { ref: "3:9", ar: "Ø±ÙŽØ¨ÙŽÙ‘Ù†ÙŽØ§ Ø¥ÙÙ†ÙŽÙ‘ÙƒÙŽ Ø¬ÙŽØ§Ù…ÙØ¹Ù Ø§Ù„Ù†ÙŽÙ‘Ø§Ø³Ù Ù„ÙÙŠÙŽÙˆÙ’Ù…Ù Ù„ÙŽÙ‘Ø§ Ø±ÙŽÙŠÙ’Ø¨ÙŽ ÙÙÙŠÙ‡Ù Ûš Ø¥ÙÙ†ÙŽÙ‘ Ø§Ù„Ù„ÙŽÙ‘Ù‡ÙŽ Ù„ÙŽØ§ ÙŠÙØ®Ù’Ù„ÙÙÙ Ø§Ù„Ù’Ù…ÙÙŠØ¹ÙŽØ§Ø¯ÙŽ", en: "Our Lord, surely You will gather the people for a Day about which there is no doubt." },
    { ref: "3:16", ar: "Ø±ÙŽØ¨ÙŽÙ‘Ù†ÙŽØ§ Ø¥ÙÙ†ÙŽÙ‘Ù†ÙŽØ§ Ø¢Ù…ÙŽÙ†ÙŽÙ‘Ø§ ÙÙŽØ§ØºÙ’ÙÙØ±Ù’ Ù„ÙŽÙ†ÙŽØ§ Ø°ÙÙ†ÙÙˆØ¨ÙŽÙ†ÙŽØ§ ÙˆÙŽÙ‚ÙÙ†ÙŽØ§ Ø¹ÙŽØ°ÙŽØ§Ø¨ÙŽ Ø§Ù„Ù†ÙŽÙ‘Ø§Ø±Ù", en: "Our Lord, indeed we have believed, so forgive us our sins and protect us from the punishment of the Fire." },
    { ref: "3:53", ar: "Ø±ÙŽØ¨ÙŽÙ‘Ù†ÙŽØ§ Ø¢Ù…ÙŽÙ†ÙŽÙ‘Ø§ Ø¨ÙÙ…ÙŽØ§ Ø£ÙŽÙ†Ø²ÙŽÙ„Ù’ØªÙŽ ÙˆÙŽØ§ØªÙŽÙ‘Ø¨ÙŽØ¹Ù’Ù†ÙŽØ§ Ø§Ù„Ø±ÙŽÙ‘Ø³ÙÙˆÙ„ÙŽ ÙÙŽØ§ÙƒÙ’ØªÙØ¨Ù’Ù†ÙŽØ§ Ù…ÙŽØ¹ÙŽ Ø§Ù„Ø´ÙŽÙ‘Ø§Ù‡ÙØ¯ÙÙŠÙ†ÙŽ", en: "Our Lord, we have believed in what You revealed and have followed the messenger, so register us among the witnesses." },
    { ref: "3:147", ar: "Ø±ÙŽØ¨ÙŽÙ‘Ù†ÙŽØ§ Ø§ØºÙ’ÙÙØ±Ù’ Ù„ÙŽÙ†ÙŽØ§ Ø°ÙÙ†ÙÙˆØ¨ÙŽÙ†ÙŽØ§ ÙˆÙŽØ¥ÙØ³Ù’Ø±ÙŽØ§ÙÙŽÙ†ÙŽØ§ ÙÙÙŠ Ø£ÙŽÙ…Ù’Ø±ÙÙ†ÙŽØ§ ÙˆÙŽØ«ÙŽØ¨ÙÙ‘ØªÙ’ Ø£ÙŽÙ‚Ù’Ø¯ÙŽØ§Ù…ÙŽÙ†ÙŽØ§", en: "Our Lord, forgive us our sins and the excess in our affairs and plant firmly our feet." },
    { ref: "3:191", ar: "Ø±ÙŽØ¨ÙŽÙ‘Ù†ÙŽØ§ Ù…ÙŽØ§ Ø®ÙŽÙ„ÙŽÙ‚Ù’ØªÙŽ Ù‡ÙŽÙ°Ø°ÙŽØ§ Ø¨ÙŽØ§Ø·ÙÙ„Ù‹Ø§ Ø³ÙØ¨Ù’Ø­ÙŽØ§Ù†ÙŽÙƒÙŽ ÙÙŽÙ‚ÙÙ†ÙŽØ§ Ø¹ÙŽØ°ÙŽØ§Ø¨ÙŽ Ø§Ù„Ù†ÙŽÙ‘Ø§Ø±Ù", en: "Our Lord, You did not create this aimlessly; exalted are You; then protect us from the punishment of the Fire." },
    { ref: "3:192", ar: "Ø±ÙŽØ¨ÙŽÙ‘Ù†ÙŽØ§ Ø¥ÙÙ†ÙŽÙ‘ÙƒÙŽ Ù…ÙŽÙ† ØªÙØ¯Ù’Ø®ÙÙ„Ù Ø§Ù„Ù†ÙŽÙ‘Ø§Ø±ÙŽ ÙÙŽÙ‚ÙŽØ¯Ù’ Ø£ÙŽØ®Ù’Ø²ÙŽÙŠÙ’ØªÙŽÙ‡Ù Û– ÙˆÙŽÙ…ÙŽØ§ Ù„ÙÙ„Ø¸ÙŽÙ‘Ø§Ù„ÙÙ…ÙÙŠÙ†ÙŽ Ù…ÙÙ†Ù’ Ø£ÙŽÙ†ØµÙŽØ§Ø±Ù", en: "Our Lord, indeed whoever You admit to the Fire - You have disgraced him, and for the wrongdoers there are no helpers." },
    { ref: "3:193", ar: "Ø±ÙŽØ¨ÙŽÙ‘Ù†ÙŽØ§ Ø¥ÙÙ†ÙŽÙ‘Ù†ÙŽØ§ Ø³ÙŽÙ…ÙØ¹Ù’Ù†ÙŽØ§ Ù…ÙÙ†ÙŽØ§Ø¯ÙÙŠÙ‹Ø§ ÙŠÙÙ†ÙŽØ§Ø¯ÙÙŠ Ù„ÙÙ„Ù’Ø¥ÙÙŠÙ…ÙŽØ§Ù†Ù Ø£ÙŽÙ†Ù’ Ø¢Ù…ÙÙ†ÙÙˆØ§ Ø¨ÙØ±ÙŽØ¨ÙÙ‘ÙƒÙÙ…Ù’ ÙÙŽØ¢Ù…ÙŽÙ†ÙŽÙ‘Ø§", en: "Our Lord, indeed we have heard a caller calling to faith... so we have believed." },
    { ref: "3:194", ar: "Ø±ÙŽØ¨ÙŽÙ‘Ù†ÙŽØ§ ÙˆÙŽØ¢ØªÙÙ†ÙŽØ§ Ù…ÙŽØ§ ÙˆÙŽØ¹ÙŽØ¯ØªÙŽÙ‘Ù†ÙŽØ§ Ø¹ÙŽÙ„ÙŽÙ‰Ù° Ø±ÙØ³ÙÙ„ÙÙƒÙŽ ÙˆÙŽÙ„ÙŽØ§ ØªÙØ®Ù’Ø²ÙÙ†ÙŽØ§ ÙŠÙŽÙˆÙ’Ù…ÙŽ Ø§Ù„Ù’Ù‚ÙÙŠÙŽØ§Ù…ÙŽØ©Ù", en: "Our Lord, and grant us what You promised us through Your messengers and do not disgrace us on the Day of Resurrection." },
    { ref: "5:83", ar: "Ø±ÙŽØ¨ÙŽÙ‘Ù†ÙŽØ§ Ø¢Ù…ÙŽÙ†ÙŽÙ‘Ø§ ÙÙŽØ§ÙƒÙ’ØªÙØ¨Ù’Ù†ÙŽØ§ Ù…ÙŽØ¹ÙŽ Ø§Ù„Ø´ÙŽÙ‘Ø§Ù‡ÙØ¯ÙÙŠÙ†ÙŽ", en: "Our Lord, we have believed, so register us among the witnesses." },
    { ref: "7:23", ar: "Ø±ÙŽØ¨ÙŽÙ‘Ù†ÙŽØ§ Ø¸ÙŽÙ„ÙŽÙ…Ù’Ù†ÙŽØ§ Ø£ÙŽÙ†ÙÙØ³ÙŽÙ†ÙŽØ§ ÙˆÙŽØ¥ÙÙ† Ù„ÙŽÙ‘Ù…Ù’ ØªÙŽØºÙ’ÙÙØ±Ù’ Ù„ÙŽÙ†ÙŽØ§ ÙˆÙŽØªÙŽØ±Ù’Ø­ÙŽÙ…Ù’Ù†ÙŽØ§ Ù„ÙŽÙ†ÙŽÙƒÙÙˆÙ†ÙŽÙ†ÙŽÙ‘ Ù…ÙÙ†ÙŽ Ø§Ù„Ù’Ø®ÙŽØ§Ø³ÙØ±ÙÙŠÙ†ÙŽ", en: "Our Lord, we have wronged ourselves, and if You do not forgive us and have mercy upon us, we will surely be among the losers." },
    { ref: "7:47", ar: "Ø±ÙŽØ¨ÙŽÙ‘Ù†ÙŽØ§ Ù„ÙŽØ§ ØªÙŽØ¬Ù’Ø¹ÙŽÙ„Ù’Ù†ÙŽØ§ Ù…ÙŽØ¹ÙŽ Ø§Ù„Ù’Ù‚ÙŽÙˆÙ’Ù…Ù Ø§Ù„Ø¸ÙŽÙ‘Ø§Ù„ÙÙ…ÙÙŠÙ†ÙŽ", en: "Our Lord, do not place us with the wrongdoing people." },
    { ref: "7:89", ar: "Ø±ÙŽØ¨ÙŽÙ‘Ù†ÙŽØ§ Ø§ÙÙ’ØªÙŽØ­Ù’ Ø¨ÙŽÙŠÙ’Ù†ÙŽÙ†ÙŽØ§ ÙˆÙŽØ¨ÙŽÙŠÙ’Ù†ÙŽ Ù‚ÙŽÙˆÙ’Ù…ÙÙ†ÙŽØ§ Ø¨ÙØ§Ù„Ù’Ø­ÙŽÙ‚ÙÙ‘ ÙˆÙŽØ£ÙŽÙ†ØªÙŽ Ø®ÙŽÙŠÙ’Ø±Ù Ø§Ù„Ù’ÙÙŽØ§ØªÙØ­ÙÙŠÙ†ÙŽ", en: "Our Lord, decide between us and our people in truth, and You are the best of those who give decision." },
    { ref: "7:126", ar: "Ø±ÙŽØ¨ÙŽÙ‘Ù†ÙŽØ§ Ø£ÙŽÙÙ’Ø±ÙØºÙ’ Ø¹ÙŽÙ„ÙŽÙŠÙ’Ù†ÙŽØ§ ØµÙŽØ¨Ù’Ø±Ù‹Ø§ ÙˆÙŽØªÙŽÙˆÙŽÙÙŽÙ‘Ù†ÙŽØ§ Ù…ÙØ³Ù’Ù„ÙÙ…ÙÙŠÙ†ÙŽ", en: "Our Lord, pour upon us patience and let us die as Muslims." },
    { ref: "10:85", ar: "Ø±ÙŽØ¨ÙŽÙ‘Ù†ÙŽØ§ Ù„ÙŽØ§ ØªÙŽØ¬Ù’Ø¹ÙŽÙ„Ù’Ù†ÙŽØ§ ÙÙØªÙ’Ù†ÙŽØ©Ù‹ Ù„ÙÙ‘Ù„Ù’Ù‚ÙŽÙˆÙ’Ù…Ù Ø§Ù„Ø¸ÙŽÙ‘Ø§Ù„ÙÙ…ÙÙŠÙ†ÙŽ", en: "Our Lord, make us not [objects of] trial for the wrongdoing people." },
    { ref: "10:86", ar: "ÙˆÙŽÙ†ÙŽØ¬ÙÙ‘Ù†ÙŽØ§ Ø¨ÙØ±ÙŽØ­Ù’Ù…ÙŽØªÙÙƒÙŽ Ù…ÙÙ†ÙŽ Ø§Ù„Ù’Ù‚ÙŽÙˆÙ’Ù…Ù Ø§Ù„Ù’ÙƒÙŽØ§ÙÙØ±ÙÙŠÙ†ÙŽ", en: "And save us by Your mercy from the disbelieving people." },
    { ref: "14:38", ar: "Ø±ÙŽØ¨ÙŽÙ‘Ù†ÙŽØ§ Ø¥ÙÙ†ÙŽÙ‘ÙƒÙŽ ØªÙŽØ¹Ù’Ù„ÙŽÙ…Ù Ù…ÙŽØ§ Ù†ÙØ®Ù’ÙÙÙŠ ÙˆÙŽÙ…ÙŽØ§ Ù†ÙØ¹Ù’Ù„ÙÙ†Ù Û— ÙˆÙŽÙ…ÙŽØ§ ÙŠÙŽØ®Ù’ÙÙŽÙ‰Ù° Ø¹ÙŽÙ„ÙŽÙ‰ Ø§Ù„Ù„ÙŽÙ‘Ù‡Ù Ù…ÙÙ† Ø´ÙŽÙŠÙ’Ø¡Ù", en: "Our Lord, indeed You know what we conceal and what we declare." },
    { ref: "14:40", ar: "Ø±ÙŽØ¨ÙÙ‘ Ø§Ø¬Ù’Ø¹ÙŽÙ„Ù’Ù†ÙÙŠ Ù…ÙÙ‚ÙÙŠÙ…ÙŽ Ø§Ù„ØµÙŽÙ‘Ù„ÙŽØ§Ø©Ù ÙˆÙŽÙ…ÙÙ† Ø°ÙØ±ÙÙ‘ÙŠÙŽÙ‘ØªÙÙŠ Ûš Ø±ÙŽØ¨ÙŽÙ‘Ù†ÙŽØ§ ÙˆÙŽØªÙŽÙ‚ÙŽØ¨ÙŽÙ‘Ù„Ù’ Ø¯ÙØ¹ÙŽØ§Ø¡Ù", en: "My Lord, make me an establisher of prayer, and [many] from my descendants. Our Lord, and accept my supplication." },
    { ref: "14:41", ar: "Ø±ÙŽØ¨ÙŽÙ‘Ù†ÙŽØ§ Ø§ØºÙ’ÙÙØ±Ù’ Ù„ÙÙŠ ÙˆÙŽÙ„ÙÙˆÙŽØ§Ù„ÙØ¯ÙŽÙŠÙŽÙ‘ ÙˆÙŽÙ„ÙÙ„Ù’Ù…ÙØ¤Ù’Ù…ÙÙ†ÙÙŠÙ†ÙŽ ÙŠÙŽÙˆÙ’Ù…ÙŽ ÙŠÙŽÙ‚ÙÙˆÙ…Ù Ø§Ù„Ù’Ø­ÙØ³ÙŽØ§Ø¨Ù", en: "Our Lord, forgive me and my parents and the believers the Day the account is established." },
    { ref: "18:10", ar: "Ø±ÙŽØ¨ÙŽÙ‘Ù†ÙŽØ§ Ø¢ØªÙÙ†ÙŽØ§ Ù…ÙÙ† Ù„ÙŽÙ‘Ø¯ÙÙ†ÙƒÙŽ Ø±ÙŽØ­Ù’Ù…ÙŽØ©Ù‹ ÙˆÙŽÙ‡ÙŽÙŠÙÙ‘Ø¦Ù’ Ù„ÙŽÙ†ÙŽØ§ Ù…ÙÙ†Ù’ Ø£ÙŽÙ…Ù’Ø±ÙÙ†ÙŽØ§ Ø±ÙŽØ´ÙŽØ¯Ù‹Ø§", en: "Our Lord, grant us from Yourself mercy and prepare for us from our affair right guidance." },
    { ref: "20:45", ar: "Ø±ÙŽØ¨ÙŽÙ‘Ù†ÙŽØ§ Ø¥ÙÙ†ÙŽÙ‘Ù†ÙŽØ§ Ù†ÙŽØ®ÙŽØ§ÙÙ Ø£ÙŽÙ† ÙŠÙŽÙÙ’Ø±ÙØ·ÙŽ Ø¹ÙŽÙ„ÙŽÙŠÙ’Ù†ÙŽØ§ Ø£ÙŽÙˆÙ’ Ø£ÙŽÙ† ÙŠÙŽØ·Ù’ØºÙŽÙ‰Ù°", en: "Our Lord, indeed we are afraid that he will hasten [punishment] against us or that he will transgress." },
    { ref: "23:109", ar: "Ø±ÙŽØ¨ÙŽÙ‘Ù†ÙŽØ§ Ø¢Ù…ÙŽÙ†ÙŽÙ‘Ø§ ÙÙŽØ§ØºÙ’ÙÙØ±Ù’ Ù„ÙŽÙ†ÙŽØ§ ÙˆÙŽØ§Ø±Ù’Ø­ÙŽÙ…Ù’Ù†ÙŽØ§ ÙˆÙŽØ£ÙŽÙ†ØªÙŽ Ø®ÙŽÙŠÙ’Ø±Ù Ø§Ù„Ø±ÙŽÙ‘Ø§Ø­ÙÙ…ÙÙŠÙ†ÙŽ", en: "Our Lord, we have believed, so forgive us and have mercy upon us, and You are the best of the merciful." },
    { ref: "25:65", ar: "Ø±ÙŽØ¨ÙŽÙ‘Ù†ÙŽØ§ Ø§ØµÙ’Ø±ÙÙÙ’ Ø¹ÙŽÙ†ÙŽÙ‘Ø§ Ø¹ÙŽØ°ÙŽØ§Ø¨ÙŽ Ø¬ÙŽÙ‡ÙŽÙ†ÙŽÙ‘Ù…ÙŽ Û– Ø¥ÙÙ†ÙŽÙ‘ Ø¹ÙŽØ°ÙŽØ§Ø¨ÙŽÙ‡ÙŽØ§ ÙƒÙŽØ§Ù†ÙŽ ØºÙŽØ±ÙŽØ§Ù…Ù‹Ø§", en: "Our Lord, avert from us the punishment of Hell. Indeed, its punishment is ever adhering." },
    { ref: "25:74", ar: "Ø±ÙŽØ¨ÙŽÙ‘Ù†ÙŽØ§ Ù‡ÙŽØ¨Ù’ Ù„ÙŽÙ†ÙŽØ§ Ù…ÙÙ†Ù’ Ø£ÙŽØ²Ù’ÙˆÙŽØ§Ø¬ÙÙ†ÙŽØ§ ÙˆÙŽØ°ÙØ±ÙÙ‘ÙŠÙŽÙ‘Ø§ØªÙÙ†ÙŽØ§ Ù‚ÙØ±ÙŽÙ‘Ø©ÙŽ Ø£ÙŽØ¹Ù’ÙŠÙÙ†Ù ÙˆÙŽØ§Ø¬Ù’Ø¹ÙŽÙ„Ù’Ù†ÙŽØ§ Ù„ÙÙ„Ù’Ù…ÙØªÙŽÙ‘Ù‚ÙÙŠÙ†ÙŽ Ø¥ÙÙ…ÙŽØ§Ù…Ù‹Ø§", en: "Our Lord, grant us from among our wives and offspring comfort to our eyes and make us an example for the righteous." },
    { ref: "40:7", ar: "Ø±ÙŽØ¨ÙŽÙ‘Ù†ÙŽØ§ ÙˆÙŽØ³ÙØ¹Ù’ØªÙŽ ÙƒÙÙ„ÙŽÙ‘ Ø´ÙŽÙŠÙ’Ø¡Ù Ø±ÙŽÙ‘Ø­Ù’Ù…ÙŽØ©Ù‹ ÙˆÙŽØ¹ÙÙ„Ù’Ù…Ù‹Ø§ ÙÙŽØ§ØºÙ’ÙÙØ±Ù’ Ù„ÙÙ„ÙŽÙ‘Ø°ÙÙŠÙ†ÙŽ ØªÙŽØ§Ø¨ÙÙˆØ§ ÙˆÙŽØ§ØªÙŽÙ‘Ø¨ÙŽØ¹ÙÙˆØ§ Ø³ÙŽØ¨ÙÙŠÙ„ÙŽÙƒÙŽ", en: "Our Lord, You have encompassed all things in mercy and knowledge, so forgive those who have repented and followed Your way." },
    { ref: "40:8", ar: "Ø±ÙŽØ¨ÙŽÙ‘Ù†ÙŽØ§ ÙˆÙŽØ£ÙŽØ¯Ù’Ø®ÙÙ„Ù’Ù‡ÙÙ…Ù’ Ø¬ÙŽÙ†ÙŽÙ‘Ø§ØªÙ Ø¹ÙŽØ¯Ù’Ù†Ù", en: "Our Lord, and admit them to gardens of perpetual residence." },
    { ref: "59:10", ar: "Ø±ÙŽØ¨ÙŽÙ‘Ù†ÙŽØ§ Ø§ØºÙ’ÙÙØ±Ù’ Ù„ÙŽÙ†ÙŽØ§ ÙˆÙŽÙ„ÙØ¥ÙØ®Ù’ÙˆÙŽØ§Ù†ÙÙ†ÙŽØ§ Ø§Ù„ÙŽÙ‘Ø°ÙÙŠÙ†ÙŽ Ø³ÙŽØ¨ÙŽÙ‚ÙÙˆÙ†ÙŽØ§ Ø¨ÙØ§Ù„Ù’Ø¥ÙÙŠÙ…ÙŽØ§Ù†Ù", en: "Our Lord, forgive us and our brothers who preceded us in faith." },
    { ref: "60:4", ar: "Ø±ÙŽØ¨ÙŽÙ‘Ù†ÙŽØ§ Ø¹ÙŽÙ„ÙŽÙŠÙ’ÙƒÙŽ ØªÙŽÙˆÙŽÙƒÙŽÙ‘Ù„Ù’Ù†ÙŽØ§ ÙˆÙŽØ¥ÙÙ„ÙŽÙŠÙ’ÙƒÙŽ Ø£ÙŽÙ†ÙŽØ¨Ù’Ù†ÙŽØ§ ÙˆÙŽØ¥ÙÙ„ÙŽÙŠÙ’ÙƒÙŽ Ø§Ù„Ù’Ù…ÙŽØµÙÙŠØ±Ù", en: "Our Lord, upon You we have relied, and to You we have returned, and to You is the destination." },
    { ref: "60:5", ar: "Ø±ÙŽØ¨ÙŽÙ‘Ù†ÙŽØ§ Ù„ÙŽØ§ ØªÙŽØ¬Ù’Ø¹ÙŽÙ„Ù’Ù†ÙŽØ§ ÙÙØªÙ’Ù†ÙŽØ©Ù‹ Ù„ÙÙ‘Ù„ÙŽÙ‘Ø°ÙÙŠÙ†ÙŽ ÙƒÙŽÙÙŽØ±ÙÙˆØ§ ÙˆÙŽØ§ØºÙ’ÙÙØ±Ù’ Ù„ÙŽÙ†ÙŽØ§ Ø±ÙŽØ¨ÙŽÙ‘Ù†ÙŽØ§", en: "Our Lord, make us not [objects of] torment for the disbelievers and forgive us, our Lord." },
    { ref: "66:8", ar: "Ø±ÙŽØ¨ÙŽÙ‘Ù†ÙŽØ§ Ø£ÙŽØªÙ’Ù…ÙÙ…Ù’ Ù„ÙŽÙ†ÙŽØ§ Ù†ÙÙˆØ±ÙŽÙ†ÙŽØ§ ÙˆÙŽØ§ØºÙ’ÙÙØ±Ù’ Ù„ÙŽÙ†ÙŽØ§ Û– Ø¥ÙÙ†ÙŽÙ‘ÙƒÙŽ Ø¹ÙŽÙ„ÙŽÙ‰Ù° ÙƒÙÙ„ÙÙ‘ Ø´ÙŽÙŠÙ’Ø¡Ù Ù‚ÙŽØ¯ÙÙŠØ±ÙŒ", en: "Our Lord, perfect for us our light and forgive us. Indeed, You are over all things competent." },
    { ref: "60:12", ar: "Ø±ÙŽØ¨ÙŽÙ‘Ù†ÙŽØ§ Ø¨ÙŽØ§Ø¹ÙØ¯Ù’ Ø¨ÙŽÙŠÙ’Ù†ÙŽ Ø£ÙŽØ³Ù’ÙÙŽØ§Ø±ÙÙ†ÙŽØ§", en: "(Dua for travel distance - Sab'a) Our Lord, lengthen the distance between our journeys." },
    { ref: "2:128", ar: "Ø±ÙŽØ¨ÙŽÙ‘Ù†ÙŽØ§ ÙˆÙŽØ§Ø¬Ù’Ø¹ÙŽÙ„Ù’Ù†ÙŽØ§ Ù…ÙØ³Ù’Ù„ÙÙ…ÙŽÙŠÙ’Ù†Ù Ù„ÙŽÙƒÙŽ ÙˆÙŽÙ…ÙÙ† Ø°ÙØ±ÙÙ‘ÙŠÙŽÙ‘ØªÙÙ†ÙŽØ§ Ø£ÙÙ…ÙŽÙ‘Ø©Ù‹ Ù…ÙÙ‘Ø³Ù’Ù„ÙÙ…ÙŽØ©Ù‹ Ù„ÙŽÙ‘ÙƒÙŽ", en: "Our Lord, and make us Muslims [in submission] to You and from our descendants a Muslim nation." },
    { ref: "23:118", ar: "Ø±ÙŽØ¨ÙÙ‘ Ø§ØºÙ’ÙÙØ±Ù’ ÙˆÙŽØ§Ø±Ù’Ø­ÙŽÙ…Ù’ ÙˆÙŽØ£ÙŽÙ†ØªÙŽ Ø®ÙŽÙŠÙ’Ø±Ù Ø§Ù„Ø±ÙŽÙ‘Ø§Ø­ÙÙ…ÙÙŠÙ†ÙŽ", en: "My Lord, forgive and have mercy, and You are the best of the merciful." },
    { ref: "111:1", ar: "Ø±ÙŽØ¨ÙŽÙ‘Ù†ÙŽØ§ ØªÙŽÙ‚ÙŽØ¨ÙŽÙ‘Ù„Ù’ Ù…ÙÙ†ÙŽÙ‘Ø§", en: "Our Lord, accept from us." }
];

function loadRabbana() {
    const container = document.getElementById('rabbana-container');
    if(!container) return;
    
    container.innerHTML = rabbanaDuas.map(d => `
        <div class="rabbana-card">
            <div class="rabbana-arabic">${d.ar}</div>
            <div style="font-size:0.9rem; color:#fff; margin-bottom:10px;">${d.en}</div>
            <div class="rabbana-ref" style="border-top:1px solid rgba(255,255,255,0.1); padding-top:5px; margin-top:5px;">
                <i class="fas fa-book-open" style="color:var(--brand-gold); font-size:0.7rem;"></i> Surah ${d.ref}
            </div>
        </div>
    `).join('');
}

// --- 4. HYBRID E-CODE CHECKER (With EXPANDED DATABASE) ---

// ðŸ”´ THE MASTER LIST (50+ Codes)
const criticalCodes = {
    // --- ðŸ”´ HARAM (Definitely Avoid) ---
    "e120": { status: "Haram", reason: "Cochineal (Crushed Insects). Used in red food dye." },
    "e441": { status: "Haram", reason: "Gelatin (Animal Bone/Skin). Usually pork or non-zabiha beef." },
    "e542": { status: "Haram", reason: "Edible Bone Phosphate (Animal Bones)." },
    "e904": { status: "Haram", reason: "Shellac (Insect Secretion). Used in glazing candy/fruit." },
    "e920": { status: "Haram", reason: "L-Cysteine (Human Hair/Duck Feathers). Used in bread/dough." },
    "e921": { status: "Haram", reason: "L-Cystine (Animal Hair/Feathers)." },
    
    // --- ðŸŸ¡ MUSHBOOH (Doubtful - Check Source) ---
    "e422": { status: "Mushbooh", reason: "Glycerol. Can be from Animal Fat or Plant Oil." },
    "e470": { status: "Mushbooh", reason: "Fatty Acid Salts. Source can be animal or plant." },
    "e471": { status: "Mushbooh", reason: "Mono- and Diglycerides. Very common. Check for 'Vegetable' label." },
    "e472": { status: "Mushbooh", reason: "Esters of Glycerides. Needs verification of source." },
    "e472e": { status: "Mushbooh", reason: "DATEM. Common in baking. Check source." },
    "e473": { status: "Mushbooh", reason: "Sucrose Esters. Made from fatty acids (Animal/Plant)." },
    "e474": { status: "Mushbooh", reason: "Sucroglycerides. Animal or Plant fat source." },
    "e475": { status: "Mushbooh", reason: "Polyglycerol Esters. Check source." },
    "e476": { status: "Mushbooh", reason: "PGPR. Used in chocolate. Usually plant-based but check label." },
    "e481": { status: "Mushbooh", reason: "Stearoyl-2-lactylate. Can be animal fat derived." },
    "e482": { status: "Mushbooh", reason: "Calcium Stearoyl Lactylate. Check source." },
    "e483": { status: "Mushbooh", reason: "Stearyl Tartrate. Check source." },
    "e491": { status: "Mushbooh", reason: "Sorbitan Monostearate. Check source." },
    "e492": { status: "Mushbooh", reason: "Sorbitan Tristearate. Check source." },
    "e570": { status: "Mushbooh", reason: "Stearic Acid. Fatty acid. Often animal derived." },
    "e572": { status: "Mushbooh", reason: "Magnesium Stearate. Check source." },
    "e430": { status: "Mushbooh", reason: "Polyoxyethylene Stearate. Check source." },
    "e431": { status: "Mushbooh", reason: "Polyoxyethylene Stearate. Check source." },

    // --- ðŸŸ¢ HALAL (Safe / Plant / Mineral / Synthetic) ---
    "e100": { status: "Halal", reason: "Curcumin (Turmeric Extract)." },
    "e101": { status: "Halal", reason: "Riboflavin (Vitamin B2)." },
    "e133": { status: "Halal", reason: "Brilliant Blue (Synthetic)." },
    "e140": { status: "Halal", reason: "Chlorophyll (Plant pigment)." },
    "e141": { status: "Halal", reason: "Copper complexes of Chlorophyll." },
    "e150": { status: "Halal", reason: "Caramel Color (Burnt Sugar)." },
    "e160a": { status: "Halal", reason: "Carotene (Plant extract)." },
    "e162": { status: "Halal", reason: "Beetroot Red (Beet extract)." },
    "e171": { status: "Halal", reason: "Titanium Dioxide (Mineral Whitener)." },
    "e200": { status: "Halal", reason: "Sorbic Acid (Preservative)." },
    "e202": { status: "Halal", reason: "Potassium Sorbate (Preservative)." },
    "e211": { status: "Halal", reason: "Sodium Benzoate (Preservative)." },
    "e260": { status: "Halal", reason: "Acetic Acid (Vinegar)." },
    "e270": { status: "Halal", reason: "Lactic Acid (Microbial fermentation)." },
    "e296": { status: "Halal", reason: "Malic Acid (Found in apples)." },
    "e300": { status: "Halal", reason: "Ascorbic Acid (Vitamin C)." },
    "e322": { status: "Halal", reason: "Lecithin (Usually Soy or Sunflower)." },
    "e330": { status: "Halal", reason: "Citric Acid (Citrus fruit derivative)." },
    "e406": { status: "Halal", reason: "Agar (Seaweed extract). Gelatin alternative." },
    "e407": { status: "Halal", reason: "Carrageenan (Seaweed extract)." },
    "e410": { status: "Halal", reason: "Locust Bean Gum (Carob seeds)." },
    "e412": { status: "Halal", reason: "Guar Gum (Guar beans)." },
    "e414": { status: "Halal", reason: "Acacia Gum (Tree sap)." },
    "e415": { status: "Halal", reason: "Xanthan Gum (Fermented sugar)." },
    "e440": { status: "Halal", reason: "Pectin (Fruit peel)." },
    "e951": { status: "Halal", reason: "Aspartame (Sweetener)." },
    "e955": { status: "Halal", reason: "Sucralose (Splenda/Sweetener)." }
};

// THE SCANNER LOGIC
async function checkEcodeAPI() {
    const input = document.getElementById('ecode-input');
    const resBox = document.getElementById('ecode-result');
    const loading = document.getElementById('api-loading');
    
    let code = input.value.toLowerCase().trim();
    if(!code) return;
    if(!code.startsWith('e')) code = 'e' + code; // Auto add 'e'

    resBox.style.display = 'none';
    if(loading) loading.style.display = 'block';

    // 1. CHECK LOCAL LIST FIRST (Instant Result)
    if (criticalCodes[code]) {
        showResult(code, criticalCodes[code].status, criticalCodes[code].reason);
        if(loading) loading.style.display = 'none';
        return;
    }

    // 2. IF NOT IN LOCAL, ASK OPEN FOOD FACTS API
    try {
        const response = await fetch(`https://world.openfoodfacts.org/api/v2/additive/${code}`);
        
        if (!response.ok) throw new Error("Not found");
        
        const data = await response.json();
        
        // If data is empty or code not found
        if (!data || !data.code) {
            showResult(code, "Unknown", "Code not found in database. Please verify label.");
        } else {
            // Logic to guess status based on API data
            let status = "Halal (Likely)";
            let desc = data.wiki_data?.en?.wiki_extract || "A common food additive.";
            
            // Keyword Analysis
            if (desc.toLowerCase().includes("pork") || desc.toLowerCase().includes("pig")) status = "Haram";
            if (desc.toLowerCase().includes("animal") || desc.toLowerCase().includes("insect")) status = "Mushbooh";

            showResult(code, status, desc.substring(0, 100) + "..."); 
        }

    } catch (e) {
        showResult(code, "Unknown", "Could not verify. Check internet connection.");
    } finally {
        if(loading) loading.style.display = 'none';
    }
}

function showResult(code, status, reason) {
    const resBox = document.getElementById('ecode-result');
    resBox.style.display = 'block';
    resBox.className = 'ecode-result'; // Reset class

    // Color Coding
    if(status.toLowerCase().includes("haram")) resBox.classList.add('ecode-haram');
    else if(status.toLowerCase().includes("mushbooh")) resBox.classList.add('ecode-mushbooh');
    else if(status.toLowerCase().includes("halal")) resBox.classList.add('ecode-halal');

    resBox.innerHTML = `
        <span style="font-size:1.2rem; display:block; margin-bottom:5px;">${code.toUpperCase()}</span>
        <strong style="text-transform:uppercase;">${status}</strong><br>
        <span style="font-size:0.9rem; font-weight:normal;">${reason}</span>
    `;
}

// --- INITIALIZE NEW FEATURES ---
document.addEventListener('DOMContentLoaded', () => {
    loadRabbana();
});

function switchInspiration(category, btn) {
    // 1. Hide all content blocks
    document.querySelectorAll('.insp-content').forEach(content => {
        content.classList.remove('active');
    });

    // 2. Remove active state from all buttons
    document.querySelectorAll('.insp-tab-btn').forEach(b => {
        b.classList.remove('active');
    });

    // 3. Show selected content and activate button
    document.getElementById('tab-' + category).classList.add('active');
    btn.classList.add('active');

    // 4. Haptic Feedback
    if(navigator.vibrate) navigator.vibrate(15);
}

    </script>
    <script>
    // This runs independently to guarantee the screen clears
    window.onload = function() {
        setTimeout(function() {
            var screen = document.getElementById('bismillah-screen');
            if (screen) {
                screen.style.opacity = '0';
                setTimeout(function() { 
                    screen.style.display = 'none'; 
                }, 1500);
            }
        }, 1500); // Wait 1.5s then fade
    };
</script>
</body>
</html>
